<!DOCTYPE html>
<!-- saved from url=(0124)https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code -->
<html lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link rel="apple-touch-icon" sizes="180x180" href="https://www.digitalocean.com/_next/static/media/apple-touch-icon.d7edaa01.png"><link rel="icon" sizes="192x192" href="https://www.digitalocean.com/_next/static/media/android-chrome-192x192.f09059d8.png"><link rel="icon" sizes="512x512" href="https://www.digitalocean.com/_next/static/media/android-chrome-512x512.5f2e6221.png"><link rel="icon" type="image/png" sizes="32x32" href="https://www.digitalocean.com/_next/static/media/favicon-32x32.b7ef9ede.png"><link rel="icon" type="image/png" sizes="16x16" href="https://www.digitalocean.com/_next/static/media/favicon-16x16.71c34517.png"><link rel="icon" type="image/x-icon" href="https://www.digitalocean.com/_next/static/media/favicon.594d6067.ico"><meta name="viewport" content="minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="/_next/static/media/social-share-default.e8530e9e.jpeg"><meta property="og:type" content="website"><meta property="og:image" content="/_next/static/media/social-share-default.e8530e9e.jpeg"><title>How To Automate Jenkins Setup with Docker and Jenkins Configuration as Code  | DigitalOcean</title><meta name="description" content="Jenkins uses a pluggable architecture to provide most of its functionality. JCasC makes use of the Configuration as Code plugin, which allows you to define t… "><meta name="twitter:title" content="How To Automate Jenkins Setup with Docker and Jenkins Configuration as Code  | DigitalOcean"><meta name="twitter:description" content="Jenkins uses a pluggable architecture to provide most of its functionality. JCasC makes use of the Configuration as Code plugin, which allows you to define t… "><meta name="og:title" content="How To Automate Jenkins Setup with Docker and Jenkins Configuration as Code  | DigitalOcean"><meta name="og:description" content="Jenkins uses a pluggable architecture to provide most of its functionality. JCasC makes use of the Configuration as Code plugin, which allows you to define t… "><meta property="og:type" content="article"><link rel="canonical" href="https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","name":"How To Automate Jenkins Setup with Docker and Jenkins Configuration as Code","headline":"How To Automate Jenkins Setup with Docker and Jenkins Configuration as Code","alternativeHeadline":"How To Automate Jenkins Setup with Docker and Jenkins Configuration as Code","description":"Jenkins uses a pluggable architecture to provide most of its functionality. JCasC makes use of the Configuration as Code plugin, which allows you to define the desired state of your Jenkins configuration as one or more YAML file(s), eliminating the need for the setup wizard. In this tutorial, you will automate the installation and configuration of Jenkins using Docker and the Jenkins Configuration as Code (JCasC) method. ","keywords":"Docker,CI/CD,Configuration Management,Open Source","url":"https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code"},"dateModified":"2020-09-29T11:40:55.120Z","inLanguage":"en","accessMode":"textual","accessModeSufficient":"textual","isAccessibleForFree":true,"license":"https://creativecommons.org/licenses/by-nc-sa/4.0/","publishingPrinciples":"https://www.digitalocean.com/community/tutorials/technical-recommendations-and-best-practices-for-digitalocean-s-tutorials","author":[{"@type":"Person","name":"Daniel Li"}],"datePublished":"2020-09-29T11:41:14.349Z","editor":[{"@type":"Person","name":"Kathryn Hancox"}],"interactionStatistic":[{"@type":"InteractionCounter","interactionType":"http://schema.org/CommentAction","userInteractionCount":6}],"sourceOrganization":{"@type":"Organization","name":"DigitalOcean Community","url":"https://www.digitalocean.com/community"},"publisher":{"@type":"Organization","name":"DigitalOcean","url":"https://www.digitalocean.com","logo":{"@type":"ImageObject","url":"https://assets.digitalocean.com/logos/DO_Logo_horizontal_blue.png","width":351,"height":60}},"comment":[{"comment":{"@context":"http://schema.org","@type":"comment","@text":"Hi Daniel, Thank you for this great tutorial. I’ve created a public example repo @ https://github.com/ultrabright/docker-jenkins that contains docker that incorporates many of your ideas. Thanks again,Hanna. "}},{"comment":{"@context":"http://schema.org","@type":"comment","@text":"This is my first month playing with Jenkins + Docker and this tutorial is by far the best that I have seen, thanks a bunch @d4nyll I would like to go further and learn how to have my Jenkins server ready to go with credentials, projects and pipelines configured (if possible), could you please recommend a good place to start? "}},{"comment":{"@context":"http://schema.org","@type":"comment","@text":"Hi @d4nyll , This was really helpful! I modified your suggestions to also incorporate a webhookrelay for receiving webhooks from github in a virtual docker network behind a firewall and played around with ideas of how to make the configuration as code available without building it into the image. Here is my example: https://github.com/jdstamp/ccmb-jenkins I just noticed @dixter has also a bunch of great ideas that I plan to incorporate into my setup! "}},{"comment":{"@context":"http://schema.org","@type":"comment","@text":"While creating the login in step 4, I am facing an error.While typing username and password in my Jenkins server opened in browserI am facing this error: HTTP ERROR 403 No valid crumb was included in the requestURI: /j_spring_security_checkSTATUS: 403MESSAGE: No valid crumb was included in the requestSERVLET: StaplerPowered by Jetty:// 9.4.39.v20210325 Can you please suggest me why am I facing this error and what could be done to fix it in yaml file "}},{"comment":{"@context":"http://schema.org","@type":"comment","@text":"I followed your tutorial How To Automate Jenkins Setup with Docker and Jenkins Configuration as Code, it’s very helpful and explained perfectly.Currently, I have to automate Jenkins configurations with all the plugins, cloud Template, node master (kubernetes) and all my pipelines and job.I began creating docker image with all plugins (as you explained) but I don’t know how to include the cloud Template and node and my pipelines &amp; jobs in it ?Please if you can help me I will be very grateful. Thank you very much "}},{"comment":{"@context":"http://schema.org","@type":"comment","@text":"Hi Daniel, I get some errors when running docker container : &quot;WARNING: An illegal reflective access operation has occurred WARNING: Illegal reflective access by org.codehaus.groovy.reflection.CachedClass (file:/var/jenkins_home/war/WEB-INF/lib/groovy-all-2.4.12.jar) to method java.lang.Object.finalize() WARNING: Please consider reporting this to the maintainers of org.codehaus.groovy.reflection.CachedClass WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations WARNING: All illegal access operations will be denied in a future release 2021-12-21 05:06:00.597+0000 [id=35] INFO jenkins.InitReactorRunner$1#onAttained: System config loaded 2021-12-21 05:06:01.371+0000 [id=31] SEVERE jenkins.InitReactorRunner$1#onTaskFailed: Failed ConfigurationAsCode.init java.lang.IllegalArgumentException: Single entry map expected to configure a hudson.security.AuthorizationStrategy&quot; "}}]}</script><link rel="alternate" hreflang="en" href="https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code"><link rel="alternate" hreflang="x-default" href="https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code"><link rel="apple-touch-icon" sizes="180x180" href="https://www.digitalocean.com/_next/static/media/apple-touch-icon.d7edaa01.png"><meta name="next-head-count" content="23"><link rel="preconnect" href="https://fonts.googleapis.com/"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="true"><link rel="stylesheet" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/cookieConsent.css"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin=""><link rel="preload" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/2b2f7220ddeba533.css" as="style"><link rel="stylesheet" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/2b2f7220ddeba533.css" data-n-g=""><link rel="preload" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/05b62ba28c0b16f0.css" as="style"><link rel="stylesheet" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/05b62ba28c0b16f0.css" data-n-p=""><noscript data-n-css=""></noscript><script defer="" nomodule="" src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/polyfills-5cd94c89d3acac5f.js"></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/webpack-537a718396ce2ea4.js" defer=""></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/framework-a2fbb4377f4cd9c5.js" defer=""></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/main-38654959628e7bb7.js" defer=""></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/_app-f8e4341a24e1ec4b.js" defer=""></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/8335-0f8e81588de98585.js" defer=""></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/5833-a7426735b42baba1.js" defer=""></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/5282-a83e1fe5015ef54c.js" defer=""></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/8354-3fa5f70e9a86d9a1.js" defer=""></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/3243-be7b0d336d57cf42.js" defer=""></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/284-1cc2d7b7918c7244.js" defer=""></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/4207-0553a65fef03a564.js" defer=""></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/4590-ba638724935e9b6b.js" defer=""></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/62-bfd083a931cdf4e4.js" defer=""></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/7053-dbf03affbe38a934.js" defer=""></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/2031-7857a9c3c9cf3a41.js" defer=""></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/1118-4605cdc1615acb22.js" defer=""></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/1767-b2122668c1baffb9.js" defer=""></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/[slug]-042da776c6e23d5d.js" defer=""></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/_buildManifest.js" defer=""></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/_ssgManifest.js" defer=""></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/_middlewareManifest.js" defer=""></script><style data-styled="active" data-styled-version="5.3.3"></style><style data-href="https://fonts.googleapis.com/css2?family=Epilogue:wght@100..900&amp;family=Inter:wght@100..900&amp;family=JetBrains+Mono:wght@100..800&amp;display=swap">@font-face{font-family:'Epilogue';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/epilogue/v11/O4ZMFGj5hxF0EhjimngomvnCCtqb30OXMDLiDw.woff) format('woff')}@font-face{font-family:'Epilogue';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/epilogue/v11/O4ZMFGj5hxF0EhjimngomvnCCtqb30OXsDPiDw.woff) format('woff')}@font-face{font-family:'Epilogue';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/epilogue/v11/O4ZMFGj5hxF0EhjimngomvnCCtqb30OXbjPiDw.woff) format('woff')}@font-face{font-family:'Epilogue';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/epilogue/v11/O4ZMFGj5hxF0EhjimngomvnCCtqb30OXMDPiDw.woff) format('woff')}@font-face{font-family:'Epilogue';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/epilogue/v11/O4ZMFGj5hxF0EhjimngomvnCCtqb30OXAjPiDw.woff) format('woff')}@font-face{font-family:'Epilogue';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/epilogue/v11/O4ZMFGj5hxF0EhjimngomvnCCtqb30OX7jTiDw.woff) format('woff')}@font-face{font-family:'Epilogue';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/epilogue/v11/O4ZMFGj5hxF0EhjimngomvnCCtqb30OX1zTiDw.woff) format('woff')}@font-face{font-family:'Epilogue';font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/epilogue/v11/O4ZMFGj5hxF0EhjimngomvnCCtqb30OXsDTiDw.woff) format('woff')}@font-face{font-family:'Epilogue';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/epilogue/v11/O4ZMFGj5hxF0EhjimngomvnCCtqb30OXmTTiDw.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v8/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyeMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v8/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuDyfMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v8/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuOKfMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v8/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v8/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuI6fMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v8/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuGKYMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v8/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuFuYMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v8/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuDyYMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v8/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuBWYMZs.woff) format('woff')}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v11/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yK1jPg.woff) format('woff')}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v11/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8SKxjPg.woff) format('woff')}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v11/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8lqxjPg.woff) format('woff')}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v11/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxjPg.woff) format('woff')}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v11/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8-qxjPg.woff) format('woff')}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v11/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8FqtjPg.woff) format('woff')}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v11/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8L6tjPg.woff) format('woff')}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v11/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8SKtjPg.woff) format('woff')}@font-face{font-family:'Epilogue';font-style:normal;font-weight:100 900;font-display:swap;src:url(https://fonts.gstatic.com/s/epilogue/v11/O4ZRFGj5hxF0EhjimlIrsgg4lWmc8kI.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Epilogue';font-style:normal;font-weight:100 900;font-display:swap;src:url(https://fonts.gstatic.com/s/epilogue/v11/O4ZRFGj5hxF0EhjimlIqsgg4lWmc8kI.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Epilogue';font-style:normal;font-weight:100 900;font-display:swap;src:url(https://fonts.gstatic.com/s/epilogue/v11/O4ZRFGj5hxF0EhjimlIksgg4lWmc.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:100 900;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v8/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:100 900;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v8/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:100 900;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v8/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:100 900;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v8/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:100 900;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v8/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:100 900;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v8/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:100 900;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v8/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:100 800;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v11/tDbV2o-flEEny0FZhsfKu5WU4xD2OwGtT0rU3BE.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:100 800;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v11/tDbV2o-flEEny0FZhsfKu5WU4xD_OwGtT0rU3BE.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:100 800;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v11/tDbV2o-flEEny0FZhsfKu5WU4xD4OwGtT0rU3BE.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:100 800;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v11/tDbV2o-flEEny0FZhsfKu5WU4xD0OwGtT0rU3BE.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:100 800;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v11/tDbV2o-flEEny0FZhsfKu5WU4xD1OwGtT0rU3BE.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:100 800;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v11/tDbV2o-flEEny0FZhsfKu5WU4xD7OwGtT0rU.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><link as="script" rel="prefetch" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/1072-8dbe3b36acf0ad8b.js"><link as="script" rel="prefetch" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/36-71146908d303f4e0.js"><link as="script" rel="prefetch" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/[slug]-c76770a5180d7191.js"><link as="script" rel="prefetch" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/8650-e3e06fde51b796d4.js"><link as="script" rel="prefetch" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/products-e9352e43ce3669ee.js"><link as="script" rel="prefetch" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/pricing-e9b89a21689b67db.js"><link as="script" rel="prefetch" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/5886-dae786344e3de0c1.js"><link as="script" rel="prefetch" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/index-61d5aeb07dc54980.js"><link as="script" rel="prefetch" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/community-7bd1f74350973b3d.js"><link as="script" rel="prefetch" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/3753-9131aaec2eebef09.js"><link as="script" rel="prefetch" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/5446-9ba8bdda968878b9.js"><link as="script" rel="prefetch" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/tutorials-7ec27f12b24634bd.js"><link as="script" rel="prefetch" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/questions-6559be0a0c967ac9.js"><link as="script" rel="prefetch" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/[slug]-86d7e3ca09b07a7f.js"><link as="script" rel="prefetch" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/[slug]-ea1e0e33003129a8.js"><link as="script" rel="prefetch" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/tags-1c61883d31842fba.js"><style type="text/css">.ais-Breadcrumb-list,.ais-CurrentRefinements-list,.ais-HierarchicalMenu-list,.ais-Hits-list,.ais-InfiniteHits-list,.ais-InfiniteResults-list,.ais-Menu-list,.ais-NumericMenu-list,.ais-Pagination-list,.ais-RatingMenu-list,.ais-RefinementList-list,.ais-Results-list,.ais-ToggleRefinement-list{margin:0;padding:0;list-style:none}.ais-ClearRefinements-button,.ais-CurrentRefinements-delete,.ais-CurrentRefinements-reset,.ais-GeoSearch-redo,.ais-GeoSearch-reset,.ais-HierarchicalMenu-showMore,.ais-InfiniteHits-loadMore,.ais-InfiniteHits-loadPrevious,.ais-InfiniteResults-loadMore,.ais-Menu-showMore,.ais-RangeInput-submit,.ais-RefinementList-showMore,.ais-SearchBox-reset,.ais-SearchBox-submit,.ais-VoiceSearch-button{padding:0;overflow:visible;font:inherit;line-height:normal;color:inherit;background:none;border:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ais-ClearRefinements-button::-moz-focus-inner,.ais-CurrentRefinements-delete::-moz-focus-inner,.ais-CurrentRefinements-reset::-moz-focus-inner,.ais-GeoSearch-redo::-moz-focus-inner,.ais-GeoSearch-reset::-moz-focus-inner,.ais-HierarchicalMenu-showMore::-moz-focus-inner,.ais-InfiniteHits-loadMore::-moz-focus-inner,.ais-InfiniteHits-loadPrevious::-moz-focus-inner,.ais-InfiniteResults-loadMore::-moz-focus-inner,.ais-Menu-showMore::-moz-focus-inner,.ais-RangeInput-submit::-moz-focus-inner,.ais-RefinementList-showMore::-moz-focus-inner,.ais-SearchBox-reset::-moz-focus-inner,.ais-SearchBox-submit::-moz-focus-inner,.ais-VoiceSearch-button::-moz-focus-inner{padding:0;border:0}.ais-ClearRefinements-button[disabled],.ais-CurrentRefinements-delete[disabled],.ais-CurrentRefinements-reset[disabled],.ais-GeoSearch-redo[disabled],.ais-GeoSearch-reset[disabled],.ais-HierarchicalMenu-showMore[disabled],.ais-InfiniteHits-loadMore[disabled],.ais-InfiniteHits-loadPrevious[disabled],.ais-InfiniteResults-loadMore[disabled],.ais-Menu-showMore[disabled],.ais-RangeInput-submit[disabled],.ais-RefinementList-showMore[disabled],.ais-SearchBox-reset[disabled],.ais-SearchBox-submit[disabled],.ais-VoiceSearch-button[disabled]{cursor:default}.ais-Breadcrumb-item,.ais-Breadcrumb-list,.ais-Pagination-list,.ais-PoweredBy,.ais-RangeInput-form,.ais-RatingMenu-link{display:flex;align-items:center}.ais-GeoSearch,.ais-GeoSearch-map{height:100%}.ais-HierarchicalMenu-list .ais-HierarchicalMenu-list{margin-left:1em}.ais-PoweredBy-logo{display:block;height:1.2em;width:auto}.ais-RatingMenu-starIcon{display:block;width:20px;height:20px}.ais-SearchBox-input::-ms-clear,.ais-SearchBox-input::-ms-reveal{display:none;width:0;height:0}.ais-SearchBox-input::-webkit-search-cancel-button,.ais-SearchBox-input::-webkit-search-decoration,.ais-SearchBox-input::-webkit-search-results-button,.ais-SearchBox-input::-webkit-search-results-decoration{display:none}.ais-RangeSlider .rheostat{overflow:visible;margin-top:40px;margin-bottom:40px}.ais-RangeSlider .rheostat-background{height:6px;top:0;width:100%}.ais-RangeSlider .rheostat-handle{margin-left:-12px;top:-7px}.ais-RangeSlider .rheostat-background{position:relative;background-color:#fff;border:1px solid #aaa}.ais-RangeSlider .rheostat-progress{position:absolute;top:1px;height:4px;background-color:#333}.rheostat-handle{position:relative;z-index:1;width:20px;height:20px;background-color:#fff;border:1px solid #333;border-radius:50%;cursor:-webkit-grab;cursor:grab}.rheostat-marker{margin-left:-1px;position:absolute;width:1px;height:5px;background-color:#aaa}.rheostat-marker--large{height:9px}.rheostat-value{padding-top:15px}.rheostat-tooltip,.rheostat-value{margin-left:50%;position:absolute;text-align:center;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.rheostat-tooltip{top:-22px}@font-face{font-family:Sailec-Regular;src:url(https://assets.digitalocean.com/labs/fonts/Sailec-Regular.woff2) format("woff2"),url(https://assets.digitalocean.com/labs/fonts/Sailec-Regular.woff) format("woff")}@font-face{font-family:Sailec-Medium;src:url(https://assets.digitalocean.com/labs/fonts/Sailec-Medium.woff2) format("woff2"),url(https://assets.digitalocean.com/labs/fonts/Sailec-Medium.woff) format("woff")}body.algolia-universal-search_modal_opened{overflow:hidden}div.algolia-universal-search{font-family:Sailec-Regular}div.algolia-universal-search.algolia-universal-search_inline .instructions-bar{display:none}div.algolia-universal-search.algolia-universal-search_inline:focus-within .instructions-bar{display:block}div.algolia-universal-search.algolia-universal-search_modal div.widget-container.opened{visibility:visible}div.algolia-universal-search.algolia-universal-search_inline .escape{display:none}div.algolia-universal-search.algolia-universal-search_modal div.widget-container{position:fixed;z-index:16777271;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4);visibility:hidden}div.algolia-universal-search .widget-content{position:relative}div.algolia-universal-search.algolia-universal-search_modal .widget-content{box-sizing:border-box;box-shadow:0 2px 20px rgba(3,27,78,.1);border-radius:3px;background-color:#f3f5f9;margin:auto;width:70%;max-width:1200px;height:auto;max-height:70%;position:absolute;top:15%;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}div.algolia-universal-search div.widget-content{display:grid;grid-template-rows:auto 1fr}div.algolia-universal-search div#searchbox-widget-container .search_icon{position:absolute;top:24px;left:20px}div.algolia-universal-search div#searchbox-widget-container input{font-size:20px;line-height:30px;color:#031b4e;background:none;width:100%;padding:16px 54px 12px;border-radius:3px 3px 0 0;border:1px solid #e5e8ed;box-sizing:border-box}div.algolia-universal-search div#searchbox-widget-container input:focus{outline:none}div.algolia-universal-search div#searchbox-widget-container .loading-indicator{font-family:Sailec-Regular;padding:16px;text-align:center}div.algolia-universal-search div#results-widget-container{display:grid;grid-template-rows:-webkit-min-content;grid-template-rows:min-content;overflow-y:auto;padding:20px;background:#fff}@media (min-width:1025px){div.algolia-universal-search div#results-widget-container{grid-template-columns:1.5fr 1fr;grid-template-rows:auto}}div.algolia-universal-search div#results-widget-container h2{color:#99a1b3;font-size:14px;font-weight:400;line-height:150%;padding:0 15px;margin-bottom:0}div.algolia-universal-search div#results-widget-container li{padding:10px 15px 5px;margin-bottom:5px;border-radius:6px;position:relative}div.algolia-universal-search div#results-widget-container li .return{position:absolute;top:10px;right:9.5px}div.algolia-universal-search div#results-widget-container li a{color:#031b4e;display:block;text-decoration:none}div.algolia-universal-search div#results-widget-container li a .eyebrow{text-transform:uppercase;font-size:10px;font-family:Sailec-Medium;color:#5b6987}div.algolia-universal-search div#results-widget-container li a em{color:#0069ff;font-style:normal}div.algolia-universal-search div#results-widget-container li a h4{margin:5px 0;font-family:Sailec-Regular;font-size:18px;font-weight:500;text-transform:none}div.algolia-universal-search div#results-widget-container li a p{color:#5b6987;font-size:14px;margin:0 0 5px}div.algolia-universal-search div#results-widget-container .navigate-highlighted,div.algolia-universal-search div#results-widget-container li:hover{background:#e5e8ed}div.algolia-universal-search div#results-widget-container .navigate-highlighted a,div.algolia-universal-search div#results-widget-container li:hover a{background-image:url(https://assets.digitalocean.com/labs/search/enter.svg);background-repeat:no-repeat;background-position:100% 0}div.algolia-universal-search div#results-widget-container .primary-content h2{display:none}div.algolia-universal-search div#results-widget-container .primary-content .ais-Highlight-highlighted{background:none;color:inherit}div.algolia-universal-search div#results-widget-container .primary-content .ais-Hits--empty{padding:0 15px;color:#031b4e}div.algolia-universal-search div#results-widget-container .secondary-content{margin-left:5px}div.algolia-universal-search div#results-widget-container .secondary-content li{padding-left:10px;padding-right:10px;margin-left:5px}div.algolia-universal-search div#results-widget-container .secondary-content .navigate-highlighted,div.algolia-universal-search div#results-widget-container .secondary-content li:hover{background:#e5e8ed}div.algolia-universal-search div#results-widget-container .secondary-content .ais-Highlight-highlighted{background:none;color:inherit}div.algolia-universal-search div#results-widget-container .navigate-highlighted{background:#e5e8ed}div.algolia-universal-search.algolia-universal-search_no-secondary div#results-widget-container{display:block}div.algolia-universal-search .instructions-bar{bottom:0;left:0;right:0;background:#fff;border-top:1px solid #f3f5f9;color:#5b6987;padding:15px 20px 12px;border-radius:0 0 3px 3px;font-size:12px;line-height:12px}div.algolia-universal-search .instructions-bar .label{padding:0 16px 0 4px}div.algolia-universal-search .instructions-bar svg{position:relative;top:1px}div.algolia-universal-search div#results-widget-container.no--search{display:none}</style><link as="script" rel="prefetch" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/6879-0f291b0f6dd23143.js"><link as="script" rel="prefetch" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/1638-77e3d9bd7462419e.js"><link as="script" rel="prefetch" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/new-5e9b886566421470.js"><link as="script" rel="prefetch" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/newsletter-313efec79b72c872.js"><link as="script" rel="prefetch" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/8398-e5ad673e4ff21c82.js"><link as="script" rel="prefetch" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/[slug]-a65c932840516aa3.js"><link as="script" rel="prefetch" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/tools-aff40aab4dd26b6f.js"><link as="script" rel="prefetch" href="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/hatch-738710d5386519a1.js"></head><body><div id="__next" data-reactroot=""><div class="LayoutCommunityStyles__StyledLayout-sc-1t77shh-0 eIBZLj"><div class="NavigationCommunityStyles__StyledTinyTopNav-sc-1401ouy-23 dAIXWk"><div class="tinyTopNavLeft"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD" href="https://www.digitalocean.com/blog/migrate-your-database-to-digitalocean-managed-databases"><span><span class="pill">READ</span>Migrate your database to DigitalOcean with minimal downtime for free</span></a></div><div class="tinyTopNavRight"><ul><li><a href="https://www.digitalocean.com/products">Products</a></li><li><a href="https://www.digitalocean.com/pricing">Pricing</a></li><li><span role="button" tabindex="0">Docs<img alt="dropdown" class="dropdown" src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/dropdown-nav.dc89cd9d.svg"></span></li><li><span role="button" tabindex="0">Sign in<img alt="dropdown" class="dropdown" src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/dropdown-nav.dc89cd9d.svg"></span></li></ul></div></div><nav class="NavigationCommunityStyles__StyledNavBarContainer-sc-1401ouy-0 jOOgEd"><div class="NavigationCommunityStyles__StyledLogoWrapper-sc-1401ouy-13 efPOog"><div class="NavigationCommunityStyles__StyledDOLogo-sc-1401ouy-14 cfjvXK"><a href="https://www.digitalocean.com/"><svg id="navbar-logomark" viewBox="65.2 173.5 180 180" width="30" height="30" fill="currentColor"><path d="M155.2,351.7v-34.2c36.2,0,64.3-35.9,50.4-74c-5.1-14.1-16.4-25.4-30.5-30.5c-38.1-13.8-74,14.2-74,50.4l0,0H67c0-57.7,55.8-102.7,116.3-83.8c26.4,8.3,47.5,29.3,55.7,55.7C257.9,295.9,213,351.7,155.2,351.7z"></path><polygon points="155.3,317.6 121.3,317.6 121.3,283.6 121.3,283.6 155.3,283.6 155.3,283.6"></polygon><polygon points="121.3,343.8 95.1,343.8 95.1,343.8 95.1,317.6 121.3,317.6"></polygon><path d="M95.1,317.6H73.2l0,0v-21.9l0,0h21.9l0,0V317.6z"></path></svg></a></div><div class="NavigationCommunityStyles__StyledCommunity-sc-1401ouy-15 cRELDl"><a href="https://www.digitalocean.com/community"><svg id="navbar-community_logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 532.2 99.8" fill="currentColor"><path class="st0" d="M98.5,23c15.5,0,27.7,12.1,27.7,28.2c0,16.1-12.3,28.1-27.7,28.1c-15.6,0-27.7-11.9-27.7-28.1 C70.8,35.1,82.9,23,98.5,23z M98.5,67.9c8.7,0,14.9-7,14.9-16.8c0-9.8-6.2-16.8-14.9-16.8c-8.8,0-15,7-15,16.8 C83.5,60.9,89.7,67.9,98.5,67.9z"></path><path class="st0" d="M166.8,45.9c0-7-3.5-11.6-9.9-11.6c-7.2,0-11.1,5.3-11.1,13.1V78h-12.5V24.3h12.3V29c2.4-2.8,7-6,13.9-6 c7.3,0,12.2,3.1,15,7c4.4-4.9,10-7,16.8-7c14.4,0,21.4,8.5,21.4,23.8V78h-12.5V45.9c0-7-3.5-11.6-9.9-11.6 c-7.2,0-11.2,5.3-11.2,13.1V78h-12.4V45.9z"></path><path class="st0" d="M255.5,45.9c0-7-3.5-11.6-9.9-11.6c-7.2,0-11.1,5.3-11.1,13.1V78h-12.5V24.3h12.3V29c2.4-2.8,7-6,13.9-6 c7.3,0,12.2,3.1,15,7c4.4-4.9,10-7,16.8-7c14.4,0,21.4,8.5,21.4,23.8V78h-12.5V45.9c0-7-3.5-11.6-9.9-11.6 c-7.2,0-11.2,5.3-11.2,13.1V78h-12.4V45.9z"></path><path class="st0" d="M322.5,56.4c0,7,3.6,11.6,10.1,11.6c7.2,0,11.2-5.6,11.2-13.5V24.3h12.5V78h-12.3v-4.4 c-3.4,3.7-8.1,5.6-13.9,5.6c-11.9,0-20.1-8.4-20.1-23.7V24.3h12.5V56.4z"></path><path class="st0" d="M378.2,78h-12.5V24.3h12.3v4.4c2.7-3.1,7.7-5.7,13.9-5.7c13.1,0,21.3,8.5,21.3,23.8V78h-12.5V46.8 c0-7.5-3.7-12.5-10.6-12.5c-7.8,0-11.8,5.6-11.8,14V78z"></path><path class="st0" d="M427.8,0.2c4.4,0,7.9,3.4,7.9,7.8s-3.5,7.9-7.9,7.9c-4.4,0-7.9-3.5-7.9-7.9S423.4,0.2,427.8,0.2z M421.4,24.3 h12.5V78h-12.5V24.3z"></path><path class="st0" d="M446.7,59.1V35.5h-6.5V24.3h6.5v-15H459v15h12.2v11.2H459v21.7c0,7.8,1.8,9.8,8.8,9.8c1.2,0,4.1-0.2,4.1-0.2 v11.2c0,0-2.4,0.2-6.7,0.2C451.2,78.1,446.7,72.7,446.7,59.1z"></path><path class="st0" d="M497.3,78.7l-21.3-54.4h14.2l14,38.8l14.2-38.8h13.6l-24.1,60.2c-3.7,9.4-7.2,15.3-21.3,15.3 c-2.5,0-4.8-0.1-4.8-0.1V88c0,0,1.5,0.1,2.8,0.1c7.6,0,9.8-2.3,11.8-7.8L497.3,78.7z"></path><path class="st0" d="M62.4,55.9c-5.3,7-12.2,11.4-22.1,11.4c-15.6,0-27-11.7-27-27.5c0-16.1,11.4-27.8,26.5-27.8 c10,0,16.8,4.8,21.3,11.3l8.4-8.8C63.1,5.7,53.3,0,39.7,0C17.1,0,0,15.9,0,39.8c0,23.4,17.1,39.4,40.1,39.4c13.1,0,22-4.9,28.6-12.2 L62.4,55.9z"></path></svg></a></div></div><div class="NavigationCommunityStyles__StyledNavBarLinkWrapper-sc-1401ouy-5 gmZEUD"><a href="https://www.digitalocean.com/community/tutorials" class="NavigationCommunityStyles__StyledNavBarItem-sc-1401ouy-1 NavigationCommunityStyles__StyledNavBarItemLink-sc-1401ouy-2 NavigationCommunityStyles__StyledNavBarLink-sc-1401ouy-4 hhrAKa biXTEd kXCLyY">Tutorials</a><a href="https://www.digitalocean.com/community/questions" class="NavigationCommunityStyles__StyledNavBarItem-sc-1401ouy-1 NavigationCommunityStyles__StyledNavBarItemLink-sc-1401ouy-2 NavigationCommunityStyles__StyledNavBarLink-sc-1401ouy-4 hhrAKa biXTEd eHPGoq">Questions</a><a href="https://www.digitalocean.com/community/tags/tech-talks" class="NavigationCommunityStyles__StyledNavBarItem-sc-1401ouy-1 NavigationCommunityStyles__StyledNavBarItemLink-sc-1401ouy-2 NavigationCommunityStyles__StyledNavBarLink-sc-1401ouy-4 hhrAKa biXTEd eHPGoq">Tech Talks</a><a class="NavigationCommunityStyles__StyledNavBarItem-sc-1401ouy-1 NavigationCommunityStyles__StyledNavBarItemLink-sc-1401ouy-2 NavigationCommunityStyles__StyledNavBarLink-sc-1401ouy-4 hhrAKa biXTEd eHPGoq">Get Involved<img alt="dropdwn" class="dropdown" src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/dropdown-nav.dc89cd9d.svg"></a></div><div class="NavigationCommunityStyles__StyledNavBarSpacer-sc-1401ouy-7 krmtiA"></div><div class="NavigationCommunityStyles__StyledSearchProfileWrapper-sc-1401ouy-20 kYLARu"><div class="NavigationCommunityStyles__StyledCommunitySearch-sc-1401ouy-19 dEiyQm"><div id="communitysearch" class="NavigationCommunityStyles__StyledSearchField-sc-1401ouy-21 iVaWoY"><svg id="navbar-search" viewBox="0 0 16 16" width="15" height="15" fill="currentColor"><path fill-rule="evenodd" d="M15.7 13.3l-3.81-3.83A5.93 5.93 0 0 0 13 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 0 0 0-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z"></path></svg><span class="NavigationCommunityStyles__StyledSearchFieldText-sc-1401ouy-22 dGWhsM">search community</span><kbd>/</kbd></div></div><a href="https://www.digitalocean.com/api/dynamic-content/v1/login?success_redirect=https%3A%2F%2Fwww.digitalocean.com%2Fcommunity%2Ftutorials%2Fhow-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code&amp;error_redirect=https%3A%2F%2Fwww.digitalocean.com%2Fauth_error" class="NavigationCommunityStyles__StyledNavBarItem-sc-1401ouy-1 NavigationCommunityStyles__StyledNavBarItemLink-sc-1401ouy-2 NavigationCommunityStyles__StyledNavSignUp-sc-1401ouy-17 hhrAKa biXTEd fqpgRM">Sign Up</a><button type="button" class="NavigationCommunityStyles__StyledButton-sc-1401ouy-25 gkquMI"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#5b6987" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button></div></nav><div class="QuestionAndTutorialOuterContainerStyles__StyledOuterContainer-sc-l9p98c-0 lfHrqK"><div class="QuestionAndTutorialLeftContainerStyles__StyledColumnContainer-sc-54mito-0 ivZHPT"><div class="QuestionAndTutorialLeftContainerStyles__StyledStickyContainer-sc-54mito-1 lpdZz"><div class="QuestionAndTutorialLeftContainerStyles__StyledStickyScrollContainer-sc-54mito-2 iEkanO"><div class="TableOfContentsStyles__StyledTableOfContentsContainer-sc-126nigt-1 dacDaL"><ul class="TableOfContentsStyles__StyledTableOfContentsList-sc-126nigt-2 jKvDBi">CONTENTS<li class="TableOfContentsStyles__StyledTableOfContentsListItem-sc-126nigt-3 dqEWzP"><a href="https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code#introduction" class="TableOfContentsStyles__StyledTableOfContentsListLink-sc-126nigt-4 gdvAIP">Introduction</a></li><li class="TableOfContentsStyles__StyledTableOfContentsListItem-sc-126nigt-3 dqEWzP"><a href="https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code#prerequisites" class="TableOfContentsStyles__StyledTableOfContentsListLink-sc-126nigt-4 gdvAIP">Prerequisites</a></li><li class="TableOfContentsStyles__StyledTableOfContentsListItem-sc-126nigt-3 dqEWzP"><a href="https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code#step-1-disabling-the-setup-wizard" class="TableOfContentsStyles__StyledTableOfContentsListLink-sc-126nigt-4 gdvAIP">Step 1 — Disabling the Setup Wizard</a></li><li class="TableOfContentsStyles__StyledTableOfContentsListItem-sc-126nigt-3 dqEWzP"><a href="https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code#step-2-installing-jenkins-plugins" class="TableOfContentsStyles__StyledTableOfContentsListLink-sc-126nigt-4 gdvAIP">Step 2 — Installing Jenkins Plugins</a></li><li class="TableOfContentsStyles__StyledTableOfContentsListItem-sc-126nigt-3 dqEWzP"><a href="https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code#step-3-specifying-the-jenkins-url" class="TableOfContentsStyles__StyledTableOfContentsListLink-sc-126nigt-4 gdvAIP">Step 3 — Specifying the Jenkins URL</a></li><li class="TableOfContentsStyles__StyledTableOfContentsListItem-sc-126nigt-3 dqEWzP"><a href="https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code#step-4-creating-a-user" class="TableOfContentsStyles__StyledTableOfContentsListLink-sc-126nigt-4 gdvAIP">Step 4 — Creating a User</a></li><li class="TableOfContentsStyles__StyledTableOfContentsListItem-sc-126nigt-3 dqEWzP"><a href="https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code#step-5-setting-up-authorization" class="TableOfContentsStyles__StyledTableOfContentsListLink-sc-126nigt-4 gdvAIP">Step 5 — Setting Up Authorization</a></li><li class="TableOfContentsStyles__StyledTableOfContentsListItem-sc-126nigt-3 dqEWzP"><a href="https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code#step-6-setting-up-build-authorization" class="TableOfContentsStyles__StyledTableOfContentsListLink-sc-126nigt-4 gdvAIP">Step 6 — Setting Up Build Authorization</a></li><li class="TableOfContentsStyles__StyledTableOfContentsListItem-sc-126nigt-3 dqEWzP"><a href="https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code#step-7-enabling-agent-to-controller-access-control" class="TableOfContentsStyles__StyledTableOfContentsListLink-sc-126nigt-4 gdvAIP">Step 7 — Enabling Agent to Controller Access Control</a></li><li class="TableOfContentsStyles__StyledTableOfContentsListItem-sc-126nigt-3 dqEWzP"><a href="https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code#conclusion" class="TableOfContentsStyles__StyledTableOfContentsListLink-sc-126nigt-4 gdvAIP">Conclusion</a></li></ul></div><div class="RelatedRecordsStyles__StyledRelatedRecordsWrapper-sc-1gtfc2p-0 iPwEJL"><div class="RelatedRecords___StyledDiv-sc-2xyvab-0 gKDcDN"><h3 class="HeadingStyles__StyledH3-sc-kkk1io-2 kvSgZc RelatedRecords___StyledHeading-sc-2xyvab-1 xmCob">Related</h3><a href="https://www.digitalocean.com/community/tutorials/how-to-install-discourse-on-ubuntu-18-04" class="RelatedRecordsStyles__StyledRelatedNonPrismicRecord-sc-1gtfc2p-1 bmtFSc"><div class="RelatedRecordsStyles__StyledRelatedNonPrismicRecordTitle-sc-1gtfc2p-2 kPrQLC">How To Install Discourse on Ubuntu 18.04</div><div class="RelatedRecordsStyles__StyledRelatedNonPrismicRecordTypeContainer-sc-1gtfc2p-4 caBVvJ"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#0180ff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" marginright="8px" float="left"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg><span class="RelatedRecordsStyles__StyledRelatedNonPrismicRecordType-sc-1gtfc2p-3 covxVt">Tutorial</span></div></a><a href="https://www.digitalocean.com/community/tutorials/how-to-configure-buildbot-with-ssl-using-an-nginx-reverse-proxy" class="RelatedRecordsStyles__StyledRelatedNonPrismicRecord-sc-1gtfc2p-1 bmtFSc"><div class="RelatedRecordsStyles__StyledRelatedNonPrismicRecordTitle-sc-1gtfc2p-2 kPrQLC">How To Configure Buildbot with SSL using an Nginx Reverse Proxy</div><div class="RelatedRecordsStyles__StyledRelatedNonPrismicRecordTypeContainer-sc-1gtfc2p-4 caBVvJ"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#0180ff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" marginright="8px" float="left"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg><span class="RelatedRecordsStyles__StyledRelatedNonPrismicRecordType-sc-1gtfc2p-3 covxVt">Tutorial</span></div></a></div></div></div></div></div><div class="ContainerStyles__StyledContainer-sc-1vejnbq-0 gFapaV"><div class="TutorialTemplateStyles__StyledRecordHeaderContainer-sc-1gdp4d7-0 gkkUkq"><img src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/0b619d51-a723-4748-997f-39ed5697a540_intro-to-cloud.jpg" alt="How To Automate Jenkins Setup with Docker and Jenkins Configuration as Code" title="How To Automate Jenkins Setup with Docker and Jenkins Configuration as Code" class="TutorialTemplateStyles__StyledRecordHeaderImage-sc-1gdp4d7-1 duqxdA"><h4 class="HeadingStyles__StyledH4-sc-kkk1io-3 dhOxFy TutorialTemplate___StyledHeading-sc-dk9clm-0 dTejDT">Tutorial</h4><h1 class="HeadingStyles__StyledH1-sc-kkk1io-0 fcjsDW TutorialTemplate___StyledHeading2-sc-dk9clm-1 jWzzEl">How To Automate Jenkins Setup with Docker and Jenkins Configuration as Code</h1><li class="TutorialTemplateStyles__StyledRecordMetaItem-sc-1gdp4d7-4 cojdUp"><a title="Docker" href="https://www.digitalocean.com/community/tags/docker" class="TagStyles__StyledTag-sc-1u5lkpz-0 gjIsKG">Docker</a><a title="CI/CD" href="https://www.digitalocean.com/community/tags/ci-cd" class="TagStyles__StyledTag-sc-1u5lkpz-0 gjIsKG">CI/CD</a><a title="Configuration Management" href="https://www.digitalocean.com/community/tags/configuration-management" class="TagStyles__StyledTag-sc-1u5lkpz-0 gjIsKG">Configuration Management</a><a title="Open Source" href="https://www.digitalocean.com/community/tags/open-source" class="TagStyles__StyledTag-sc-1u5lkpz-0 gjIsKG">Open Source</a></li><div class="TutorialTemplateStyles__StyledRecordMetaContainer-sc-1gdp4d7-2 bUFrcf"><ul class="TutorialTemplateStyles__StyledRecordMetaList-sc-1gdp4d7-3 khRA-dK"><div class="TutorialTemplateStyles__StyledAvatarContainer-sc-1gdp4d7-10 gnTAaM"><img src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/46f22fba-7718-478b-86ae-e8b875f0473e_default-avatar.png" alt="Default avatar" class="TutorialTemplateStyles__StyledAvatarSmall-sc-1gdp4d7-11 eYvnbO"></div><div class="TutorialTemplateStyles__StyledAuthorDateContainer-sc-1gdp4d7-5 lgbsHi"><div><li class="TutorialTemplateStyles__StyledRecordMetaItem-sc-1gdp4d7-4 TutorialTemplateStyles__StyledRecordMetaItemAuthor-sc-1gdp4d7-6 cojdUp dyzWfZ">By<a href="https://www.digitalocean.com/community/users/d4nyll" class="TutorialTemplateStyles__StyledRecordMetaItemAuthorDefault-sc-1gdp4d7-8 TutorialTemplateStyles__StyledRecordMetaItemAuthorHighlight-sc-1gdp4d7-9 gcmTXE eZgQAr">Daniel Li</a></li><li class="TutorialTemplateStyles__StyledRecordMetaItem-sc-1gdp4d7-4 TutorialTemplateStyles__StyledRecordMetaItemDate-sc-1gdp4d7-7 cojdUp kzPoEE">Updated on September 29, 2020</li></div></div></ul></div></div><div class="MarkdownStyles__StyledMarkdown-sc-bjjo5d-0 hCXEsf"><p><em>The author selected the <a href="https://wikimediafoundation.org/">Wikimedia Foundation</a> to receive a donation as part of the <a href="https://do.co/w4do-cta">Write for DOnations</a> program.</em></p>
<h3 id="introduction">Introduction</h3>
<p><a href="https://jenkins.io/">Jenkins</a> is one of the most popular open-source automation servers, often used to orchestrate <a href="https://www.digitalocean.com/community/tutorials/an-introduction-to-continuous-integration-delivery-and-deployment">continuous integration (CI) and/or continuous deployment (CD)</a> workflows.</p>
<p>Configuring Jenkins is typically done manually through a web-based setup wizard; this can be a slow, error-prone, and non-scalable process. You can see the steps involved by following <a href="https://www.digitalocean.com/community/tutorials/how-to-install-jenkins-on-ubuntu-18-04#step-4-%E2%80%94-setting-up-jenkins">Step 4 — Setting Up Jenkins</a> of the <a href="https://www.digitalocean.com/community/tutorials/how-to-install-jenkins-on-ubuntu-18-04">How To Install Jenkins on Ubuntu 18.04</a> guide. Furthermore, configurations cannot be tracked in a <em>version control system</em> (VCS) like <a href="https://git-scm.com/">Git</a>, nor be under the scrutiny of any code review process.</p>
<p>In this tutorial, you will automate the installation and configuration of Jenkins using <a href="https://www.docker.com/">Docker</a> and the <a href="https://www.jenkins.io/projects/jcasc/">Jenkins Configuration as Code</a> (JCasC) method.</p>
<p>Jenkins uses a pluggable architecture to provide most of its functionality. JCasC makes use of the <a href="https://plugins.jenkins.io/configuration-as-code/">Configuration as Code</a> plugin, which allows you to define the desired state of your Jenkins configuration as one or more <a href="https://yaml.org/">YAML</a> file(s), eliminating the need for the setup wizard. On initialization, the Configuration as Code plugin would configure Jenkins according to the configuration file(s), greatly reducing the configuration time and eliminating human errors.</p>
<p><a href="https://www.docker.com/">Docker</a> is the de facto standard for creating and running <a href="https://www.digitalocean.com/community/tutorials/the-docker-ecosystem-an-overview-of-containerization">containers</a>, which is a <em>virtualization</em> technology that allows you to run isolated, self-contained applications consistently across different <em>operation systems</em> (OSes) and hardware architectures. You will run your Jenkins instance using Docker to take advantage of this consistency and cross-platform capability.</p>
<p>This tutorial starts by guiding you through setting up JCasC. You will then incrementally add to the JCasC configuration file to set up users, configuration authentication and authorization, and finally to secure your Jenkins instance. After you’ve completed this tutorial, you’ll have created a custom Docker image that is set up to use the Configuration as Code plugin on startup to automatically configure and secure your Jenkins instance.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>To complete this tutorial, you will need:</p>
<ul>
<li>Access to a server with at least 2GB of RAM and Docker installed. This can be your local development machine, a Droplet, or any kind of server. Follow <strong>Step 1 — Installing Docker</strong> from one of the tutorials in the <a href="https://www.digitalocean.com/community/tutorial_collections/how-to-install-and-use-docker">How to Install and Use Docker</a> collection to set up Docker.</li>
</ul>
<div class="note">
<p><strong>Note:</strong> This tutorial is tested on Ubuntu 18.04; however, because Docker images are self-contained, the steps outlined here would work for any OSes with Docker installed.</p>
</div>
<h2 id="step-1-disabling-the-setup-wizard">Step 1 — Disabling the Setup Wizard</h2>
<p>Using JCasC eliminates the need to show the setup wizard; therefore, in this first step, you’ll create a modified version of the official <a href="https://hub.docker.com/r/jenkins/jenkins/"><code>jenkins/jenkins</code></a> image that has the setup wizard disabled. You will do this by creating a <code>Dockerfile</code> and building a custom Jenkins image from it.</p>
<p>The <code>jenkins/jenkins</code> image allows you to enable or disable the setup wizard by passing in a <em>system property</em> named <code>jenkins.install.runSetupWizard</code> via the <code>JAVA_OPTS</code> environment variable. Users of the image can pass in the <code>JAVA_OPTS</code> environment variable at runtime using the <a href="https://docs.docker.com/engine/reference/commandline/run/#set-environment-variables--e---env---env-file"><code>--env</code></a> flag to <code>docker run</code>. However, this approach would put the onus of disabling the setup wizard on the user of the image. Instead, you should disable the setup wizard at build time, so that the setup wizard is disabled by default.</p>
<p>You can achieve this by creating a <code>Dockerfile</code> and using the <a href="https://docs.docker.com/engine/reference/builder/#env"><code>ENV</code></a> instruction to set the <code>JAVA_OPTS</code> environment variable.</p>
<p>First, create a new directory inside your server to store the files you will be creating in this tutorial:</p>
<div class="code-toolbar"><pre class="prefixed command language-bash" tabindex="0"><code class="language-bash"><ol><li data-prefix="$"><span class="token function">mkdir</span> -p <span class="token environment constant">$HOME</span>/playground/jcasc
</li></ol>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>Then, navigate inside that directory:</p>
<div class="code-toolbar"><pre class="prefixed command language-bash" tabindex="0"><code class="language-bash"><ol><li data-prefix="$"><span class="token builtin class-name">cd</span> <span class="token environment constant">$HOME</span>/playground/jcasc
</li></ol>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>Next, using your editor, create a new file named <code>Dockerfile</code>:</p>
<div class="code-toolbar"><pre class="prefixed command language-bash" tabindex="0"><code class="language-bash"><ol><li data-prefix="$"><span class="token function">nano</span> <span class="token environment constant">$HOME</span>/playground/jcasc/Dockerfile
</li></ol>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>Then, copy the following content into the <code>Dockerfile</code>:</p>
<div class="code-label" title="~/playground/jcasc/">~/playground/jcasc/</div>
<div class="code-toolbar"><pre class="language-docker" tabindex="0"><code class="language-docker"><span class="token instruction"><span class="token keyword">FROM</span> jenkins/jenkins:latest</span>
<span class="token instruction"><span class="token keyword">ENV</span> JAVA_OPTS -Djenkins.install.runSetupWizard=false</span>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>Here, you’re using the <a href="https://docs.docker.com/engine/reference/builder/#from"><code>FROM</code></a> instruction to specify <code>jenkins/jenkins:latest</code> as the <em>base image</em>, and the <code>ENV</code> instruction to set the <code>JAVA_OPTS</code> environment variable.</p>
<p>Save the file and exit the editor by pressing <code>CTRL+X</code> followed by <code>Y</code>.</p>
<p>With these modifications in place, build a new custom Docker image and assign it a unique tag (we’ll use <code>jcasc</code> here):</p>
<div class="code-toolbar"><pre class="prefixed command language-bash" tabindex="0"><code class="language-bash"><ol><li data-prefix="$"><span class="token function">docker</span> build -t jenkins:jcasc <span class="token builtin class-name">.</span>
</li></ol>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>You will see output similar to the following:</p>
<pre><code><div class="secondary-code-label" title="Output">Output</div>Sending build context to Docker daemon  2.048kB
Step 1/2 : FROM jenkins/jenkins:latest
 ---&gt; 1f4b0aaa986e
Step 2/2 : ENV JAVA_OPTS -Djenkins.install.runSetupWizard=false
 ---&gt; 7566b15547af
Successfully built 7566b15547af
Successfully tagged jenkins:jcasc
</code></pre>
<p>Once built, run your custom image by running <a href="https://docs.docker.com/engine/reference/run/"><code>docker run</code></a>:</p>
<div class="code-toolbar"><pre class="prefixed command language-bash" tabindex="0"><code class="language-bash"><ol><li data-prefix="$"><span class="token function">docker</span> run --name jenkins --rm -p <span class="token number">8080</span>:8080 jenkins:jcasc
</li></ol>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>You used the <code>--name jenkins</code> option to give your container an easy-to-remember name; otherwise a random hexadecimal ID would be used instead (e.g. <code>f1d701324553</code>). You also specified the <code>--rm</code> flag so the container will automatically be removed after you’ve stopped the container process. Lastly, you’ve configured your server host’s port <code>8080</code> to proxy to the container’s port <code>8080</code> using the <code>-p</code> flag; <code>8080</code> is the default port where the Jenkins web UI is served from.</p>
<p>Jenkins will take a short period of time to initiate. When Jenkins is ready, you will see the following line in the output:</p>
<pre><code><div class="secondary-code-label" title="Output">Output</div>... hudson.WebAppMain$3#run: Jenkins is fully up and running
</code></pre>
<p>Now, open up your browser to <code><mark>server_ip</mark>:8080</code>. You’re immediately shown the dashboard without the setup wizard.</p>
<p><img src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/step1a.png" alt="The Jenkins dashboard"></p>
<p>You have just confirmed that the setup wizard has been disabled. To clean up, stop the container by pressing <code>CTRL+C</code>. If you’ve specified the <code>--rm</code> flag earlier, the stopped container would automatically be removed.</p>
<p>In this step, you’ve created a custom Jenkins image that has the setup wizard disabled. However, the top right of the web interface now shows a red notification icon indicating there are issues with the setup. Click on the icon to see the details.</p>
<p><img src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/step1b.png" alt="The Jenkins dashboard showing issues"></p>
<p>The first warning informs you that you have not configured the Jenkins URL. The second tells you that you haven’t configured any authentication and authorization schemes, and that anonymous users have full permissions to perform all actions on your Jenkins instance. Previously, the setup wizard guided you through addressing these issues. Now that you’ve disabled it, you need to replicate the same functions using JCasC. The rest of this tutorial will involve modifying your <code>Dockerfile</code> and JCasC configuration until no more issues remain (that is, until the red notification icon disappears).</p>
<p>In the next step, you will begin that process by pre-installing a selection of Jenkins plugins, including the Configuration as Code plugin, into your custom Jenkins image.</p>
<h2 id="step-2-installing-jenkins-plugins">Step 2 — Installing Jenkins Plugins</h2>
<p>To use JCasC, you need to install the Configuration as Code plugin. Currently, no plugins are installed. You can confirm this by navigating to <code>http://<mark>server_ip</mark>:8080/pluginManager/installed</code>.</p>
<p><img src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/step2a.png" alt="Jenkins dashboard showing no plugins are installed"></p>
<p>In this step, you’re going to modify your <code>Dockerfile</code> to pre-install a selection of plugins, including the Configuration as Code plugin.</p>
<p>To automate the plugin installation process, you can make use of an installation script that comes with the <code>jenkins/jenkins</code> Docker image. You can find it inside the container at <code>/usr/local/bin/install-plugins.sh</code>. To use it, you would need to:</p>
<ul>
<li>Create a text file containing a list of plugins to install</li>
<li>Copy it into the Docker image</li>
<li>Run the <code>install-plugins.sh</code> script to install the plugins</li>
</ul>
<p>First, using your editor, create a new file named <code>plugins.txt</code>:</p>
<div class="code-toolbar"><pre class="prefixed command language-bash" tabindex="0"><code class="language-bash"><ol><li data-prefix="$"><span class="token function">nano</span> <span class="token environment constant">$HOME</span>/playground/jcasc/plugins.txt
</li></ol>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>Then, add in the following newline-separated list of plugin names and versions (using the format <code>&lt;id&gt;:&lt;version&gt;</code>):</p>
<div class="code-label" title="~/playground/jcasc/plugins.txt">~/playground/jcasc/plugins.txt</div>
<pre class=""><code>ant:latest
antisamy-markup-formatter:latest
build-timeout:latest
cloudbees-folder:latest
configuration-as-code:latest
credentials-binding:latest
email-ext:latest
git:latest
github-branch-source:latest
gradle:latest
ldap:latest
mailer:latest
matrix-auth:latest
pam-auth:latest
pipeline-github-lib:latest
pipeline-stage-view:latest
ssh-slaves:latest
timestamper:latest
workflow-aggregator:latest
ws-cleanup:latest
</code></pre>
<p>Save the file and exit your editor.</p>
<p>The list contains the Configuration as Code plugin, as well as all the plugins suggested by the setup wizard (correct as of Jenkins v2.251). For example, you have the <a href="https://plugins.jenkins.io/git/">Git</a> plugin, which allows Jenkins to work with Git repositories; you also have the <a href="https://plugins.jenkins.io/workflow-aggregator/">Pipeline</a> plugin, which is actually a suite of plugins that allows you to define Jenkins jobs as code.</p>
<div class="note">
<p><strong>Note:</strong> The most up-to-date list of suggested plugins can be inferred from the <a href="https://github.com/jenkinsci/jenkins/blob/master/core/src/main/resources/jenkins/install/platform-plugins.json">source code</a>. You can also find a list of the most popular community-contributed plugins at <a href="https://plugins.jenkins.io/">plugins.jenkins.io</a>. Feel free to include any other plugins you want into the list.</p>
</div>
<p>Next, open up the <code>Dockerfile</code> file:</p>
<div class="code-toolbar"><pre class="prefixed command language-bash" tabindex="0"><code class="language-bash"><ol><li data-prefix="$"><span class="token function">nano</span> <span class="token environment constant">$HOME</span>/playground/jcasc/Dockerfile
</li></ol>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>In it, add a <code>COPY</code> instruction to copy the <code>plugins.txt</code> file into the <code>/usr/share/jenkins/ref/</code> directory inside the image; this is where Jenkins normally looks for plugins. Then, include an additional <code>RUN</code> instruction to run the <code>install-plugins.sh</code> script:</p>
<div class="code-label" title="~/playground/jcasc/Dockerfile">~/playground/jcasc/Dockerfile</div>
<div class="code-toolbar"><pre class="language-docker" tabindex="0"><code class="language-docker"><span class="token instruction"><span class="token keyword">FROM</span> jenkins/jenkins</span>
<span class="token instruction"><span class="token keyword">ENV</span> JAVA_OPTS -Djenkins.install.runSetupWizard=false</span>
<mark><span class="token instruction"><span class="token keyword">COPY</span> plugins.txt /usr/share/jenkins/ref/plugins.txt</span></mark>
<mark><span class="token instruction"><span class="token keyword">RUN</span> /usr/local/bin/install-plugins.sh &lt; /usr/share/jenkins/ref/plugins.txt</span></mark>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>Save the file and exit the editor. Then, build a new image using the revised <code>Dockerfile</code>:</p>
<div class="code-toolbar"><pre class="prefixed command language-bash" tabindex="0"><code class="language-bash"><ol><li data-prefix="$"><span class="token function">docker</span> build -t jenkins:jcasc <span class="token builtin class-name">.</span>
</li></ol>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>This step involves downloading and installing many plugins into the image, and may take some time to run depending on your internet connection. Once the plugins have finished installing, run the new Jenkins image:</p>
<div class="code-toolbar"><pre class="prefixed command language-bash" tabindex="0"><code class="language-bash"><ol><li data-prefix="$"><span class="token function">docker</span> run --name jenkins --rm -p <span class="token number">8080</span>:8080 jenkins:jcasc
</li></ol>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>After the <code>Jenkins is fully up and running</code> message appears on <code>stdout</code>, navigate to <code><mark>server_ip</mark>:8080/pluginManager/installed</code> to see a list of installed plugins. You will see a solid checkbox next to all the plugins you’ve specified inside <code>plugins.txt</code>, as well as a faded checkbox next to plugins, which are dependencies of those plugins.</p>
<p><img src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/step2b.png" alt="A list of installed plugins"></p>
<p>Once you’ve confirmed that the <strong>Configuration As Code</strong> plugin is installed, terminate the container process by pressing <code>CTRL+C</code>.</p>
<p>In this step, you’ve installed all the suggested Jenkins plugins and the Configuration as Code plugin. You’re now ready to use JCasC to tackle the issues listed in the notification box. In the next step, you will fix the first issue, which warns you that the <strong>Jenkins root URL is empty</strong>.</p>
<h2 id="step-3-specifying-the-jenkins-url">Step 3 — Specifying the Jenkins URL</h2>
<p>The Jenkins URL is a URL for the Jenkins instance that is routable from the devices that need to access it. For example, if you’re deploying Jenkins as a node inside a private network, the Jenkins URL may be a private IP address, or a DNS name that is resolvable using a private DNS server. For this tutorial, it is sufficient to use the server’s IP address (or <code>127.0.0.1</code> for local hosts) to form the Jenkins URL.</p>
<p>You can set the Jenkins URL on the web interface by navigating to <code><mark>server_ip</mark>:8080/configure</code> and entering the value in the <strong>Jenkins URL</strong> field under the <strong>Jenkins Location</strong> heading. Here’s how to achieve the same using the Configuration as Code plugin:</p>
<ol>
<li>Define the desired configuration of your Jenkins instance inside a declarative configuration file (which we’ll call <code>casc.yaml</code>).</li>
<li>Copy the configuration file into the Docker image (just as you did for your <code>plugins.txt</code> file).</li>
<li>Set the <code>CASC_JENKINS_CONFIG</code> environment variable to the path of the configuration file to instruct the Configuration as Code plugin to read it.</li>
</ol>
<p>First, create a new file named <code>casc.yaml</code>:</p>
<div class="code-toolbar"><pre class="prefixed command language-bash" tabindex="0"><code class="language-bash"><ol><li data-prefix="$"><span class="token function">nano</span> <span class="token environment constant">$HOME</span>/playground/jcasc/casc.yaml
</li></ol>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>Then, add in the following lines:</p>
<div class="code-label" title="~/playground/jcasc/casc.yaml">~/playground/jcasc/casc.yaml</div>
<div class="code-toolbar"><pre class="language-yaml" tabindex="0"><code class="language-yaml"><span class="token key atrule">unclassified</span><span class="token punctuation">:</span>
  <span class="token key atrule">location</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//<mark>server_ip</mark><span class="token punctuation">:</span>8080/
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p><code>unclassified.location.url</code> is the path for setting the Jenkins URL. It is just one of a myriad of properties that can be set with JCasC. Valid properties are determined by the plugins that are installed. For example, the <code>jenkins.authorizationStrategy.globalMatrix.permissions</code> property would only be valid if the <a href="https://plugins.jenkins.io/matrix-auth">Matrix Authorization Strategy</a> plugin is installed. To see what properties are available, navigate to <code><mark>server_ip</mark>:8080/configuration-as-code/reference</code>, and you’ll find a page of documentation that is customized to your particular Jenkins installation.</p>
<p>Save the <code>casc.yaml</code> file, exit your editor, and open the <code>Dockerfile</code> file:</p>
<div class="code-toolbar"><pre class="prefixed command language-bash" tabindex="0"><code class="language-bash"><ol><li data-prefix="$"><span class="token function">nano</span> <span class="token environment constant">$HOME</span>/playground/jcasc/Dockerfile
</li></ol>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>Add a <code>COPY</code> instruction to the end of your <code>Dockerfile</code> that copies the <code>casc.yaml</code> file into the image at <code>/var/jenkins_home/casc.yaml</code>. You’ve chosen <code>/var/jenkins_home/</code> because that’s the default directory where Jenkins stores all of its data:</p>
<div class="code-label" title="~/playground/jcasc/Dockerfile">~/playground/jcasc/Dockerfile</div>
<div class="code-toolbar"><pre class="language-docker" tabindex="0"><code class="language-docker"><span class="token instruction"><span class="token keyword">FROM</span> jenkins/jenkins:latest</span>
<span class="token instruction"><span class="token keyword">ENV</span> JAVA_OPTS -Djenkins.install.runSetupWizard=false</span>
<span class="token instruction"><span class="token keyword">COPY</span> plugins.txt /usr/share/jenkins/ref/plugins.txt</span>
<span class="token instruction"><span class="token keyword">RUN</span> /usr/local/bin/install-plugins.sh &lt; /usr/share/jenkins/ref/plugins.txt</span>
<mark><span class="token instruction"><span class="token keyword">COPY</span> casc.yaml /var/jenkins_home/casc.yaml</span></mark>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>Then, add a further <code>ENV</code> instruction that sets the <code>CASC_JENKINS_CONFIG</code> environment variable:</p>
<div class="code-label" title="~/playground/jcasc/Dockerfile">~/playground/jcasc/Dockerfile</div>
<div class="code-toolbar"><pre class="language-docker" tabindex="0"><code class="language-docker"><span class="token instruction"><span class="token keyword">FROM</span> jenkins/jenkins:latest</span>
<span class="token instruction"><span class="token keyword">ENV</span> JAVA_OPTS -Djenkins.install.runSetupWizard=false</span>
<mark><span class="token instruction"><span class="token keyword">ENV</span> CASC_JENKINS_CONFIG /var/jenkins_home/casc.yaml</span></mark>
<span class="token instruction"><span class="token keyword">COPY</span> plugins.txt /usr/share/jenkins/ref/plugins.txt</span>
<span class="token instruction"><span class="token keyword">RUN</span> /usr/local/bin/install-plugins.sh &lt; /usr/share/jenkins/ref/plugins.txt</span>
<span class="token instruction"><span class="token keyword">COPY</span> casc.yaml /var/jenkins_home/casc.yaml</span>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<div class="note">
<p><strong>Note:</strong> You’ve put the <code>ENV</code> instruction near the top because it’s something that you are unlikely to change. By placing it before the <code>COPY</code> and <code>RUN</code> instructions, you can avoid invalidating the cached layer if you were to update the <code>casc.yaml</code> or <code>plugins.txt</code>.</p>
</div>
<p>Save the file and exit the editor. Next, build the image:</p>
<div class="code-toolbar"><pre class="prefixed command language-bash" tabindex="0"><code class="language-bash"><ol><li data-prefix="$"><span class="token function">docker</span> build -t jenkins:jcasc <span class="token builtin class-name">.</span>
</li></ol>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>And run the updated Jenkins image:</p>
<div class="code-toolbar"><pre class="prefixed command language-bash" tabindex="0"><code class="language-bash"><ol><li data-prefix="$"><span class="token function">docker</span> run --name jenkins --rm -p <span class="token number">8080</span>:8080 jenkins:jcasc
</li></ol>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>As soon as the <code>Jenkins is fully up and running</code> log line appears, navigate to <code><mark>server_ip</mark>:8080</code> to view the dashboard. This time, you may have noticed that the notification count is reduced by one, and the warning about the Jenkins URL has disappeared.</p>
<p><img src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/step3a.png" alt="Jenkins Dashboard showing the notification counter has a count of 1"></p>
<p>Now, navigate to <code><mark>server_ip</mark>:8080/configure</code> and scroll down to the <strong>Jenkins URL</strong> field. Confirm that the Jenkins URL has been set to the same value specified in the <code>casc.yaml</code> file.</p>
<p>Lastly, stop the container process by pressing <code>CTRL+C</code>.</p>
<p>In this step, you used the Configuration as Code plugin to set the Jenkins URL. In the next step, you will tackle the second issue from the notifications list (the <strong>Jenkins is currently unsecured</strong> message).</p>
<h2 id="step-4-creating-a-user">Step 4 — Creating a User</h2>
<p>So far, your setup has not implemented any authentication and authorization mechanisms. In this step, you will set up a basic, password-based authentication scheme and create a new user named <code>admin</code>.</p>
<p>Start by opening your <code>casc.yaml</code> file:</p>
<div class="code-toolbar"><pre class="prefixed command language-bash" tabindex="0"><code class="language-bash"><ol><li data-prefix="$"><span class="token function">nano</span> <span class="token environment constant">$HOME</span>/playground/jcasc/casc.yaml
</li></ol>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>Then, add in the highlighted snippet:</p>
<div class="code-label" title="~/playground/jcasc/casc.yaml">~/playground/jcasc/casc.yaml</div>
<div class="code-toolbar"><pre class="language-yaml" tabindex="0"><code class="language-yaml"><mark><span class="token key atrule">jenkins</span><span class="token punctuation">:</span></mark>
  <mark><span class="token key atrule">securityRealm</span><span class="token punctuation">:</span></mark>
    <mark><span class="token key atrule">local</span><span class="token punctuation">:</span></mark>
      <mark><span class="token key atrule">allowsSignup</span><span class="token punctuation">:</span> <span class="token boolean important">false</span></mark>
      <mark><span class="token key atrule">users</span><span class="token punctuation">:</span></mark>
       <mark><span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>JENKINS_ADMIN_ID<span class="token punctuation">}</span></mark>
         <mark><span class="token key atrule">password</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>JENKINS_ADMIN_PASSWORD<span class="token punctuation">}</span></mark>
<span class="token key atrule">unclassified</span><span class="token punctuation">:</span>
  <span class="token punctuation">...</span>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>In the context of Jenkins, a <em>security realm</em> is simply an authentication mechanism; the local security realm means to use basic authentication where users must specify their ID/username and password. Other security realms exist and are provided by plugins. For instance, the <a href="https://plugins.jenkins.io/ldap">LDAP</a> plugin allows you to use an existing LDAP directory service as the authentication mechanism. The <a href="https://plugins.jenkins.io/github-oauth">GitHub Authentication</a> plugin allows you to use your GitHub credentials to authenticate via OAuth.</p>
<p>Note that you’ve also specified <code>allowsSignup: false</code>, which prevents anonymous users from creating an account through the web interface.</p>
<p>Finally, instead of hard-coding the user ID and password, you are using variables whose values can be filled in at runtime. This is important because one of the benefits of using JCasC is that the <code>casc.yaml</code> file can be committed into source control; if you were to store user passwords in plaintext inside the configuration file, you would have effectively compromised the credentials. Instead, variables are defined using the <code>${VARIABLE_NAME}</code> syntax, and its value can be filled in using an environment variable of the same name, or a file of the same name that’s placed inside the <code>/run/secrets/</code> directory within the container image.</p>
<p>Next, build a new image to incorporate the changes made to the <code>casc.yaml</code> file:</p>
<div class="code-toolbar"><pre class="prefixed command language-bash" tabindex="0"><code class="language-bash"><ol><li data-prefix="$"><span class="token function">docker</span> build -t jenkins:jcasc <span class="token builtin class-name">.</span>
</li></ol>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>Then, run the updated Jenkins image whilst passing in the <code>JENKINS_ADMIN_ID</code> and <code>JENKINS_ADMIN_PASSWORD</code> environment variables via the <a href="https://docs.docker.com/engine/reference/commandline/run/#set-environment-variables--e---env---env-file"><code>--env</code></a> option (replace <code><mark>&lt;password&gt;</mark></code> with a password of your choice):</p>
<div class="code-toolbar"><pre class="prefixed command language-bash" tabindex="0"><code class="language-bash"><ol><li data-prefix="$"><span class="token function">docker</span> run --name jenkins --rm -p <span class="token number">8080</span>:8080 --env <span class="token assign-left variable">JENKINS_ADMIN_ID</span><span class="token operator">=</span>admin --env <span class="token assign-left variable">JENKINS_ADMIN_PASSWORD</span><span class="token operator">=</span><mark>password</mark> jenkins:jcasc
</li></ol>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>You can now go to <code><mark>server_ip</mark>:8080/login</code> and log in using the specified credentials.</p>
<p><img src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/step4a.png" alt="Jenkins Login Screen with the user ID and password fields populated"></p>
<p>Once you’ve logged in successfully, you will be redirected to the dashboard.</p>
<p><img src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/step4b.png" alt="Jenkins Dashboard for authenticated user, showing the user ID and a &#39;log out&#39; link near the top right corner of the page"></p>
<p>Finish this step by pressing <code>CTRL+C</code> to stop the container.</p>
<p>In this step, you used JCasC to create a new user named <code>admin</code>. You’ve also learned how to keep sensitive data, like passwords, out of files tracked by VCSs. However, so far you’ve only configured user authentication; you haven’t implemented any authorization mechanisms. In the next step, you will use JCasC to grant your <code>admin</code> user with administrative privileges.</p>
<h2 id="step-5-setting-up-authorization">Step 5 — Setting Up Authorization</h2>
<p>After setting up the security realm, you must now configure the <em>authorization strategy</em>. In this step, you will use the <a href="https://plugins.jenkins.io/matrix-auth">Matrix Authorization Strategy</a> plugin to configure permissions for your <code>admin</code> user.</p>
<p>By default, the Jenkins core installation provides us with three authorization strategies:</p>
<ul>
<li><code>unsecured</code>: every user, including anonymous users, have full permissions to do everything</li>
<li><code>legacy</code>: emulates legacy Jenkins (prior to v1.164), where any users with the role <code>admin</code> is given full permissions, whilst other users, including anonymous users, are given read access.</li>
</ul>
<div class="note">
<p><strong>Note:</strong> A <em>role</em> in Jenkins can be a user (for example, <code>daniel</code>) or a group (for example, <code>developers</code>)</p>
</div>
<ul>
<li><code>loggedInUsersCanDoAnything</code>: anonymous users are given either no access or read-only access. Authenticated users have full permissions to do everything. By allowing actions only for authenticated users, you are able to have an audit trail of which users performed which actions.</li>
</ul>
<div class="note">
<p><strong>Note:</strong> You can explore other authorization strategies and their related plugins in the <a href="https://jenkins.io/doc/developer/extensions/jenkins-core/#authorizationstrategy">documentation</a>; these include plugins that handle both authentication and authorization.</p>
</div>
<p>All of these authorization strategies are very crude, and does not afford granular control over how permissions are set for different users. Instead, you can use the Matrix Authorization Strategy plugin that was already included in your <code>plugins.txt</code> list. This plugin affords you a more granular authorization strategy, and allows you to set user permissions globally, as well as per project/job.</p>
<p>The Matrix Authorization Strategy plugin allows you to use the <code>jenkins.authorizationStrategy.globalMatrix.permissions</code> JCasC property to set global permissions. To use it, open your <code>casc.yaml</code> file:</p>
<div class="code-toolbar"><pre class="prefixed command language-bash" tabindex="0"><code class="language-bash"><ol><li data-prefix="$"><span class="token function">nano</span> <span class="token environment constant">$HOME</span>/playground/jcasc/casc.yaml
</li></ol>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>And add in the highlighted snippet:</p>
<div class="code-label" title="~/playground/jcasc/casc.yaml">~/playground/jcasc/casc.yaml</div>
<div class="code-toolbar"><pre class="language-yaml" tabindex="0"><code class="language-yaml"><span class="token punctuation">...</span>
       <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>JENKINS_ADMIN_ID<span class="token punctuation">}</span>
         <span class="token key atrule">password</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>JENKINS_ADMIN_PASSWORD<span class="token punctuation">}</span>
  <mark><span class="token key atrule">authorizationStrategy</span><span class="token punctuation">:</span></mark>
    <mark><span class="token key atrule">globalMatrix</span><span class="token punctuation">:</span></mark>
      <mark><span class="token key atrule">permissions</span><span class="token punctuation">:</span></mark>
        <mark><span class="token punctuation">-</span> <span class="token string">"Overall/Administer:admin"</span></mark>
        <mark><span class="token punctuation">-</span> <span class="token string">"Overall/Read:authenticated"</span></mark>
<span class="token key atrule">unclassified</span><span class="token punctuation">:</span>
<span class="token punctuation">...</span>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>The <code>globalMatrix</code> property sets global permissions (as opposed to per-project permissions). The <code>permissions</code> property is a list of strings with the format <code>&lt;permission-group&gt;/&lt;permission-name&gt;:&lt;role&gt;</code>. Here, you are granting the <code>Overall/Administer</code> permissions to the <code>admin</code> user. You’re also granting <code>Overall/Read</code> permissions to <code>authenticated</code>, which is a special role that represents all authenticated users. There’s another special role called <code>anonymous</code>, which groups all non-authenticated users together. But since permissions are denied by default, if you don’t want to give anonymous users any permissions, you don’t need to explicitly include an entry for it.</p>
<p>Save the <code>casc.yaml</code> file, exit your editor, and build a new image:</p>
<div class="code-toolbar"><pre class="prefixed command language-bash" tabindex="0"><code class="language-bash"><ol><li data-prefix="$"><span class="token function">docker</span> build -t jenkins:jcasc <span class="token builtin class-name">.</span>
</li></ol>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>Then, run the updated Jenkins image:</p>
<div class="code-toolbar"><pre class="prefixed command language-bash" tabindex="0"><code class="language-bash"><ol><li data-prefix="$"><span class="token function">docker</span> run --name jenkins --rm -p <span class="token number">8080</span>:8080 --env <span class="token assign-left variable">JENKINS_ADMIN_ID</span><span class="token operator">=</span>admin --env <span class="token assign-left variable">JENKINS_ADMIN_PASSWORD</span><span class="token operator">=</span><mark>password</mark> jenkins:jcasc
</li></ol>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>Wait for the <code>Jenkins is fully up and running</code> log line, and then navigate to <code><mark>server_ip</mark>:8080</code>. You will be redirected to the login page. Fill in your credentials and you will be redirected to the main dashboard.</p>
<p>In this step, you have set up global permissions for your <code>admin</code> user. However, resolving the authorization issue uncovered additional issues that are now shown in the notification menu.</p>
<p><img src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/step5a.png" alt="Jenkins Dashboard showing the notifications menu with two issues"></p>
<p>Therefore, in the next step, you will continue to modify your Docker image, to resolve each issue one by one until none remains.</p>
<p>Before you continue, stop the container by pressing <code>CTRL+C</code>.</p>
<h2 id="step-6-setting-up-build-authorization">Step 6 — Setting Up Build Authorization</h2>
<p>The first issue in the notifications list relates to build authentication. By default, all jobs are run as the system user, which has a lot of system privileges. Therefore, a Jenkins user can perform <em>privilege escalation</em> simply by defining and running a malicious job or pipeline; this is insecure.</p>
<p>Instead, jobs should be ran using the same Jenkins user that configured or triggered it. To achieve this, you need to install an additional plugin called the <a href="https://plugins.jenkins.io/authorize-project">Authorize Project</a> plugin.</p>
<p>Open <code>plugins.txt</code>:</p>
<div class="code-toolbar"><pre class="prefixed command language-bash" tabindex="0"><code class="language-bash"><ol><li data-prefix="$"><span class="token function">nano</span> <span class="token environment constant">$HOME</span>/playground/jcasc/plugins.txt
</li></ol>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>And add the highlighted line:</p>
<div class="code-label" title="~/playground/jcasc/plugins.txt">~/playground/jcasc/plugins.txt</div>
<pre class=""><code>ant:latest
antisamy-markup-formatter:latest
<mark>authorize-project:latest</mark>
build-timeout:latest
...
</code></pre>
<p>The plugin provides a new build authorization strategy, which you would need to specify in your JCasC configuration. Exit out of the <code>plugins.txt</code> file and open the <code>casc.yaml</code> file:</p>
<div class="code-toolbar"><pre class="prefixed command language-bash" tabindex="0"><code class="language-bash"><ol><li data-prefix="$"><span class="token function">nano</span> <span class="token environment constant">$HOME</span>/playground/jcasc/casc.yaml
</li></ol>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>Add the highlighted block to your <code>casc.yaml</code> file:</p>
<div class="code-label" title="~/playground/jcasc/casc.yaml">~/playground/jcasc/casc.yaml</div>
<div class="code-toolbar"><pre class="language-yaml" tabindex="0"><code class="language-yaml"><span class="token punctuation">...</span>
        <span class="token punctuation">-</span> <span class="token string">"Overall/Administer:admin"</span>
        <span class="token punctuation">-</span> <span class="token string">"Overall/Read:authenticated"</span>
<mark><span class="token key atrule">security</span><span class="token punctuation">:</span></mark>
  <mark><span class="token key atrule">queueItemAuthenticator</span><span class="token punctuation">:</span></mark>
    <mark><span class="token key atrule">authenticators</span><span class="token punctuation">:</span></mark>
    <mark><span class="token punctuation">-</span> <span class="token key atrule">global</span><span class="token punctuation">:</span></mark>
        <mark><span class="token key atrule">strategy</span><span class="token punctuation">:</span> triggeringUsersAuthorizationStrategy</mark>
<span class="token key atrule">unclassified</span><span class="token punctuation">:</span>
<span class="token punctuation">...</span>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>Save the file and exit the editor. Then, build a new image using the modified <code>plugins.txt</code> and <code>casc.yaml</code> files:</p>
<div class="code-toolbar"><pre class="prefixed command language-bash" tabindex="0"><code class="language-bash"><ol><li data-prefix="$"><span class="token function">docker</span> build -t jenkins:jcasc <span class="token builtin class-name">.</span>
</li></ol>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>Then, run the updated Jenkins image:</p>
<div class="code-toolbar"><pre class="prefixed command language-bash" tabindex="0"><code class="language-bash"><ol><li data-prefix="$"><span class="token function">docker</span> run --name jenkins --rm -p <span class="token number">8080</span>:8080 --env <span class="token assign-left variable">JENKINS_ADMIN_ID</span><span class="token operator">=</span>admin --env <span class="token assign-left variable">JENKINS_ADMIN_PASSWORD</span><span class="token operator">=</span><mark>password</mark> jenkins:jcasc
</li></ol>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>Wait for the <code>Jenkins is fully up and running</code> log line, then navigate to <code><mark>server_ip</mark>:8080/login</code>, fill in your credentials, and arrive at the main dashboard. Open the notification menu, and you will see the issue related to build authentication no longer appears.</p>
<p><img src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/step6a.png" alt="Jenkins dashboard&#39;s notification menu showing a single issue related to agent to master security subsystem being turned off"></p>
<p>Stop the container by running <code>CTRL+C</code> before continuing.</p>
<p>In this step, you have configured Jenkins to run builds using the user that triggered the build, instead of the system user. This eliminates one of the issues in the notifications list. In the next step, you will tackle the next issue related to the Agent to Controller Security Subsystem.</p>
<h2 id="step-7-enabling-agent-to-controller-access-control">Step 7 — Enabling Agent to Controller Access Control</h2>
<p>In this tutorial, you have deployed only a single instance of Jenkins, which runs all builds. However, Jenkins supports distributed builds using an agent/controller configuration. The controller is responsible for providing the web UI, exposing an API for clients to send requests to, and co-ordinating builds. The agents are the instances that execute the jobs.</p>
<p>The benefit of this configuration is that it is more scalable and fault-tolerant. If one of the servers running Jenkins goes down, other instances can take up the extra load.</p>
<p>However, there may be instances where the agents cannot be trusted by the controller. For example, the OPS team may manage the Jenkins controller, whilst an external contractor manages their own custom-configured Jenkins agent. Without the Agent to Controller Security Subsystem, the agent is able to instruct the controller to execute any actions it requests, which may be undesirable. By enabling Agent to Controller Access Control, you can control which commands and files the agents have access to.</p>
<p>To enable Agent to Controller Access Control, open the <code>casc.yaml</code> file:</p>
<div class="code-toolbar"><pre class="prefixed command language-bash" tabindex="0"><code class="language-bash"><ol><li data-prefix="$"><span class="token function">nano</span> <span class="token environment constant">$HOME</span>/playground/jcasc/casc.yaml
</li></ol>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>Then, add the following highlighted lines:</p>
<div class="code-label" title="~/playground/jcasc/casc.yaml">~/playground/jcasc/casc.yaml</div>
<div class="code-toolbar"><pre class="language-yaml" tabindex="0"><code class="language-yaml"><span class="token punctuation">...</span>
        <span class="token punctuation">-</span> <span class="token string">"Overall/Administer:admin"</span>
        <span class="token punctuation">-</span> <span class="token string">"Overall/Read:authenticated"</span>
  <mark><span class="token key atrule">remotingSecurity</span><span class="token punctuation">:</span></mark>
    <mark><span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></mark>
<span class="token key atrule">security</span><span class="token punctuation">:</span>
  <span class="token key atrule">queueItemAuthenticator</span><span class="token punctuation">:</span>
<span class="token punctuation">...</span>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>Save the file and build a new image:</p>
<div class="code-toolbar"><pre class="prefixed command language-bash" tabindex="0"><code class="language-bash"><ol><li data-prefix="$"><span class="token function">docker</span> build -t jenkins:jcasc <span class="token builtin class-name">.</span>
</li></ol>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>Run the updated Jenkins image:</p>
<div class="code-toolbar"><pre class="prefixed command language-bash" tabindex="0"><code class="language-bash"><ol><li data-prefix="$"><span class="token function">docker</span> run --name jenkins --rm -p <span class="token number">8080</span>:8080 --env <span class="token assign-left variable">JENKINS_ADMIN_ID</span><span class="token operator">=</span>admin --env <span class="token assign-left variable">JENKINS_ADMIN_PASSWORD</span><span class="token operator">=</span><mark>password</mark> jenkins:jcasc
</li></ol>
</code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div><div class="toolbar-item"><span style="display: none;"></span></div></div></div>
<p>Navigate to <code><mark>server_ip</mark>:8080/login</code> and authenticate as before. When you land on the main dashboard, the notifications menu will not show any more issues.</p>
<p><img src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/step7a.png" alt="Jenkins dashboard showing no issues"></p>
<h2 id="conclusion">Conclusion</h2>
<p>You’ve now successfully configured a simple Jenkins server using JCasC. Just as the <a href="https://plugins.jenkins.io/workflow-aggregator/">Pipeline plugin</a> enables developers to define their jobs inside a <code>Jenkinsfile</code>, the Configuration as Code plugin enables administrators to define the Jenkins configuration inside a YAML file. Both of these plugins bring Jenkins closer aligned with the <em>Everything as Code</em> (EaC) paradigm.</p>
<p>However, getting the JCasC syntax correct can be difficult, and the documentation can be hard to decipher. If you’re stuck and need help, you may find it in the <a href="https://gitter.im/jenkinsci/configuration-as-code-plugin">Gitter chat</a> for the plugin.</p>
<p>Although you have configured the basic settings of Jenkins using JCasC, the new instance does not contain any projects or jobs. To take this even further, explore the <a href="https://plugins.jenkins.io/job-dsl">Job DSL</a> plugin, which allows us to define projects and jobs as code. What’s more, you can include the Job DSL code inside your JCasC configuration file, and have the projects and jobs created as part of the configuration process.</p>
</div><div class="TutorialTemplateStyles__StyledCollaboratorsFooterContainer-sc-1gdp4d7-12 jwYWgT"><div class="TutorialTemplateStyles__StyledCollaboratorsFooter-sc-1gdp4d7-13 bYGqwG"><div class="TutorialTemplateStyles__StyledCollaboratorsHeading-sc-1gdp4d7-14 dEOOJF">About the authors</div><div class="TutorialTemplateStyles__StyledCollaborator-sc-1gdp4d7-15 bodjNQ"><img src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/46f22fba-7718-478b-86ae-e8b875f0473e_default-avatar.png" alt="Default avatar" class="TutorialTemplateStyles__StyledAvatarLarge-sc-1gdp4d7-16 hFqUqU"><div class="TutorialTemplateStyles__StyledCollaboratorInfo-sc-1gdp4d7-17 eqmajL"><div class="TutorialTemplateStyles__StyledCollaboratorName-sc-1gdp4d7-18 LvxTn"><a href="https://www.digitalocean.com/community/users/d4nyll" class="TutorialTemplateStyles__StyledRecordMetaItemAuthorDefault-sc-1gdp4d7-8 TutorialTemplateStyles__StyledRecordMetaItemAuthorHighlight-sc-1gdp4d7-9 gcmTXE eZgQAr">Daniel Li</a></div><div class="TutorialTemplateStyles__StyledCollaboratorBio-sc-1gdp4d7-19 hZNdgb">Author of Building Enterprise JavaScript Applications (BEJA) - https://packtpub.com/web-development/building-enterprise-javascript-applications</div></div></div><div class="TutorialTemplateStyles__StyledCollaborator-sc-1gdp4d7-15 bodjNQ"><img src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/46f22fba-7718-478b-86ae-e8b875f0473e_default-avatar.png" alt="Default avatar" class="TutorialTemplateStyles__StyledAvatarLarge-sc-1gdp4d7-16 hFqUqU"><div class="TutorialTemplateStyles__StyledCollaboratorInfo-sc-1gdp4d7-17 eqmajL"><div class="TutorialTemplateStyles__StyledCollaboratorName-sc-1gdp4d7-18 LvxTn"><a href="https://www.digitalocean.com/community/users/khancox" class="TutorialTemplateStyles__StyledRecordMetaItemAuthorDefault-sc-1gdp4d7-8 TutorialTemplateStyles__StyledRecordMetaItemAuthorHighlight-sc-1gdp4d7-9 gcmTXE eZgQAr">Kathryn Hancox</a></div><div class="TutorialTemplateStyles__StyledCollaboratorBio-sc-1gdp4d7-19 hZNdgb">Senior Technical Editor  @ DigitalOcean</div></div></div></div></div><div class="QuestionSearchFooterStyles__StyledQuestionSearchFooterContainer-sc-175aseh-0 kRkyqj"><div class="QuestionSearchFooterStyles__StyledQuestionSearchFooterContent-sc-175aseh-1 bvQZCd"><h4 class="HeadingStyles__StyledH4-sc-kkk1io-3 dhOxFy QuestionSearchFooter___StyledHeading-sc-zwkbuq-0 kbGKXQ">Still looking for an answer?</h4><div class="QuestionSearchFooterStyles__StyledQuestionSearchFooterActions-sc-175aseh-2 hwddyy"><a href="https://www.digitalocean.com/community/questions" class="QuestionSearchFooterStyles__StyledActionBox-sc-175aseh-3 btDqYJ">Ask a question</a><a href="https://www.digitalocean.com/community" class="QuestionSearchFooterStyles__StyledActionBox-sc-175aseh-3 btDqYJ">Search for more help</a></div></div></div><div class="RelatedRecordsStyles__StyledRelatedRecordsWrapper-sc-1gtfc2p-0 iPwEJN"><div class="RelatedRecords___StyledDiv-sc-2xyvab-0 kyWAVL"><a href="https://cloud.digitalocean.com/apps" class="PrismicRelatedRecordsStyles__PrismicRelatedRecordWrapper-sc-1i7xt0o-0 btByLu"><span class="PrismicRelatedRecordsStyles__PrismicRelatedRecordTitle-sc-1i7xt0o-2 eTRhaK">App Platform: Run Docker containers without managing servers</span><span class="PrismicRelatedRecordsStyles__PrismicRelatedRecordImageWrapper-sc-1i7xt0o-1 eYzSTE"><img src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/featured-AP-icon.svg" alt="Product" height="45" width="45"></span><span class="PrismicRelatedRecordsStyles__PrismicRelatedRecordDescription-sc-1i7xt0o-4 fPfmtl"><p class="PrismicRelatedRecordsStyles__PrismicRelatedRecordDescriptionHeadline-sc-1i7xt0o-5 kFDjqs">With App Platform, you can:</p><ul class="PrismicRelatedRecordsStyles__PrismicRelatedRecordDescriptionList-sc-1i7xt0o-6 bVBzlm"><li class="PrismicRelatedRecordsStyles__PrismicRelatedRecordDescriptionListItem-sc-1i7xt0o-7 foJhCl">Build, deploy, and scale apps and static sites by simply pointing to your GitHub repository</li><li class="PrismicRelatedRecordsStyles__PrismicRelatedRecordDescriptionListItem-sc-1i7xt0o-7 foJhCl">Let us manage the infrastructure, app runtimes, and other dependencies</li><li class="PrismicRelatedRecordsStyles__PrismicRelatedRecordDescriptionListItem-sc-1i7xt0o-7 foJhCl">Get started by building and deploying three static sites for free</li></ul></span><button class="ButtonStyles__StyledButton-sc-4h9jsk-0 gvonXW PrismicRelatedRecords___StyledButton-sc-19bumnj-0 iBXEXI is-primary is-small is-squared">Learn More</button></a><h3 class="HeadingStyles__StyledH3-sc-kkk1io-2 kvSgZc RelatedRecords___StyledHeading-sc-2xyvab-1 xmCob">Related</h3><a href="https://www.digitalocean.com/community/tutorials/how-to-install-discourse-on-ubuntu-18-04" class="RelatedRecordsStyles__StyledRelatedNonPrismicRecord-sc-1gtfc2p-1 bmtFSc"><div class="RelatedRecordsStyles__StyledRelatedNonPrismicRecordTitle-sc-1gtfc2p-2 kPrQLC">How To Install Discourse on Ubuntu 18.04</div><div class="RelatedRecordsStyles__StyledRelatedNonPrismicRecordTypeContainer-sc-1gtfc2p-4 caBVvJ"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#0180ff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" marginright="8px" float="left"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg><span class="RelatedRecordsStyles__StyledRelatedNonPrismicRecordType-sc-1gtfc2p-3 covxVt">Tutorial</span></div></a><a href="https://www.digitalocean.com/community/tutorials/how-to-configure-buildbot-with-ssl-using-an-nginx-reverse-proxy" class="RelatedRecordsStyles__StyledRelatedNonPrismicRecord-sc-1gtfc2p-1 bmtFSc"><div class="RelatedRecordsStyles__StyledRelatedNonPrismicRecordTitle-sc-1gtfc2p-2 kPrQLC">How To Configure Buildbot with SSL using an Nginx Reverse Proxy</div><div class="RelatedRecordsStyles__StyledRelatedNonPrismicRecordTypeContainer-sc-1gtfc2p-4 caBVvJ"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#0180ff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" marginright="8px" float="left"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg><span class="RelatedRecordsStyles__StyledRelatedNonPrismicRecordType-sc-1gtfc2p-3 covxVt">Tutorial</span></div></a></div></div><div class="container"><div class="TutorialTabs___StyledDiv-sc-6fpjf1-3 emBAqs"><button id="testControlledTab-0" class="ButtonStyles__StyledButton-sc-4h9jsk-0 gvonXW TutorialTabs___StyledButton-sc-6fpjf1-0 fyDvQi darkblue" style="color:#031b4e">Comments<svg style="background-color:#e5e8ed" class="TutorialTabs___StyledSvg-sc-6fpjf1-1 ekmcyz"><line x1="1.5" x2="4000px" y1="2px" y2="2px" class="TutorialTabs___StyledLine-sc-6fpjf1-2 bovWFL selected" style="stroke:#0069ff"></line></svg></button></div><div><div class="CommentFormTemplateStyles__StyledFormHeader-sc-1dqa7xz-1 jjqpDw">Leave a comment</div><form class="CommentFormTemplateStyles__StyledForm-sc-1dqa7xz-0 iefNbv"><div class="FieldStyles__StyledField-sc-11w25ym-0 hheTYd CommentFormTemplate___StyledField-sc-er5enn-0 hiuUJs"><div class="MarkdownStyles__StyledContainer-sc-1ece7am-0 ipOAVT"><div class="MarkdownStyles__StyledActions-sc-1ece7am-1 fgShCO"><button type="button" disabled="" aria-label="Preview" class="MarkdownStyles__StyledActionButton-sc-1ece7am-2 MarkdownStyles__StyledPreviewButton-sc-1ece7am-3 kjdaCn gsLcLz"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg></button></div><div class="MarkdownStyles__StyledWrapper-sc-1ece7am-6 dfnEeA"><textarea disabled="" required="" placeholder="Leave a comment..." id="222c-72b3-6cd5-74da-3937-104b-9397-86eb" class="MarkdownStyles__StyledTextarea-sc-1ece7am-5 wIDai" style="height: 127px !important;"></textarea></div></div></div></form><div class="CommentFormTemplateStyles__StyledButtonBar-sc-1dqa7xz-3 jxCHxt"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD ButtonLinkStyles__StyledButtonLink-sc-fgcl9o-0 kVjFOF is-community blue is-sign-in" href="https://www.digitalocean.com/api/dynamic-content/v1/login?success_redirect=https%3A%2F%2Fwww.digitalocean.com%2Fcommunity%2Ftutorials%2Fhow-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code&amp;error_redirect=https%3A%2F%2Fwww.digitalocean.com%2Fauth_error" title="">Sign in to Comment</a></div></div><div class="CommentsTemplateStyles__StyledCommentsContainer-sc-k3bvlc-0 fUzjbI"><div class="CommentStyles__StyledCommentContainer-sc-gn53o-2 imulyI"><div class="CommentStyles__StyledCommentMetaContainer-sc-gn53o-3 hiLYBR"><a href="https://www.digitalocean.com/community/users/dixter" class="CommentStyles__StyledCommentMetaName-sc-gn53o-5 jEyDaq">dixter</a><a href="https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code?comment=92012" class="CommentStyles__StyledCommentMetaDate-sc-gn53o-4 boHiSr">October 4, 2020</a></div><span class="CommentStyles__StyledCommentBody-sc-gn53o-0 iOTdXL"><div class="MarkdownStyles__StyledMarkdown-sc-bjjo5d-0 hCXEsf"><p>Hi Daniel,</p>
<p>Thank you for this great tutorial.</p>
<p>I’ve created a public example repo @ <a href="https://github.com/ultrabright/docker-jenkins">https://github.com/ultrabright/docker-jenkins</a> that contains docker that incorporates many of your ideas.</p>
<p>Thanks again,
Hanna.</p>
</div></span><div class="CommentStyles__StyledCommentActions-sc-gn53o-6 hJftol"><button class="CommentStyles__StyledCommentAction-sc-gn53o-7 jxMJiX"><b>Reply</b></button><button class="CommentStyles__StyledCommentAction-sc-gn53o-7 jxMJiX"></button></div><div class="CommentStyles__StyledCommentChildren-sc-gn53o-9 cPWTJJ"><div class="CommentStyles__StyledCommentContainer-sc-gn53o-2 imulyI"><div class="CommentStyles__StyledCommentMetaContainer-sc-gn53o-3 hiLYBR"><a href="https://www.digitalocean.com/community/users/d4nyll" class="CommentStyles__StyledCommentMetaName-sc-gn53o-5 jEyDaq">Daniel Li</a><a href="https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code#" class="CommentStyles__StyledCommentMetaDate-sc-gn53o-4 boHiSr">October 9, 2020</a></div><span class="CommentStyles__StyledCommentBody-sc-gn53o-0 iOTdXL"><div class="MarkdownStyles__StyledMarkdown-sc-bjjo5d-0 hCXEsf"><p>Looks good Hanna! Thanks for sharing :)</p>
</div></span><div class="CommentStyles__StyledCommentActions-sc-gn53o-6 hJftol"><button class="CommentStyles__StyledCommentAction-sc-gn53o-7 jxMJiX"><b>Reply</b></button><button class="CommentStyles__StyledCommentAction-sc-gn53o-7 jxMJiX"></button></div><div class="CommentStyles__StyledCommentChildren-sc-gn53o-9 cPWTJJ"></div></div><div class="CommentStyles__StyledCommentContainer-sc-gn53o-2 imulyI"><div class="CommentStyles__StyledCommentMetaContainer-sc-gn53o-3 hiLYBR"><a href="https://www.digitalocean.com/community/users/abracada137" class="CommentStyles__StyledCommentMetaName-sc-gn53o-5 jEyDaq">abracada137</a><a href="https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code#" class="CommentStyles__StyledCommentMetaDate-sc-gn53o-4 boHiSr">November 9, 2020</a></div><span class="CommentStyles__StyledCommentBody-sc-gn53o-0 iOTdXL"><div class="MarkdownStyles__StyledMarkdown-sc-bjjo5d-0 hCXEsf"><p><a href="https://www.digitalocean.com/community/users/dixter">@dixter</a> thank you for the public example, I like what you did with the bash files, I would really like to further understand the logic behind them, are there any docs or tutorials that you can refer me to for that?</p>
</div></span><div class="CommentStyles__StyledCommentActions-sc-gn53o-6 hJftol"><button class="CommentStyles__StyledCommentAction-sc-gn53o-7 jxMJiX"><b>Reply</b></button><button class="CommentStyles__StyledCommentAction-sc-gn53o-7 jxMJiX"></button></div><div class="CommentStyles__StyledCommentChildren-sc-gn53o-9 cPWTJJ"><div class="CommentStyles__StyledCommentContainer-sc-gn53o-2 imulyI"><div class="CommentStyles__StyledCommentMetaContainer-sc-gn53o-3 hiLYBR"><a href="https://www.digitalocean.com/community/users/dixter" class="CommentStyles__StyledCommentMetaName-sc-gn53o-5 jEyDaq">dixter</a><a href="https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code#" class="CommentStyles__StyledCommentMetaDate-sc-gn53o-4 boHiSr">November 9, 2020</a></div><span class="CommentStyles__StyledCommentBody-sc-gn53o-0 iOTdXL"><div class="MarkdownStyles__StyledMarkdown-sc-bjjo5d-0 hCXEsf"><p>Welcome <a href="https://www.digitalocean.com/community/users/abracada137">@abracada137</a> ,</p>
<p>The scripts’ logic is to enable creating a disposable “secure” Jenkins server with its own certificate. I’ll explain how to use the scripts in the README in more detail soon.</p>
<p>In the meanwhile, the order by which one needs to run is :</p>
<ol>
<li>cd into src</li>
<li>build…</li>
<li>run…</li>
</ol>
</div></span><div class="CommentStyles__StyledCommentActions-sc-gn53o-6 hJftol"><button class="CommentStyles__StyledCommentAction-sc-gn53o-7 jxMJiX"><b>Reply</b></button><button class="CommentStyles__StyledCommentAction-sc-gn53o-7 jxMJiX"></button></div><div class="CommentStyles__StyledCommentChildren-sc-gn53o-9 cPWTJJ"></div></div></div></div></div></div><div class="CommentStyles__StyledCommentContainer-sc-gn53o-2 imulyI"><div class="CommentStyles__StyledCommentMetaContainer-sc-gn53o-3 hiLYBR"><a href="https://www.digitalocean.com/community/users/abracada137" class="CommentStyles__StyledCommentMetaName-sc-gn53o-5 jEyDaq">abracada137</a><a href="https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code?comment=93199" class="CommentStyles__StyledCommentMetaDate-sc-gn53o-4 boHiSr">November 5, 2020</a></div><span class="CommentStyles__StyledCommentBody-sc-gn53o-0 iOTdXL"><div class="MarkdownStyles__StyledMarkdown-sc-bjjo5d-0 hCXEsf"><p>This is my first month playing with Jenkins + Docker and this tutorial is by far the best that I have seen, thanks a bunch <a href="https://www.digitalocean.com/community/users/d4nyll">@d4nyll</a></p>
<p>I would like to go further and learn how to have my Jenkins server ready to go with credentials, projects and pipelines configured (if possible), could you please recommend a good place to start?</p>
</div></span><div class="CommentStyles__StyledCommentActions-sc-gn53o-6 hJftol"><button class="CommentStyles__StyledCommentAction-sc-gn53o-7 jxMJiX"><b>Reply</b></button><button class="CommentStyles__StyledCommentAction-sc-gn53o-7 jxMJiX"></button></div><div class="CommentStyles__StyledCommentChildren-sc-gn53o-9 cPWTJJ"><div class="CommentStyles__StyledCommentContainer-sc-gn53o-2 imulyI"><div class="CommentStyles__StyledCommentMetaContainer-sc-gn53o-3 hiLYBR"><a href="https://www.digitalocean.com/community/users/d4nyll" class="CommentStyles__StyledCommentMetaName-sc-gn53o-5 jEyDaq">Daniel Li</a><a href="https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code#" class="CommentStyles__StyledCommentMetaDate-sc-gn53o-4 boHiSr">November 6, 2020</a></div><span class="CommentStyles__StyledCommentBody-sc-gn53o-0 iOTdXL"><div class="MarkdownStyles__StyledMarkdown-sc-bjjo5d-0 hCXEsf"><p>Thanks! Glad it help you :)</p>
<p>And yes! It’s 100% possible to have freestyle jobs and Pipeline jobs pre-configured on your Jenkins server - you need to use the Job DSL plugin linked at the end of the article.</p>
<p>I’ve actually submitted a draft for an article (titled <em>How to Automate Jenkins Job Creation using Job DSL</em>) that goes through that process. But until that’s published, a good place to start would be the docs - <a href="https://github.com/jenkinsci/job-dsl-plugin/wiki/Tutorial---Using-the-Jenkins-Job-DSL">Tutorial Using the Jenkins Job DSL</a> and <a href="https://jenkinsci.github.io/job-dsl-plugin/">Jenkins Job DSL API</a>.</p>
</div></span><div class="CommentStyles__StyledCommentActions-sc-gn53o-6 hJftol"><button class="CommentStyles__StyledCommentAction-sc-gn53o-7 jxMJiX"><b>Reply</b></button><button class="CommentStyles__StyledCommentAction-sc-gn53o-7 jxMJiX"></button></div><div class="CommentStyles__StyledCommentChildren-sc-gn53o-9 cPWTJJ"></div></div><div class="CommentStyles__StyledCommentContainer-sc-gn53o-2 imulyI"><div class="CommentStyles__StyledCommentMetaContainer-sc-gn53o-3 hiLYBR"><a href="https://www.digitalocean.com/community/users/d4nyll" class="CommentStyles__StyledCommentMetaName-sc-gn53o-5 jEyDaq">Daniel Li</a><a href="https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code#" class="CommentStyles__StyledCommentMetaDate-sc-gn53o-4 boHiSr">November 17, 2020</a></div><span class="CommentStyles__StyledCommentBody-sc-gn53o-0 iOTdXL"><div class="MarkdownStyles__StyledMarkdown-sc-bjjo5d-0 hCXEsf"><p><a href="https://www.digitalocean.com/community/users/abracada137">@abracada137</a> The new tutorial <a href="https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-job-configuration-using-job-dsl">How To Automate Jenkins Job Configuration Using Job DSL</a> is now live. It teaches you the <em>basics</em> of how to work with Job DSL. After reading both articles, you should be able to figure out how to integrate Job DSL with JCasC for a truly no-hands deployment!</p>
</div></span><div class="CommentStyles__StyledCommentActions-sc-gn53o-6 hJftol"><button class="CommentStyles__StyledCommentAction-sc-gn53o-7 jxMJiX"><b>Reply</b></button><button class="CommentStyles__StyledCommentAction-sc-gn53o-7 jxMJiX"></button></div><div class="CommentStyles__StyledCommentChildren-sc-gn53o-9 cPWTJJ"><div class="CommentStyles__StyledCommentContainer-sc-gn53o-2 imulyI"><div class="CommentStyles__StyledCommentMetaContainer-sc-gn53o-3 hiLYBR"><a href="https://www.digitalocean.com/community/users/abracada137" class="CommentStyles__StyledCommentMetaName-sc-gn53o-5 jEyDaq">abracada137</a><a href="https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code#" class="CommentStyles__StyledCommentMetaDate-sc-gn53o-4 boHiSr">November 18, 2020</a></div><span class="CommentStyles__StyledCommentBody-sc-gn53o-0 iOTdXL"><div class="MarkdownStyles__StyledMarkdown-sc-bjjo5d-0 hCXEsf"><p>Thanks for the heads up <a href="https://www.digitalocean.com/community/users/d4nyll">@d4nyll</a> I will take a look at it now.
The links you provided in the previous comment were helpful, I already managed to create a seed job automatically.</p>
</div></span><div class="CommentStyles__StyledCommentActions-sc-gn53o-6 hJftol"><button class="CommentStyles__StyledCommentAction-sc-gn53o-7 jxMJiX"><b>Reply</b></button><button class="CommentStyles__StyledCommentAction-sc-gn53o-7 jxMJiX"></button></div><div class="CommentStyles__StyledCommentChildren-sc-gn53o-9 cPWTJJ"></div></div></div></div></div></div><div class="CommentStyles__StyledCommentContainer-sc-gn53o-2 imulyI"><div class="CommentStyles__StyledCommentMetaContainer-sc-gn53o-3 hiLYBR"><a href="https://www.digitalocean.com/community/users/juliandstamp" class="CommentStyles__StyledCommentMetaName-sc-gn53o-5 jEyDaq">juliandstamp</a><a href="https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code?comment=94394" class="CommentStyles__StyledCommentMetaDate-sc-gn53o-4 boHiSr">December 19, 2020</a></div><span class="CommentStyles__StyledCommentBody-sc-gn53o-0 iOTdXL"><div class="MarkdownStyles__StyledMarkdown-sc-bjjo5d-0 hCXEsf"><p>Hi <a href="https://www.digitalocean.com/community/users/d4nyll">@d4nyll</a>,</p>
<p>This was really helpful! I modified your suggestions to also incorporate a webhookrelay for receiving webhooks from github in a virtual docker network behind a firewall and played around with ideas of how to make the configuration as code available without building it into the image. Here is my example: <a href="https://github.com/jdstamp/ccmb-jenkins">https://github.com/jdstamp/ccmb-jenkins</a></p>
<p>I just noticed <a href="https://www.digitalocean.com/community/users/dixter">@dixter</a> has also a bunch of great ideas that I plan to incorporate into my setup!</p>
</div></span><div class="CommentStyles__StyledCommentActions-sc-gn53o-6 hJftol"><button class="CommentStyles__StyledCommentAction-sc-gn53o-7 jxMJiX"><b>Reply</b></button><button class="CommentStyles__StyledCommentAction-sc-gn53o-7 jxMJiX"></button></div><div class="CommentStyles__StyledCommentChildren-sc-gn53o-9 cPWTJJ"><div class="CommentStyles__StyledCommentContainer-sc-gn53o-2 imulyI"><div class="CommentStyles__StyledCommentMetaContainer-sc-gn53o-3 hiLYBR"><a href="https://www.digitalocean.com/community/users/d4nyll" class="CommentStyles__StyledCommentMetaName-sc-gn53o-5 jEyDaq">Daniel Li</a><a href="https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code#" class="CommentStyles__StyledCommentMetaDate-sc-gn53o-4 boHiSr">December 26, 2020</a></div><span class="CommentStyles__StyledCommentBody-sc-gn53o-0 iOTdXL"><div class="MarkdownStyles__StyledMarkdown-sc-bjjo5d-0 hCXEsf"><p>Hi <a href="https://www.digitalocean.com/community/users/juliandstamp">@juliandstamp</a> It’s really rewarding to see readers finding this helpful and coming up with their own variations, so thank you! I took a look at your repo and enjoyed going through it (it’s well-documented).</p>
<p>I have some comments which I am sure you have considered already for your use cases, but I’d like to point out here for anyone else reading through the comments.</p>
<p>When configuring GitHub webhooks, I typically choose the path of setting up a public load balancer/server, configure forwarding rules, and firewalls myself. This approach reduces reliance on external platforms like WebHookRelay (which may not survive in the long run, and is also important if your company is bureaucratic about approving new tools), but is also more components to manage yourself. The reason why platforms like WebHookRelay exists is to make it simpler to set up and maintain, so people can spend time on other more important tasks.</p>
<p>Having the JCasC configuration mounted instead of embedded into the image is also a good way to update configuration without having to redeploy. The downside of this is you’ll have to click a button on the web interface for every Jenkins instance you want to update (perhaps there’s an automated way to do that?) Preparing the volume and updating it automatically would also require external tooling, but it can be done easily with a tool like Ansible or Terraform.</p>
<p>Thanks again for sharing, and I’d encourage people reading the comments to check out Julian’s setup.</p>
</div></span><div class="CommentStyles__StyledCommentActions-sc-gn53o-6 hJftol"><button class="CommentStyles__StyledCommentAction-sc-gn53o-7 jxMJiX"><b>Reply</b></button><button class="CommentStyles__StyledCommentAction-sc-gn53o-7 jxMJiX"></button></div><div class="CommentStyles__StyledCommentChildren-sc-gn53o-9 cPWTJJ"></div></div></div></div><div class="CommentStyles__StyledCommentContainer-sc-gn53o-2 imulyI"><div class="CommentStyles__StyledCommentMetaContainer-sc-gn53o-3 hiLYBR"><a href="https://www.digitalocean.com/community/users/pandeykamal13526" class="CommentStyles__StyledCommentMetaName-sc-gn53o-5 jEyDaq">pandeykamal13526</a><a href="https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code?comment=97729" class="CommentStyles__StyledCommentMetaDate-sc-gn53o-4 boHiSr">April 16, 2021</a></div><span class="CommentStyles__StyledCommentBody-sc-gn53o-0 iOTdXL"><div class="MarkdownStyles__StyledMarkdown-sc-bjjo5d-0 hCXEsf"><p>While creating the login in step 4, I am facing an error.
While typing username and password in my Jenkins server opened in browser
I am facing this error:</p>
<p>HTTP ERROR 403 No valid crumb was included in the request
URI:	/j_spring_security_check
STATUS:	403
MESSAGE:	No valid crumb was included in the request
SERVLET:	Stapler
Powered by Jetty:// 9.4.39.v20210325</p>
<p>Can you please suggest me why am I facing this error and what could be done to fix it in yaml file</p>
</div></span><div class="CommentStyles__StyledCommentActions-sc-gn53o-6 hJftol"><button class="CommentStyles__StyledCommentAction-sc-gn53o-7 jxMJiX"><b>Reply</b></button><button class="CommentStyles__StyledCommentAction-sc-gn53o-7 jxMJiX"></button></div><div class="CommentStyles__StyledCommentChildren-sc-gn53o-9 cPWTJJ"></div></div><div class="CommentStyles__StyledCommentContainer-sc-gn53o-2 imulyI"><div class="CommentStyles__StyledCommentMetaContainer-sc-gn53o-3 hiLYBR"><a href="https://www.digitalocean.com/community/users/jamalinho007" class="CommentStyles__StyledCommentMetaName-sc-gn53o-5 jEyDaq">jamalinho007</a><a href="https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code?comment=98553" class="CommentStyles__StyledCommentMetaDate-sc-gn53o-4 boHiSr">May 19, 2021</a></div><span class="CommentStyles__StyledCommentBody-sc-gn53o-0 iOTdXL"><div class="MarkdownStyles__StyledMarkdown-sc-bjjo5d-0 hCXEsf"><p>I followed your tutorial How To Automate Jenkins Setup with Docker and Jenkins Configuration as Code, it’s very helpful and explained perfectly.
Currently, I have to automate Jenkins configurations with all the plugins, cloud Template, node master (kubernetes) and all my pipelines and job.
I began creating docker image with all plugins (as you explained) but I don’t know how to include the cloud Template and node and my pipelines &amp; jobs in it ?
Please if you can help me I will be very grateful.</p>
<p>Thank you very much</p>
</div></span><div class="CommentStyles__StyledCommentActions-sc-gn53o-6 hJftol"><button class="CommentStyles__StyledCommentAction-sc-gn53o-7 jxMJiX"><b>Reply</b></button><button class="CommentStyles__StyledCommentAction-sc-gn53o-7 jxMJiX"></button></div><div class="CommentStyles__StyledCommentChildren-sc-gn53o-9 cPWTJJ"></div></div><div class="CommentStyles__StyledCommentContainer-sc-gn53o-2 imulyI"><div class="CommentStyles__StyledCommentMetaContainer-sc-gn53o-3 hiLYBR"><a href="https://www.digitalocean.com/community/users/irsalyunus04" class="CommentStyles__StyledCommentMetaName-sc-gn53o-5 jEyDaq">irsalyunus04</a><a href="https://www.digitalocean.com/community/tutorials/how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code?comment=103199" class="CommentStyles__StyledCommentMetaDate-sc-gn53o-4 boHiSr">December 21, 2021</a></div><span class="CommentStyles__StyledCommentBody-sc-gn53o-0 iOTdXL"><div class="MarkdownStyles__StyledMarkdown-sc-bjjo5d-0 hCXEsf"><p>Hi Daniel,</p>
<p>I get some errors when running docker container :</p>
<p>"
WARNING: An illegal reflective access operation has occurred                                                                                                                                 WARNING: Illegal reflective access by org.codehaus.groovy.reflection.CachedClass (file:/var/jenkins_home/war/WEB-INF/lib/groovy-all-2.4.12.jar) to method java.lang.Object.finalize()        WARNING: Please consider reporting this to the maintainers of org.codehaus.groovy.reflection.CachedClass                                                                                     WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations                                                                                        WARNING: All illegal access operations will be denied in a future release                                                                                                                    2021-12-21 05:06:00.597+0000 [id=35]    INFO    jenkins.InitReactorRunner$1#onAttained: System config loaded                                                                                 2021-12-21 05:06:01.371+0000 [id=31]    SEVERE  jenkins.InitReactorRunner$1#onTaskFailed: Failed ConfigurationAsCode.init                                                                    java.lang.IllegalArgumentException: Single entry map expected to configure a hudson.security.AuthorizationStrategy
"</p>
</div></span><div class="CommentStyles__StyledCommentActions-sc-gn53o-6 hJftol"><button class="CommentStyles__StyledCommentAction-sc-gn53o-7 jxMJiX"><b>Reply</b></button><button class="CommentStyles__StyledCommentAction-sc-gn53o-7 jxMJiX"></button></div><div class="CommentStyles__StyledCommentChildren-sc-gn53o-9 cPWTJJ"></div></div></div></div><div class="TutorialTemplateStyles__StyledCreativeCommonsLicense-sc-1gdp4d7-23 dOpxSD"><p><a class="LazyLink___StyledA2-sc-yi29t7-1 fxfwmo" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" alt="Creative Commons url"><img data-src="/_next/static/media/creativecommons.c0a877f1.png" src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/creativecommons.c0a877f1.png" alt="Creative Commons" class="LazyImage___StyledImg-sc-1pcy1c0-0 ckZMfG null lazyload blur-up"></a>This work is licensed under a<!-- --> <a class="LazyLink___StyledA2-sc-yi29t7-1 fxfwmo" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" alt="Creative Commons url">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License.</a></p></div></div><div class="QuestionAndTutorialRightContainerStyles__StyledContainer-sc-1ej6td1-0 jMctsj"><div class="RelatedRecordsStyles__StyledRelatedRecordsWrapper-sc-1gtfc2p-0 iPwEJL"><div class="RelatedRecords___StyledDiv-sc-2xyvab-0 xfoDs"><a href="https://cloud.digitalocean.com/apps" class="PrismicRelatedRecordsStyles__PrismicRelatedRecordWrapper-sc-1i7xt0o-0 btByLu"><span class="PrismicRelatedRecordsStyles__PrismicRelatedRecordTitle-sc-1i7xt0o-2 eTRhaK">App Platform: Run Docker containers without managing servers</span><span class="PrismicRelatedRecordsStyles__PrismicRelatedRecordImageWrapper-sc-1i7xt0o-1 eYzSTE"><img src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/featured-AP-icon.svg" alt="Product" height="45" width="45"></span><span class="PrismicRelatedRecordsStyles__PrismicRelatedRecordDescription-sc-1i7xt0o-4 fPfmtl"><p class="PrismicRelatedRecordsStyles__PrismicRelatedRecordDescriptionHeadline-sc-1i7xt0o-5 kkdtbf">With App Platform, you can:</p><ul class="PrismicRelatedRecordsStyles__PrismicRelatedRecordDescriptionList-sc-1i7xt0o-6 bVBzlm"><li class="PrismicRelatedRecordsStyles__PrismicRelatedRecordDescriptionListItem-sc-1i7xt0o-7 foJhCl">Build, deploy, and scale apps and static sites by simply pointing to your GitHub repository</li><li class="PrismicRelatedRecordsStyles__PrismicRelatedRecordDescriptionListItem-sc-1i7xt0o-7 foJhCl">Let us manage the infrastructure, app runtimes, and other dependencies</li><li class="PrismicRelatedRecordsStyles__PrismicRelatedRecordDescriptionListItem-sc-1i7xt0o-7 foJhCl">Get started by building and deploying three static sites for free</li></ul></span><button class="ButtonStyles__StyledButton-sc-4h9jsk-0 gvonXW PrismicRelatedRecords___StyledButton-sc-19bumnj-0 iBXEXI is-primary is-small is-squared">Learn More</button></a></div></div><div class="QuestionAndTutorialSideNavigationStyles__StyledContainer-sc-f0b11o-0 hYrmtc"><div><div class="QuestionAndTutorialSideNavigationStyles__StyledHeading-sc-f0b11o-1 jKbqLr">Popular Topics</div><ul class="QuestionAndTutorialSideNavigationStyles__StyledList-sc-f0b11o-2 inRnin"><li class="QuestionAndTutorialSideNavigationStyles__StyledListItem-sc-f0b11o-3 fzltMi"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD QuestionAndTutorialSideNavigation___StyledLazyLink-sc-szp02x-0 bRTXEE" href="https://www.digitalocean.com/community/tags/ubuntu">Ubuntu</a></li><li class="QuestionAndTutorialSideNavigationStyles__StyledListItem-sc-f0b11o-3 fzltMi"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD QuestionAndTutorialSideNavigation___StyledLazyLink-sc-szp02x-0 bRTXEE" href="https://www.digitalocean.com/community/tags/linux-basics">Linux Basics</a></li><li class="QuestionAndTutorialSideNavigationStyles__StyledListItem-sc-f0b11o-3 fzltMi"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD QuestionAndTutorialSideNavigation___StyledLazyLink-sc-szp02x-0 bRTXEE" href="https://www.digitalocean.com/community/tags/javascript">JavaScript</a></li><li class="QuestionAndTutorialSideNavigationStyles__StyledListItem-sc-f0b11o-3 fzltMi"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD QuestionAndTutorialSideNavigation___StyledLazyLink-sc-szp02x-0 bRTXEE" href="https://www.digitalocean.com/community/tags/react">React</a></li><li class="QuestionAndTutorialSideNavigationStyles__StyledListItem-sc-f0b11o-3 fzltMi"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD QuestionAndTutorialSideNavigation___StyledLazyLink-sc-szp02x-0 bRTXEE" href="https://www.digitalocean.com/community/tags/python">Python</a></li><li class="QuestionAndTutorialSideNavigationStyles__StyledListItem-sc-f0b11o-3 fzltMi"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD QuestionAndTutorialSideNavigation___StyledLazyLink-sc-szp02x-0 bRTXEE" href="https://www.digitalocean.com/community/tags/security">Security</a></li><li class="QuestionAndTutorialSideNavigationStyles__StyledListItem-sc-f0b11o-3 fzltMi"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD QuestionAndTutorialSideNavigation___StyledLazyLink-sc-szp02x-0 bRTXEE" href="https://www.digitalocean.com/community/tags/apache">Apache</a></li><li class="QuestionAndTutorialSideNavigationStyles__StyledListItem-sc-f0b11o-3 fzltMi"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD QuestionAndTutorialSideNavigation___StyledLazyLink-sc-szp02x-0 bRTXEE" href="https://www.digitalocean.com/community/tags/mysql">MySQL</a></li><li class="QuestionAndTutorialSideNavigationStyles__StyledListItem-sc-f0b11o-3 fzltMi"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD QuestionAndTutorialSideNavigation___StyledLazyLink-sc-szp02x-0 bRTXEE" href="https://www.digitalocean.com/community/tags/databases">Databases</a></li><li class="QuestionAndTutorialSideNavigationStyles__StyledListItem-sc-f0b11o-3 fzltMi"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD QuestionAndTutorialSideNavigation___StyledLazyLink-sc-szp02x-0 bRTXEE" href="https://www.digitalocean.com/community/tags/docker">Docker</a></li><li class="QuestionAndTutorialSideNavigationStyles__StyledListItem-sc-f0b11o-3 fzltMi"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD QuestionAndTutorialSideNavigation___StyledLazyLink-sc-szp02x-0 bRTXEE" href="https://www.digitalocean.com/community/tags/kubernetes">Kubernetes</a></li><li class="QuestionAndTutorialSideNavigationStyles__StyledListItem-sc-f0b11o-3 fzltMi"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD QuestionAndTutorialSideNavigation___StyledLazyLink-sc-szp02x-0 bRTXEE" href="https://www.digitalocean.com/community/tags/book">Ebooks</a></li><li class="QuestionAndTutorialSideNavigationStyles__StyledListItem-sc-f0b11o-3 fzltMi"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD QuestionAndTutorialSideNavigation___StyledLazyLink-sc-szp02x-0 bRTXEE" href="https://www.digitalocean.com/community/tags">Browse all topic tags</a></li><div><li class="QuestionAndTutorialSideNavigationStyles__StyledListItem-sc-f0b11o-3 QuestionAndTutorialSideNavigationStyles__StyledListItemEmphasized-sc-f0b11o-4 fzltMi cRYCFL"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD QuestionAndTutorialSideNavigation___StyledLazyLink2-sc-szp02x-1 WIKSO" href="https://www.digitalocean.com/community/tutorials">All tutorials<img data-src="/_next/static/media/right-arrow-gray.11e0617b.svg" src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/right-arrow-gray.11e0617b.svg" alt="Arrow icon" class="LazyImage___StyledImg-sc-1pcy1c0-0 ckZMfG QuestionAndTutorialSideNavigation___StyledLazyImage-sc-szp02x-2 diuUAR lazyload blur-up"></a></li></div></ul></div><div><div class="QuestionAndTutorialSideNavigationStyles__StyledHeading-sc-f0b11o-1 jKbqLr">Questions</div><ul class="QuestionAndTutorialSideNavigationStyles__StyledList-sc-f0b11o-2 inRnin"><li class="QuestionAndTutorialSideNavigationStyles__StyledListItem-sc-f0b11o-3 fzltMi"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD QuestionAndTutorialSideNavigation___StyledLazyLink-sc-szp02x-0 bRTXEE" href="https://www.digitalocean.com/community/questions">Q&amp;A</a></li><li class="QuestionAndTutorialSideNavigationStyles__StyledListItem-sc-f0b11o-3 fzltMi"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD QuestionAndTutorialSideNavigation___StyledLazyLink-sc-szp02x-0 bRTXEE" href="https://www.digitalocean.com/community/questions/new">Ask a question</a></li><li class="QuestionAndTutorialSideNavigationStyles__StyledListItem-sc-f0b11o-3 fzltMi"><a class="LazyLink___StyledA2-sc-yi29t7-1 fxfwmo QuestionAndTutorialSideNavigation___StyledLazyLink-sc-szp02x-0 bRTXEE" href="https://docs.digitalocean.com/products/">DigitalOcean Product Docs</a></li><li class="QuestionAndTutorialSideNavigationStyles__StyledListItem-sc-f0b11o-3 fzltMi"><a class="LazyLink___StyledA2-sc-yi29t7-1 fxfwmo QuestionAndTutorialSideNavigation___StyledLazyLink-sc-szp02x-0 bRTXEE" href="https://docs.digitalocean.com/support/">DigitalOcean Support</a></li></ul></div><div><div class="QuestionAndTutorialSideNavigationStyles__StyledHeading-sc-f0b11o-1 jKbqLr">Events</div><ul class="QuestionAndTutorialSideNavigationStyles__StyledList-sc-f0b11o-2 inRnin"><li class="QuestionAndTutorialSideNavigationStyles__StyledListItem-sc-f0b11o-3 fzltMi"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD QuestionAndTutorialSideNavigation___StyledLazyLink-sc-szp02x-0 bRTXEE" href="https://www.digitalocean.com/community/tags/tech-talks">Tech Talks</a></li><li class="QuestionAndTutorialSideNavigationStyles__StyledListItem-sc-f0b11o-3 fzltMi"><a class="LazyLink___StyledA2-sc-yi29t7-1 fxfwmo QuestionAndTutorialSideNavigation___StyledLazyLink-sc-szp02x-0 bRTXEE" href="https://hacktoberfest.digitalocean.com/">Hacktoberfest</a></li><li class="QuestionAndTutorialSideNavigationStyles__StyledListItem-sc-f0b11o-3 fzltMi"><a class="LazyLink___StyledA2-sc-yi29t7-1 fxfwmo QuestionAndTutorialSideNavigation___StyledLazyLink-sc-szp02x-0 bRTXEE" href="https://deploy.digitalocean.com/">Deploy</a></li></ul></div><div><div class="QuestionAndTutorialSideNavigationStyles__StyledHeading-sc-f0b11o-1 jKbqLr">Get involved</div><ul class="QuestionAndTutorialSideNavigationStyles__StyledList-sc-f0b11o-2 inRnin"><li class="QuestionAndTutorialSideNavigationStyles__StyledListItem-sc-f0b11o-3 fzltMi"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD QuestionAndTutorialSideNavigation___StyledLazyLink-sc-szp02x-0 bRTXEE" href="https://www.digitalocean.com/community/newsletter">Community Newsletter</a></li><li class="QuestionAndTutorialSideNavigationStyles__StyledListItem-sc-f0b11o-3 fzltMi"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD QuestionAndTutorialSideNavigation___StyledLazyLink-sc-szp02x-0 bRTXEE" href="https://www.digitalocean.com/community/pages/hollies-hub-for-good">Hollie's Hub for Good</a></li><li class="QuestionAndTutorialSideNavigationStyles__StyledListItem-sc-f0b11o-3 fzltMi"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD QuestionAndTutorialSideNavigation___StyledLazyLink-sc-szp02x-0 bRTXEE" href="https://www.digitalocean.com/community/pages/write-for-digitalocean">Write for DOnations</a></li><li class="QuestionAndTutorialSideNavigationStyles__StyledListItem-sc-f0b11o-3 fzltMi"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD QuestionAndTutorialSideNavigation___StyledLazyLink-sc-szp02x-0 bRTXEE" href="https://www.digitalocean.com/community/tools">Community tools and integrations</a></li><li class="QuestionAndTutorialSideNavigationStyles__StyledListItem-sc-f0b11o-3 fzltMi"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD QuestionAndTutorialSideNavigation___StyledLazyLink-sc-szp02x-0 bRTXEE" href="https://www.digitalocean.com/hatch">Hatch Startup program</a></li><div><li class="QuestionAndTutorialSideNavigationStyles__StyledListItem-sc-f0b11o-3 QuestionAndTutorialSideNavigationStyles__StyledListItemEmphasized-sc-f0b11o-4 fzltMi cRYCFL"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD QuestionAndTutorialSideNavigation___StyledLazyLink3-sc-szp02x-3 birxiR" href="https://www.digitalocean.com/api/dynamic-content/v1/login?success_redirect=https%3A%2F%2Fwww.digitalocean.com%2Fcommunity%2Ftutorials%2Fhow-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code&amp;error_redirect=https%3A%2F%2Fwww.digitalocean.com%2Fauth_error">Create your free Community account!<img data-src="/_next/static/media/right-arrow-gray.11e0617b.svg" src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/right-arrow-gray.11e0617b.svg" alt="Arrow icon" class="LazyImage___StyledImg-sc-1pcy1c0-0 ckZMfG QuestionAndTutorialSideNavigation___StyledLazyImage2-sc-szp02x-4 bxVcCx lazyload blur-up"></a></li></div></ul></div></div></div></div><footer class="FooterCommunityStyles__StyledFooterCommunity-sc-4j0rmk-0 iZNxXu"><section class="FooterCommunityStyles__StyledFooterSection-sc-4j0rmk-1 joAJBc"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionHighlight-sc-4j0rmk-13 chjgfF bwIWQm" href="https://www.digitalocean.com/community/newsletter"><div class="FooterCommunityStyles__StyledFooterSectionHighlightWrap-sc-4j0rmk-14 mIIYi"><img src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/ca12c951cc76f33037f3384bba9942545d160d82_iaan_illo.jpg" class="FooterCommunityStyles__StyledFooterSectionHighlightPhoto-sc-4j0rmk-15 kZMIfj"></div><span class="FooterCommunityStyles__StyledFooterSectionHeading-sc-4j0rmk-3 FooterCommunityStyles__StyledFooterSectionHighlightHeading-sc-4j0rmk-16 foWeJL eoekXD">Get our biweekly newsletter</span><p>Sign up for Infrastructure as a Newsletter.</p></a><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionHighlight-sc-4j0rmk-13 chjgfF bwIWQm" href="https://www.digitalocean.com/community/pages/hollies-hub-for-good"><div class="FooterCommunityStyles__StyledFooterSectionHighlightWrap-sc-4j0rmk-14 mIIYi"><img src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/8a56a463-cf2c-42a2-9d2f-9096c4218f30_HH4G-reference.jpg" class="FooterCommunityStyles__StyledFooterSectionHighlightPhoto-sc-4j0rmk-15 kZMIfj"></div><span class="FooterCommunityStyles__StyledFooterSectionHeading-sc-4j0rmk-3 FooterCommunityStyles__StyledFooterSectionHighlightHeading-sc-4j0rmk-16 foWeJL eoekXD">Hollie's Hub for Good</span><p>Working on improving health and education, reducing inequality, and spurring economic growth? We'd like to help.</p></a><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionHighlight-sc-4j0rmk-13 chjgfF bwIWQm" href="https://www.digitalocean.com/community/pages/write-for-digitalocean"><div class="FooterCommunityStyles__StyledFooterSectionHighlightWrap-sc-4j0rmk-14 mIIYi"><img src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/70910e9fdeb57be46aaa209ce8d9b4dc8e117fab_w4do2.jpg" class="FooterCommunityStyles__StyledFooterSectionHighlightPhoto-sc-4j0rmk-15 kZMIfj"></div><span class="FooterCommunityStyles__StyledFooterSectionHeading-sc-4j0rmk-3 FooterCommunityStyles__StyledFooterSectionHighlightHeading-sc-4j0rmk-16 foWeJL eoekXD">Become a contributor</span><p>You get paid; we donate to tech nonprofits.</p></a></section><section class="FooterCommunityStyles__StyledFooterSection-sc-4j0rmk-1 FooterCommunityStyles__StyledFooterSectionSlim-sc-4j0rmk-4 joAJBc iplbEw"><span class="FooterCommunityStyles__StyledFooterSectionHeading-sc-4j0rmk-3 foWeJL">Featured on Community</span><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 chjgfF" href="https://www.digitalocean.com/community/tutorials/an-introduction-to-kubernetes">Kubernetes Course</a><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 chjgfF" href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-python-3">Learn Python 3</a><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 chjgfF" href="https://www.digitalocean.com/community/tutorials/machine-learning-projects-python-a-digitalocean-ebook">Machine Learning in Python</a><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 chjgfF" href="https://www.digitalocean.com/community/tutorials/how-to-write-your-first-program-in-go">Getting started with Go</a><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 chjgfF" href="https://www.digitalocean.com/community/tutorials/an-introduction-to-kubernetes">Intro to Kubernetes</a><hr><span class="FooterCommunityStyles__StyledFooterSectionHeading-sc-4j0rmk-3 foWeJL">DigitalOcean Products</span><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 chjgfF" href="https://www.digitalocean.com/products/droplets">Virtual Machines</a><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 chjgfF" href="https://www.digitalocean.com/products/managed-databases">Managed Databases</a><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 chjgfF" href="https://www.digitalocean.com/products/kubernetes">Managed Kubernetes</a><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 chjgfF" href="https://www.digitalocean.com/products/block-storage">Block Storage</a><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 chjgfF" href="https://www.digitalocean.com/products/spaces">Object Storage</a><a class="LazyLink___StyledA2-sc-yi29t7-1 fxfwmo FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 chjgfF" href="https://marketplace.digitalocean.com/">Marketplace</a><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 chjgfF" href="https://www.digitalocean.com/products/vpc">VPC</a><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 chjgfF" href="https://www.digitalocean.com/products/load-balancer">Load Balancers</a></section><section class="FooterCommunityStyles__StyledFooterSection-sc-4j0rmk-1 FooterCommunityStyles__StyledFooterSectionProduct-sc-4j0rmk-5 joAJBc cuayfS"><a href="https://www.digitalocean.com/products" class="FooterCommunityStyles__StyledFooterSectionProductCopy-sc-4j0rmk-6 bWxVHl"><h3 class="HeadingStyles__StyledH3-sc-kkk1io-2 iWaLDf FooterCommunity___StyledHeading-sc-dlfjyh-0 iuBRiE">Welcome to the developer cloud</h3><p>DigitalOcean makes it simple to launch in the cloud and scale up as you grow – whether you’re running one virtual machine or ten thousand.</p><span>Learn More</span></a><div class="FooterCommunityStyles__StyledFooterSectionProductFeature-sc-4j0rmk-7 fFjDHg"><a href="https://www.digitalocean.com/products" class="FooterCommunityStyles__StyledFooterSectionProductFeatureLink-sc-4j0rmk-8 euxYcT"><img src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/95c1215227aa7f39f2bd23076de28feb969741c7_cloud.digitalocean.com_projects_63f9252f-652b-4645-9c0c-bee96f2bc503_resources_ic0ce81-2.png" alt="DigitalOcean Cloud Control Panel"></a></div></section><section class="FooterCommunityStyles__StyledFooterSection-sc-4j0rmk-1 FooterCommunityStyles__StyledFooterSectionDark-sc-4j0rmk-9 joAJBc icsxBW"><div class="FooterCommunityStyles__StyledFooterSectionDarkList-sc-4j0rmk-12 jcOTrz"><svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50 50" href="/"><title>DigitalOcean Homepage</title><g fill="#0080FF" fill-rule="evenodd"><path d="M24.9153 50v-9.661c10.226 0 18.1638-10.1413 14.2372-20.904-1.4406-3.983-4.6327-7.1751-8.6158-8.6158C19.774 6.921 9.6327 14.8305 9.6327 25.0565H0C0 8.7571 15.7627-3.9548 32.8531 1.3842c7.4576 2.3446 13.418 8.2768 15.7345 15.7344C53.9266 34.2373 41.2429 50 24.9153 50"></path><path d="M15.339 40.3672h9.6045v-9.6045H15.339zM7.9379 47.7684h7.401v-7.4012H7.938zM1.7514 40.3672H7.938v-6.1864H1.7514z"></path></g></svg><br><br>© 2022 DigitalOcean, LLC. All rights reserved.</div><div class="FooterCommunityStyles__StyledFooterSectionDarkList-sc-4j0rmk-12 jcOTrz"><span class="FooterCommunityStyles__StyledFooterSectionHeading-sc-4j0rmk-3 FooterCommunityStyles__StyledFooterSectionDarkHeading-sc-4j0rmk-10 foWeJL QeoWv">Company</span><ul><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/about">About</a></li><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/about/leadership">Leadership</a></li><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/blog">Blog</a></li><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/careers">Careers</a></li><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/partners">Partners</a></li><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/referral-program">Referral Program</a></li><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/press">Press</a></li><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/legal">Legal</a></li><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/trust">Security &amp; Trust Center</a></li></ul></div><div class="FooterCommunityStyles__StyledFooterSectionDarkList-sc-4j0rmk-12 jcOTrz"><span class="FooterCommunityStyles__StyledFooterSectionHeading-sc-4j0rmk-3 FooterCommunityStyles__StyledFooterSectionDarkHeading-sc-4j0rmk-10 foWeJL QeoWv">Products</span><ul><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/pricing">Pricing</a></li><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/products">Products Overview</a></li><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/products/droplets">Droplets</a></li><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/products/kubernetes">Kubernetes</a></li><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/products/managed-databases">Managed Databases</a></li><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/products/spaces">Spaces</a></li><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/products/marketplace">Marketplace</a></li><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/products/load-balancer">Load Balancers</a></li><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/products/block-storage">Block Storage</a></li><li><a class="LazyLink___StyledA2-sc-yi29t7-1 fxfwmo FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://developers.digitalocean.com/documentation/">API Documentation</a></li><li><a class="LazyLink___StyledA2-sc-yi29t7-1 fxfwmo FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/docs">Documentation</a></li><li><a class="LazyLink___StyledA2-sc-yi29t7-1 fxfwmo FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/docs/release-notes/">Release Notes</a></li></ul></div><div class="FooterCommunityStyles__StyledFooterSectionDarkList-sc-4j0rmk-12 jcOTrz"><span class="FooterCommunityStyles__StyledFooterSectionHeading-sc-4j0rmk-3 FooterCommunityStyles__StyledFooterSectionDarkHeading-sc-4j0rmk-10 foWeJL QeoWv">Community</span><ul><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/community/tutorials">Tutorials</a></li><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/community/questions">Q&amp;A</a></li><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/community/tools">Tools and Integrations</a></li><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/community/tags">Tags</a></li><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/community/pages/write-for-donations">Write for DigitalOcean</a></li><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/droplets-for-demos">Presentation Grants</a></li><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/hatch">Hatch Startup Program</a></li><li><a class="LazyLink___StyledA2-sc-yi29t7-1 fxfwmo FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="http://store.digitalocean.com/">Shop Swag</a></li><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/research">Research Program</a></li><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/open-source">Open Source</a></li><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/community/pages/code-of-conduct">Code of Conduct</a></li></ul></div><div class="FooterCommunityStyles__StyledFooterSectionDarkList-sc-4j0rmk-12 jcOTrz"><span class="FooterCommunityStyles__StyledFooterSectionHeading-sc-4j0rmk-3 FooterCommunityStyles__StyledFooterSectionDarkHeading-sc-4j0rmk-10 foWeJL QeoWv">Contact</span><ul><li><a class="LazyLink___StyledA2-sc-yi29t7-1 fxfwmo FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/support/">Get Support</a></li><li><a class="LazyLink___StyledA2-sc-yi29t7-1 fxfwmo FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/docs/getting-started/faq/">Trouble Signing In?</a></li><li><a class="LazyLink___StyledA2-sc-yi29t7-1 fxfwmo FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/company/contact/sales/">Sales</a></li><li><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://www.digitalocean.com/company/contact#abuse">Report Abuse</a></li><li><a class="LazyLink___StyledA2-sc-yi29t7-1 fxfwmo FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://status.digitalocean.com/">System Status</a></li><li><a class="LazyLink___StyledA2-sc-yi29t7-1 fxfwmo FooterCommunityStyles__StyledFooterSectionLink-sc-4j0rmk-2 FooterCommunityStyles__StyledFooterSectionDarkLink-sc-4j0rmk-11 chjgfF imSWhr" href="https://ideas.digitalocean.com/">Share your ideas</a></li></ul></div></section></footer><div aria-label="Mobile Navigation" aria-modal="true" role="dialog" class="MobileNavigationCommunityStyles__StyledModal-sc-4nnd1i-0 ifTynf"><div class="MobileNavigationCommunityStyles__StyledMobileNavigationCommunity-sc-4nnd1i-1 KtGxA"><div class="MobileNavigationCommunityStyles__StyledMobileNavHeader-sc-4nnd1i-2 gbFqPG"><button type="button" class="MobileNavigationCommunityStyles__StyledCloseButton-sc-4nnd1i-5 dBAiIh"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#5b6987" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button></div><div class="MobileNavigationCommunityStyles__StyledMobileNavBody-sc-4nnd1i-3 bEuMon"><div class="MobileNavigationCommunityStyles__StyledInnerContainer-sc-4nnd1i-4 kSdZeu"><header class="MobileNavigationCommunityStyles__StyledHeader-sc-4nnd1i-6 geRUGz">Community</header><ul role="menu" class="MobileNavigationCommunityStyles__StyledUl-sc-4nnd1i-7 idxpGD"><li role="menuitem" class="MobileNavigationCommunityStyles__StyledLi-sc-4nnd1i-8 EPhIq"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD" href="https://www.digitalocean.com/community/tutorials">Tutorials</a></li><li role="menuitem" class="MobileNavigationCommunityStyles__StyledLi-sc-4nnd1i-8 EPhIq"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD" href="https://www.digitalocean.com/community/questions">Questions</a></li><li role="menuitem" class="MobileNavigationCommunityStyles__StyledLi-sc-4nnd1i-8 EPhIq"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD" href="https://www.digitalocean.com/community/pages/write-for-digitalocean">Write for Us</a></li><li role="menuitem" class="MobileNavigationCommunityStyles__StyledLi-sc-4nnd1i-8 EPhIq"><a class="LazyLink___StyledA2-sc-yi29t7-1 fxfwmo" href="https://hacktoberfest.digitalocean.com/">Hacktoberfest</a></li><li role="menuitem" class="MobileNavigationCommunityStyles__StyledLi-sc-4nnd1i-8 EPhIq"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD" href="https://www.digitalocean.com/community/tools">Tools</a></li></ul><header class="MobileNavigationCommunityStyles__StyledHeader-sc-4nnd1i-6 geRUGz">Products</header><ul role="menu" class="MobileNavigationCommunityStyles__StyledUl-sc-4nnd1i-7 idxpGD"><li role="menuitem" class="MobileNavigationCommunityStyles__StyledLi-sc-4nnd1i-8 EPhIq"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD" href="https://www.digitalocean.com/">Homepage</a></li><li role="menuitem" class="MobileNavigationCommunityStyles__StyledLi-sc-4nnd1i-8 EPhIq"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD" href="https://www.digitalocean.com/pricing">Pricing</a></li><li role="menuitem" class="MobileNavigationCommunityStyles__StyledLi-sc-4nnd1i-8 EPhIq"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD" href="https://www.digitalocean.com/products">Product Overview</a></li><li role="menuitem" class="MobileNavigationCommunityStyles__StyledLi-sc-4nnd1i-8 EPhIq"><a class="LazyLink___StyledA2-sc-yi29t7-1 fxfwmo" href="https://marketplace.digitalocean.com/">Marketplace</a></li></ul><header class="MobileNavigationCommunityStyles__StyledHeader-sc-4nnd1i-6 geRUGz">Customers</header><ul role="menu" class="MobileNavigationCommunityStyles__StyledUl-sc-4nnd1i-7 idxpGD"><li role="menuitem" class="MobileNavigationCommunityStyles__StyledLi-sc-4nnd1i-8 EPhIq"><a class="LazyLink___StyledA2-sc-yi29t7-1 fxfwmo" href="https://cloud.digitalocean.com/">Control Panel</a></li><li role="menuitem" class="MobileNavigationCommunityStyles__StyledLi-sc-4nnd1i-8 EPhIq"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD" href="https://www.digitalocean.com/docs">Documentation</a></li><li role="menuitem" class="MobileNavigationCommunityStyles__StyledLi-sc-4nnd1i-8 EPhIq"><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD" href="https://www.digitalocean.com/company/contact#support">Contact Support</a></li><li role="menuitem" class="MobileNavigationCommunityStyles__StyledLi-sc-4nnd1i-8 EPhIq"><a class="LazyLink___StyledA2-sc-yi29t7-1 fxfwmo" href="https://www.digitalocean.com/company/contact/sales">Contact Sales</a></li></ul></div><a class="LazyLink___StyledA-sc-yi29t7-0 bjiSCD button-link is-primary is-small is-squared" href="https://www.digitalocean.com/api/dynamic-content/v1/login?success_redirect=https%3A%2F%2Fwww.digitalocean.com%2Fcommunity%2Ftutorials%2Fhow-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code&amp;error_redirect=https%3A%2F%2Fwww.digitalocean.com%2Fauth_error">Sign in</a></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"slug":"how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code","tutorial":{"id":6869,"slug":"how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code","tutorial_type":"tutorial","title":"How To Automate Jenkins Setup with Docker and Jenkins Configuration as Code","description":"Jenkins uses a pluggable architecture to provide most of its functionality. JCasC makes use of the Configuration as Code plugin, which allows you to define the desired state of your Jenkins configuration as one or more YAML file(s), eliminating the need for the setup wizard. In this tutorial, you will automate the installation and configuration of Jenkins using Docker and the Jenkins Configuration as Code (JCasC) method.","difficulty":"intermediate","content":"*The author selected the [Wikimedia Foundation](https://wikimediafoundation.org/) to receive a donation as part of the [Write for DOnations](https://do.co/w4do-cta) program.*\r\n\r\n### Introduction\r\n\r\n[Jenkins](https://jenkins.io/) is one of the most popular open-source automation servers, often used to orchestrate [continuous integration (CI) and/or continuous deployment (CD)](https://www.digitalocean.com/community/tutorials/an-introduction-to-continuous-integration-delivery-and-deployment) workflows.\r\n\r\nConfiguring Jenkins is typically done manually through a web-based setup wizard; this can be a slow, error-prone, and non-scalable process. You can see the steps involved by following [Step 4 — Setting Up Jenkins](https://www.digitalocean.com/community/tutorials/how-to-install-jenkins-on-ubuntu-18-04#step-4-%E2%80%94-setting-up-jenkins) of the [How To Install Jenkins on Ubuntu 18.04](https://www.digitalocean.com/community/tutorials/how-to-install-jenkins-on-ubuntu-18-04) guide. Furthermore, configurations cannot be tracked in a _version control system_ (VCS) like [Git](https://git-scm.com/), nor be under the scrutiny of any code review process.\r\n\r\nIn this tutorial, you will automate the installation and configuration of Jenkins using [Docker](https://www.docker.com/) and the [Jenkins Configuration as Code](https://www.jenkins.io/projects/jcasc/) (JCasC) method.\r\n\r\nJenkins uses a pluggable architecture to provide most of its functionality. JCasC makes use of the [Configuration as Code](https://plugins.jenkins.io/configuration-as-code/) plugin, which allows you to define the desired state of your Jenkins configuration as one or more [YAML](https://yaml.org/) file(s), eliminating the need for the setup wizard. On initialization, the Configuration as Code plugin would configure Jenkins according to the configuration file(s), greatly reducing the configuration time and eliminating human errors.\r\n\r\n[Docker](https://www.docker.com/) is the de facto standard for creating and running [containers](https://www.digitalocean.com/community/tutorials/the-docker-ecosystem-an-overview-of-containerization), which is a _virtualization_ technology that allows you to run isolated, self-contained applications consistently across different _operation systems_ (OSes) and hardware architectures. You will run your Jenkins instance using Docker to take advantage of this consistency and cross-platform capability.\r\n\r\nThis tutorial starts by guiding you through setting up JCasC. You will then incrementally add to the JCasC configuration file to set up users, configuration authentication and authorization, and finally to secure your Jenkins instance. After you've completed this tutorial, you'll have created a custom Docker image that is set up to use the Configuration as Code plugin on startup to automatically configure and secure your Jenkins instance.\r\n\r\n\r\n## Prerequisites\r\n\r\nTo complete this tutorial, you will need:\r\n\r\n- Access to a server with at least 2GB of RAM and Docker installed. This can be your local development machine, a Droplet, or any kind of server. Follow **Step 1 — Installing Docker** from one of the tutorials in the [How to Install and Use Docker](https://www.digitalocean.com/community/tutorial_collections/how-to-install-and-use-docker) collection to set up Docker.  \r\n\r\n\u003c$\u003e[note]\r\n**Note:** This tutorial is tested on Ubuntu 18.04; however, because Docker images are self-contained, the steps outlined here would work for any OSes with Docker installed.\r\n\u003c$\u003e\r\n\r\n## Step 1 — Disabling the Setup Wizard\r\n\r\nUsing JCasC eliminates the need to show the setup wizard; therefore, in this first step, you'll create a modified version of the official [`jenkins/jenkins`](https://hub.docker.com/r/jenkins/jenkins/) image that has the setup wizard disabled. You will do this by creating a `Dockerfile` and building a custom Jenkins image from it.\r\n\r\nThe `jenkins/jenkins` image allows you to enable or disable the setup wizard by passing in a _system property_ named `jenkins.install.runSetupWizard` via the `JAVA_OPTS` environment variable. Users of the image can pass in the `JAVA_OPTS` environment variable at runtime using the [`--env`](https://docs.docker.com/engine/reference/commandline/run/#set-environment-variables--e---env---env-file) flag to `docker run`. However, this approach would put the onus of disabling the setup wizard on the user of the image. Instead, you should disable the setup wizard at build time, so that the setup wizard is disabled by default.\r\n\r\nYou can achieve this by creating a `Dockerfile` and using the [`ENV`](https://docs.docker.com/engine/reference/builder/#env) instruction to set the `JAVA_OPTS` environment variable.\r\n\r\nFirst, create a new directory inside your server to store the files you will be creating in this tutorial:\r\n\r\n```command\r\nmkdir -p $HOME/playground/jcasc\r\n```\r\n\r\nThen, navigate inside that directory:\r\n\r\n```command\r\ncd $HOME/playground/jcasc\r\n```\r\n\r\nNext, using your editor, create a new file named `Dockerfile`:\r\n\r\n```command\r\nnano $HOME/playground/jcasc/Dockerfile\r\n```\r\n\r\nThen, copy the following content into the `Dockerfile`:\r\n\r\n```Dockerfile\r\n[label ~/playground/jcasc/]\r\nFROM jenkins/jenkins:latest\r\nENV JAVA_OPTS -Djenkins.install.runSetupWizard=false\r\n```\r\n\r\nHere, you're using the [`FROM`](https://docs.docker.com/engine/reference/builder/#from) instruction to specify `jenkins/jenkins:latest` as the _base image_, and the `ENV` instruction to set the `JAVA_OPTS` environment variable.\r\n\r\nSave the file and exit the editor by pressing `CTRL+X` followed by `Y`.\r\n\r\nWith these modifications in place, build a new custom Docker image and assign it a unique tag (we'll use `jcasc` here):\r\n\r\n```command\r\ndocker build -t jenkins:jcasc .\r\n```\r\n\r\nYou will see output similar to the following:\r\n\r\n```\r\n[secondary_label Output]\r\nSending build context to Docker daemon  2.048kB\r\nStep 1/2 : FROM jenkins/jenkins:latest\r\n ---\u003e 1f4b0aaa986e\r\nStep 2/2 : ENV JAVA_OPTS -Djenkins.install.runSetupWizard=false\r\n ---\u003e 7566b15547af\r\nSuccessfully built 7566b15547af\r\nSuccessfully tagged jenkins:jcasc\r\n```\r\n\r\nOnce built, run your custom image by running [`docker run`](https://docs.docker.com/engine/reference/run/):\r\n\r\n```command\r\ndocker run --name jenkins --rm -p 8080:8080 jenkins:jcasc\r\n```\r\n\r\nYou used the `--name jenkins` option to give your container an easy-to-remember name; otherwise a random hexadecimal ID would be used instead (e.g. `f1d701324553`). You also specified the `--rm` flag so the container will automatically be removed after you've stopped the container process. Lastly, you've configured your server host's port `8080` to proxy to the container's port `8080` using the `-p` flag; `8080` is the default port where the Jenkins web UI is served from.\r\n\r\nJenkins will take a short period of time to initiate. When Jenkins is ready, you will see the following line in the output:\r\n\r\n```\r\n[secondary_label Output]\r\n... hudson.WebAppMain$3#run: Jenkins is fully up and running\r\n```\r\n\r\nNow, open up your browser to `\u003c^\u003eserver_ip\u003c^\u003e:8080`. You're immediately shown the dashboard without the setup wizard.\r\n\r\n![The Jenkins dashboard](https://assets.digitalocean.com/articles/jcasc_docker/step1a.png)\r\n\r\nYou have just confirmed that the setup wizard has been disabled. To clean up, stop the container by pressing `CTRL+C`. If you've specified the `--rm` flag earlier, the stopped container would automatically be removed.\r\n\r\nIn this step, you've created a custom Jenkins image that has the setup wizard disabled. However, the top right of the web interface now shows a red notification icon indicating there are issues with the setup. Click on the icon to see the details.\r\n\r\n![The Jenkins dashboard showing issues](https://assets.digitalocean.com/articles/jcasc_docker/step1b.png)\r\n\r\nThe first warning informs you that you have not configured the Jenkins URL. The second tells you that you haven't configured any authentication and authorization schemes, and that anonymous users have full permissions to perform all actions on your Jenkins instance. Previously, the setup wizard guided you through addressing these issues. Now that you've disabled it, you need to replicate the same functions using JCasC. The rest of this tutorial will involve modifying your `Dockerfile` and JCasC configuration until no more issues remain (that is, until the red notification icon disappears).\r\n\r\nIn the next step, you will begin that process by pre-installing a selection of Jenkins plugins, including the Configuration as Code plugin, into your custom Jenkins image.\r\n\r\n## Step 2 — Installing Jenkins Plugins\r\n\r\nTo use JCasC, you need to install the Configuration as Code plugin. Currently, no plugins are installed. You can confirm this by navigating to `http://\u003c^\u003eserver_ip\u003c^\u003e:8080/pluginManager/installed`.\r\n\r\n![Jenkins dashboard showing no plugins are installed](https://assets.digitalocean.com/articles/jcasc_docker/step2a.png)\r\n\r\nIn this step, you're going to modify your `Dockerfile` to pre-install a selection of plugins, including the Configuration as Code plugin.\r\n\r\nTo automate the plugin installation process, you can make use of an installation script that comes with the `jenkins/jenkins` Docker image. You can find it inside the container at `/usr/local/bin/install-plugins.sh`. To use it, you would need to:\r\n\r\n- Create a text file containing a list of plugins to install\r\n- Copy it into the Docker image\r\n- Run the `install-plugins.sh` script to install the plugins\r\n\r\nFirst, using your editor, create a new file named `plugins.txt`:\r\n\r\n```command\r\nnano $HOME/playground/jcasc/plugins.txt\r\n```\r\n\r\nThen, add in the following newline-separated list of plugin names and versions (using the format `\u003cid\u003e:\u003cversion\u003e`):\r\n\r\n```txt\r\n[label ~/playground/jcasc/plugins.txt]\r\nant:latest\r\nantisamy-markup-formatter:latest\r\nbuild-timeout:latest\r\ncloudbees-folder:latest\r\nconfiguration-as-code:latest\r\ncredentials-binding:latest\r\nemail-ext:latest\r\ngit:latest\r\ngithub-branch-source:latest\r\ngradle:latest\r\nldap:latest\r\nmailer:latest\r\nmatrix-auth:latest\r\npam-auth:latest\r\npipeline-github-lib:latest\r\npipeline-stage-view:latest\r\nssh-slaves:latest\r\ntimestamper:latest\r\nworkflow-aggregator:latest\r\nws-cleanup:latest\r\n```\r\n\r\nSave the file and exit your editor.\r\n\r\nThe list contains the Configuration as Code plugin, as well as all the plugins suggested by the setup wizard (correct as of Jenkins v2.251). For example, you have the [Git](https://plugins.jenkins.io/git/) plugin, which allows Jenkins to work with Git repositories; you also have the [Pipeline](https://plugins.jenkins.io/workflow-aggregator/) plugin, which is actually a suite of plugins that allows you to define Jenkins jobs as code.\r\n\r\n\u003c$\u003e[note]\r\n**Note:** The most up-to-date list of suggested plugins can be inferred from the [source code](https://github.com/jenkinsci/jenkins/blob/master/core/src/main/resources/jenkins/install/platform-plugins.json). You can also find a list of the most popular community-contributed plugins at [plugins.jenkins.io](https://plugins.jenkins.io/). Feel free to include any other plugins you want into the list.\r\n\u003c$\u003e\r\n\r\nNext, open up the `Dockerfile` file:\r\n\r\n```command\r\nnano $HOME/playground/jcasc/Dockerfile\r\n```\r\n\r\nIn it, add a `COPY` instruction to copy the `plugins.txt` file into the `/usr/share/jenkins/ref/` directory inside the image; this is where Jenkins normally looks for plugins. Then, include an additional `RUN` instruction to run the `install-plugins.sh` script:\r\n\r\n```Dockerfile\r\n[label ~/playground/jcasc/Dockerfile]\r\nFROM jenkins/jenkins\r\nENV JAVA_OPTS -Djenkins.install.runSetupWizard=false\r\n\u003c^\u003eCOPY plugins.txt /usr/share/jenkins/ref/plugins.txt\u003c^\u003e\r\n\u003c^\u003eRUN /usr/local/bin/install-plugins.sh \u003c /usr/share/jenkins/ref/plugins.txt\u003c^\u003e\r\n```\r\n\r\nSave the file and exit the editor. Then, build a new image using the revised `Dockerfile`:\r\n\r\n```command\r\ndocker build -t jenkins:jcasc .\r\n```\r\n\r\nThis step involves downloading and installing many plugins into the image, and may take some time to run depending on your internet connection. Once the plugins have finished installing, run the new Jenkins image:\r\n\r\n```command\r\ndocker run --name jenkins --rm -p 8080:8080 jenkins:jcasc\r\n```\r\n\r\nAfter the `Jenkins is fully up and running` message appears on `stdout`, navigate to `\u003c^\u003eserver_ip\u003c^\u003e:8080/pluginManager/installed` to see a list of installed plugins. You will see a solid checkbox next to all the plugins you've specified inside `plugins.txt`, as well as a faded checkbox next to plugins, which are dependencies of those plugins.\r\n\r\n![A list of installed plugins](https://assets.digitalocean.com/articles/jcasc_docker/step2b.png)\r\n\r\nOnce you've confirmed that the **Configuration As Code** plugin is installed, terminate the container process by pressing `CTRL+C`.\r\n\r\nIn this step, you've installed all the suggested Jenkins plugins and the Configuration as Code plugin. You're now ready to use JCasC to tackle the issues listed in the notification box. In the next step, you will fix the first issue, which warns you that the **Jenkins root URL is empty**.\r\n\r\n## Step 3 — Specifying the Jenkins URL\r\n\r\nThe Jenkins URL is a URL for the Jenkins instance that is routable from the devices that need to access it. For example, if you're deploying Jenkins as a node inside a private network, the Jenkins URL may be a private IP address, or a DNS name that is resolvable using a private DNS server. For this tutorial, it is sufficient to use the server's IP address (or `127.0.0.1` for local hosts) to form the Jenkins URL.\r\n\r\nYou can set the Jenkins URL on the web interface by navigating to `\u003c^\u003eserver_ip\u003c^\u003e:8080/configure` and entering the value in the **Jenkins URL** field under the **Jenkins Location** heading. Here's how to achieve the same using the Configuration as Code plugin:\r\n\r\n1. Define the desired configuration of your Jenkins instance inside a declarative configuration file (which we'll call `casc.yaml`).\r\n2. Copy the configuration file into the Docker image (just as you did for your `plugins.txt` file).\r\n3. Set the `CASC_JENKINS_CONFIG` environment variable to the path of the configuration file to instruct the Configuration as Code plugin to read it.\r\n\r\nFirst, create a new file named `casc.yaml`:\r\n\r\n```command\r\nnano $HOME/playground/jcasc/casc.yaml\r\n```\r\n\r\nThen, add in the following lines:\r\n\r\n```yaml\r\n[label ~/playground/jcasc/casc.yaml]\r\nunclassified:\r\n  location:\r\n    url: http://\u003c^\u003eserver_ip\u003c^\u003e:8080/\r\n```\r\n\r\n`unclassified.location.url` is the path for setting the Jenkins URL. It is just one of a myriad of properties that can be set with JCasC. Valid properties are determined by the plugins that are installed. For example, the `jenkins.authorizationStrategy.globalMatrix.permissions` property would only be valid if the [Matrix Authorization Strategy](https://plugins.jenkins.io/matrix-auth) plugin is installed. To see what properties are available, navigate to `\u003c^\u003eserver_ip\u003c^\u003e:8080/configuration-as-code/reference`, and you'll find a page of documentation that is customized to your particular Jenkins installation.\r\n\r\nSave the `casc.yaml` file, exit your editor, and open the `Dockerfile` file:\r\n\r\n```command\r\nnano $HOME/playground/jcasc/Dockerfile\r\n```\r\n\r\nAdd a `COPY` instruction to the end of your `Dockerfile` that copies the `casc.yaml` file into the image at `/var/jenkins_home/casc.yaml`. You've chosen `/var/jenkins_home/` because that's the default directory where Jenkins stores all of its data:\r\n\r\n```Dockerfile\r\n[label ~/playground/jcasc/Dockerfile]\r\nFROM jenkins/jenkins:latest\r\nENV JAVA_OPTS -Djenkins.install.runSetupWizard=false\r\nCOPY plugins.txt /usr/share/jenkins/ref/plugins.txt\r\nRUN /usr/local/bin/install-plugins.sh \u003c /usr/share/jenkins/ref/plugins.txt\r\n\u003c^\u003eCOPY casc.yaml /var/jenkins_home/casc.yaml\u003c^\u003e\r\n```\r\n\r\nThen, add a further `ENV` instruction that sets the `CASC_JENKINS_CONFIG` environment variable:\r\n\r\n```Dockerfile\r\n[label ~/playground/jcasc/Dockerfile]\r\nFROM jenkins/jenkins:latest\r\nENV JAVA_OPTS -Djenkins.install.runSetupWizard=false\r\n\u003c^\u003eENV CASC_JENKINS_CONFIG /var/jenkins_home/casc.yaml\u003c^\u003e\r\nCOPY plugins.txt /usr/share/jenkins/ref/plugins.txt\r\nRUN /usr/local/bin/install-plugins.sh \u003c /usr/share/jenkins/ref/plugins.txt\r\nCOPY casc.yaml /var/jenkins_home/casc.yaml\r\n```\r\n\r\n\u003c$\u003e[note]\r\n**Note:** You've put the `ENV` instruction near the top because it's something that you are unlikely to change. By placing it before the `COPY` and `RUN` instructions, you can avoid invalidating the cached layer if you were to update the `casc.yaml` or `plugins.txt`.\r\n\u003c$\u003e\r\n\r\nSave the file and exit the editor. Next, build the image:\r\n\r\n```command\r\ndocker build -t jenkins:jcasc .\r\n```\r\n\r\nAnd run the updated Jenkins image:\r\n\r\n```command\r\ndocker run --name jenkins --rm -p 8080:8080 jenkins:jcasc\r\n```\r\n\r\nAs soon as the `Jenkins is fully up and running` log line appears, navigate to `\u003c^\u003eserver_ip\u003c^\u003e:8080` to view the dashboard. This time, you may have noticed that the notification count is reduced by one, and the warning about the Jenkins URL has disappeared.\r\n\r\n![Jenkins Dashboard showing the notification counter has a count of 1](https://assets.digitalocean.com/articles/jcasc_docker/step3a.png)\r\n\r\nNow, navigate to `\u003c^\u003eserver_ip\u003c^\u003e:8080/configure` and scroll down to the **Jenkins URL** field. Confirm that the Jenkins URL has been set to the same value specified in the `casc.yaml` file.\r\n\r\nLastly, stop the container process by pressing `CTRL+C`.\r\n\r\nIn this step, you used the Configuration as Code plugin to set the Jenkins URL. In the next step, you will tackle the second issue from the notifications list (the **Jenkins is currently unsecured** message).\r\n\r\n## Step 4 — Creating a User\r\n\r\nSo far, your setup has not implemented any authentication and authorization mechanisms. In this step, you will set up a basic, password-based authentication scheme and create a new user named `admin`.\r\n\r\nStart by opening your `casc.yaml` file:\r\n\r\n```command\r\nnano $HOME/playground/jcasc/casc.yaml\r\n```\r\n\r\nThen, add in the highlighted snippet:\r\n\r\n```yaml\r\n[label ~/playground/jcasc/casc.yaml]\r\n\u003c^\u003ejenkins:\u003c^\u003e\r\n  \u003c^\u003esecurityRealm:\u003c^\u003e\r\n    \u003c^\u003elocal:\u003c^\u003e\r\n      \u003c^\u003eallowsSignup: false\u003c^\u003e\r\n      \u003c^\u003eusers:\u003c^\u003e\r\n       \u003c^\u003e- id: ${JENKINS_ADMIN_ID}\u003c^\u003e\r\n         \u003c^\u003epassword: ${JENKINS_ADMIN_PASSWORD}\u003c^\u003e\r\nunclassified:\r\n  ...\r\n```\r\n\r\nIn the context of Jenkins, a _security realm_ is simply an authentication mechanism; the local security realm means to use basic authentication where users must specify their ID/username and password. Other security realms exist and are provided by plugins. For instance, the [LDAP](https://plugins.jenkins.io/ldap) plugin allows you to use an existing LDAP directory service as the authentication mechanism. The [GitHub Authentication](https://plugins.jenkins.io/github-oauth) plugin allows you to use your GitHub credentials to authenticate via OAuth.\r\n\r\nNote that you've also specified `allowsSignup: false`, which prevents anonymous users from creating an account through the web interface.\r\n\r\nFinally, instead of hard-coding the user ID and password, you are using variables whose values can be filled in at runtime. This is important because one of the benefits of using JCasC is that the `casc.yaml` file can be committed into source control; if you were to store user passwords in plaintext inside the configuration file, you would have effectively compromised the credentials. Instead, variables are defined using the `${VARIABLE_NAME}` syntax, and its value can be filled in using an environment variable of the same name, or a file of the same name that's placed inside the `/run/secrets/` directory within the container image.\r\n\r\nNext, build a new image to incorporate the changes made to the `casc.yaml` file:\r\n\r\n```command\r\ndocker build -t jenkins:jcasc .\r\n```\r\n\r\nThen, run the updated Jenkins image whilst passing in the `JENKINS_ADMIN_ID` and `JENKINS_ADMIN_PASSWORD` environment variables via the [`--env`](https://docs.docker.com/engine/reference/commandline/run/#set-environment-variables--e---env---env-file) option (replace `\u003c^\u003e\u003cpassword\u003e\u003c^\u003e` with a password of your choice):\r\n\r\n```command\r\ndocker run --name jenkins --rm -p 8080:8080 --env JENKINS_ADMIN_ID=admin --env JENKINS_ADMIN_PASSWORD=\u003c^\u003epassword\u003c^\u003e jenkins:jcasc\r\n```\r\n\r\nYou can now go to `\u003c^\u003eserver_ip\u003c^\u003e:8080/login` and log in using the specified credentials.\r\n\r\n![Jenkins Login Screen with the user ID and password fields populated](https://assets.digitalocean.com/articles/jcasc_docker/step4a.png)\r\n\r\nOnce you've logged in successfully, you will be redirected to the dashboard.\r\n\r\n![Jenkins Dashboard for authenticated user, showing the user ID and a 'log out' link near the top right corner of the page](https://assets.digitalocean.com/articles/jcasc_docker/step4b.png)\r\n\r\nFinish this step by pressing `CTRL+C` to stop the container.\r\n\r\nIn this step, you used JCasC to create a new user named `admin`. You've also learned how to keep sensitive data, like passwords, out of files tracked by VCSs. However, so far you've only configured user authentication; you haven't implemented any authorization mechanisms. In the next step, you will use JCasC to grant your `admin` user with administrative privileges.\r\n\r\n## Step 5 — Setting Up Authorization\r\n\r\nAfter setting up the security realm, you must now configure the _authorization strategy_. In this step, you will use the [Matrix Authorization Strategy](https://plugins.jenkins.io/matrix-auth) plugin to configure permissions for your `admin` user.\r\n\r\nBy default, the Jenkins core installation provides us with three authorization strategies:\r\n\r\n- `unsecured`: every user, including anonymous users, have full permissions to do everything\r\n- `legacy`: emulates legacy Jenkins (prior to v1.164), where any users with the role `admin` is given full permissions, whilst other users, including anonymous users, are given read access.\r\n\r\n\u003c$\u003e[note]\r\n**Note:** A _role_ in Jenkins can be a user (for example, `daniel`) or a group (for example, `developers`)\r\n\u003c$\u003e\r\n\r\n- `loggedInUsersCanDoAnything`: anonymous users are given either no access or read-only access. Authenticated users have full permissions to do everything. By allowing actions only for authenticated users, you are able to have an audit trail of which users performed which actions.\r\n\r\n\u003c$\u003e[note]\r\n**Note:** You can explore other authorization strategies and their related plugins in the [documentation](https://jenkins.io/doc/developer/extensions/jenkins-core/#authorizationstrategy); these include plugins that handle both authentication and authorization.\r\n\u003c$\u003e\r\n\r\nAll of these authorization strategies are very crude, and does not afford granular control over how permissions are set for different users. Instead, you can use the Matrix Authorization Strategy plugin that was already included in your `plugins.txt` list. This plugin affords you a more granular authorization strategy, and allows you to set user permissions globally, as well as per project/job.\r\n\r\nThe Matrix Authorization Strategy plugin allows you to use the `jenkins.authorizationStrategy.globalMatrix.permissions` JCasC property to set global permissions. To use it, open your `casc.yaml` file:\r\n\r\n```command\r\nnano $HOME/playground/jcasc/casc.yaml\r\n```\r\n\r\nAnd add in the highlighted snippet:\r\n\r\n```yaml\r\n[label ~/playground/jcasc/casc.yaml]\r\n...\r\n       - id: ${JENKINS_ADMIN_ID}\r\n         password: ${JENKINS_ADMIN_PASSWORD}\r\n  \u003c^\u003eauthorizationStrategy:\u003c^\u003e\r\n    \u003c^\u003eglobalMatrix:\u003c^\u003e\r\n      \u003c^\u003epermissions:\u003c^\u003e\r\n        \u003c^\u003e- \"Overall/Administer:admin\"\u003c^\u003e\r\n        \u003c^\u003e- \"Overall/Read:authenticated\"\u003c^\u003e\r\nunclassified:\r\n...\r\n```\r\n\r\nThe `globalMatrix` property sets global permissions (as opposed to per-project permissions). The `permissions` property is a list of strings with the format `\u003cpermission-group\u003e/\u003cpermission-name\u003e:\u003crole\u003e`. Here, you are granting the `Overall/Administer` permissions to the `admin` user. You're also granting `Overall/Read` permissions to `authenticated`, which is a special role that represents all authenticated users. There's another special role called `anonymous`, which groups all non-authenticated users together. But since permissions are denied by default, if you don't want to give anonymous users any permissions, you don't need to explicitly include an entry for it.\r\n\r\nSave the `casc.yaml` file, exit your editor, and build a new image:\r\n\r\n```command\r\ndocker build -t jenkins:jcasc .\r\n```\r\n\r\nThen, run the updated Jenkins image:\r\n\r\n```command\r\ndocker run --name jenkins --rm -p 8080:8080 --env JENKINS_ADMIN_ID=admin --env JENKINS_ADMIN_PASSWORD=\u003c^\u003epassword\u003c^\u003e jenkins:jcasc\r\n```\r\n\r\nWait for the `Jenkins is fully up and running` log line, and then navigate to `\u003c^\u003eserver_ip\u003c^\u003e:8080`. You will be redirected to the login page. Fill in your credentials and you will be redirected to the main dashboard.\r\n\r\nIn this step, you have set up global permissions for your `admin` user. However, resolving the authorization issue uncovered additional issues that are now shown in the notification menu.\r\n\r\n![Jenkins Dashboard showing the notifications menu with two issues](https://assets.digitalocean.com/articles/jcasc_docker/step5a.png)\r\n\r\nTherefore, in the next step, you will continue to modify your Docker image, to resolve each issue one by one until none remains.\r\n\r\nBefore you continue, stop the container by pressing `CTRL+C`.\r\n\r\n## Step 6 — Setting Up Build Authorization\r\n\r\nThe first issue in the notifications list relates to build authentication. By default, all jobs are run as the system user, which has a lot of system privileges. Therefore, a Jenkins user can perform _privilege escalation_ simply by defining and running a malicious job or pipeline; this is insecure.\r\n\r\nInstead, jobs should be ran using the same Jenkins user that configured or triggered it. To achieve this, you need to install an additional plugin called the [Authorize Project](https://plugins.jenkins.io/authorize-project) plugin.\r\n\r\nOpen `plugins.txt`:\r\n\r\n```command\r\nnano $HOME/playground/jcasc/plugins.txt\r\n```\r\n\r\nAnd add the highlighted line:\r\n\r\n```txt\r\n[label ~/playground/jcasc/plugins.txt]\r\nant:latest\r\nantisamy-markup-formatter:latest\r\n\u003c^\u003eauthorize-project:latest\u003c^\u003e\r\nbuild-timeout:latest\r\n...\r\n```\r\n\r\nThe plugin provides a new build authorization strategy, which you would need to specify in your JCasC configuration. Exit out of the `plugins.txt` file and open the `casc.yaml` file:\r\n\r\n```command\r\nnano $HOME/playground/jcasc/casc.yaml\r\n```\r\n\r\nAdd the highlighted block to your `casc.yaml` file:\r\n\r\n```yaml\r\n[label ~/playground/jcasc/casc.yaml]\r\n...\r\n        - \"Overall/Administer:admin\"\r\n        - \"Overall/Read:authenticated\"\r\n\u003c^\u003esecurity:\u003c^\u003e\r\n  \u003c^\u003equeueItemAuthenticator:\u003c^\u003e\r\n    \u003c^\u003eauthenticators:\u003c^\u003e\r\n    \u003c^\u003e- global:\u003c^\u003e\r\n        \u003c^\u003estrategy: triggeringUsersAuthorizationStrategy\u003c^\u003e\r\nunclassified:\r\n...\r\n```\r\n\r\nSave the file and exit the editor. Then, build a new image using the modified `plugins.txt` and `casc.yaml` files:\r\n\r\n```command\r\ndocker build -t jenkins:jcasc .\r\n```\r\n\r\nThen, run the updated Jenkins image:\r\n\r\n```command\r\ndocker run --name jenkins --rm -p 8080:8080 --env JENKINS_ADMIN_ID=admin --env JENKINS_ADMIN_PASSWORD=\u003c^\u003epassword\u003c^\u003e jenkins:jcasc\r\n```\r\n\r\nWait for the `Jenkins is fully up and running` log line, then navigate to `\u003c^\u003eserver_ip\u003c^\u003e:8080/login`, fill in your credentials, and arrive at the main dashboard. Open the notification menu, and you will see the issue related to build authentication no longer appears.\r\n\r\n![Jenkins dashboard's notification menu showing a single issue related to agent to master security subsystem being turned off](https://assets.digitalocean.com/articles/jcasc_docker/step6a.png)\r\n\r\nStop the container by running `CTRL+C` before continuing.\r\n\r\nIn this step, you have configured Jenkins to run builds using the user that triggered the build, instead of the system user. This eliminates one of the issues in the notifications list. In the next step, you will tackle the next issue related to the Agent to Controller Security Subsystem.\r\n\r\n## Step 7 — Enabling Agent to Controller Access Control\r\n\r\nIn this tutorial, you have deployed only a single instance of Jenkins, which runs all builds. However, Jenkins supports distributed builds using an agent/controller configuration. The controller is responsible for providing the web UI, exposing an API for clients to send requests to, and co-ordinating builds. The agents are the instances that execute the jobs.\r\n\r\nThe benefit of this configuration is that it is more scalable and fault-tolerant. If one of the servers running Jenkins goes down, other instances can take up the extra load.\r\n\r\nHowever, there may be instances where the agents cannot be trusted by the controller. For example, the OPS team may manage the Jenkins controller, whilst an external contractor manages their own custom-configured Jenkins agent. Without the Agent to Controller Security Subsystem, the agent is able to instruct the controller to execute any actions it requests, which may be undesirable. By enabling Agent to Controller Access Control, you can control which commands and files the agents have access to.\r\n\r\nTo enable Agent to Controller Access Control, open the `casc.yaml` file:\r\n\r\n```command\r\nnano $HOME/playground/jcasc/casc.yaml\r\n```\r\n\r\nThen, add the following highlighted lines:\r\n\r\n```yaml\r\n[label ~/playground/jcasc/casc.yaml]\r\n...\r\n        - \"Overall/Administer:admin\"\r\n        - \"Overall/Read:authenticated\"\r\n  \u003c^\u003eremotingSecurity:\u003c^\u003e\r\n    \u003c^\u003eenabled: true\u003c^\u003e\r\nsecurity:\r\n  queueItemAuthenticator:\r\n...\r\n```\r\n\r\nSave the file and build a new image:\r\n\r\n```command\r\ndocker build -t jenkins:jcasc .\r\n```\r\n\r\nRun the updated Jenkins image:\r\n\r\n```command\r\ndocker run --name jenkins --rm -p 8080:8080 --env JENKINS_ADMIN_ID=admin --env JENKINS_ADMIN_PASSWORD=\u003c^\u003epassword\u003c^\u003e jenkins:jcasc\r\n```\r\n\r\nNavigate to `\u003c^\u003eserver_ip\u003c^\u003e:8080/login` and authenticate as before. When you land on the main dashboard, the notifications menu will not show any more issues.\r\n\r\n![Jenkins dashboard showing no issues](https://assets.digitalocean.com/articles/jcasc_docker/step7a.png)\r\n\r\n## Conclusion\r\n\r\nYou've now successfully configured a simple Jenkins server using JCasC. Just as the [Pipeline plugin](https://plugins.jenkins.io/workflow-aggregator/) enables developers to define their jobs inside a `Jenkinsfile`, the Configuration as Code plugin enables administrators to define the Jenkins configuration inside a YAML file. Both of these plugins bring Jenkins closer aligned with the _Everything as Code_ (EaC) paradigm.\r\n\r\nHowever, getting the JCasC syntax correct can be difficult, and the documentation can be hard to decipher. If you're stuck and need help, you may find it in the [Gitter chat](https://gitter.im/jenkinsci/configuration-as-code-plugin) for the plugin.\r\n\r\nAlthough you have configured the basic settings of Jenkins using JCasC, the new instance does not contain any projects or jobs. To take this even further, explore the [Job DSL](https://plugins.jenkins.io/job-dsl) plugin, which allows us to define projects and jobs as code. What's more, you can include the Job DSL code inside your JCasC configuration file, and have the projects and jobs created as part of the configuration process.\r\n","language":"en","state":"published","last_validated_at":"2020-09-29T11:40:55.120Z","published_at":"2020-09-29T11:41:14.349Z","views":51994,"follow_up_questions_enabled_at":null,"comments_locked_at":null,"raw_html_allowed_in_markdown_at":null,"event_start_at":null,"event_timezone":"Eastern Time (US \u0026 Canada)","original":{},"authors":[{"user_name":null,"relation":"author","user_id":65455,"tutorial_id":6869,"created_at":"2020-09-28T15:41:55.698Z","updated_at":"2020-09-28T15:41:55.698Z","user":{"id":65455,"username":"d4nyll","slug":"d4nyll","first_name":"Daniel","last_name":"Li","title":"DevOps Engineer","bio":"Author of Building Enterprise JavaScript Applications (BEJA) - https://packtpub.com/web-development/building-enterprise-javascript-applications","website":"danyll.com","twitter_handle":"d4nyll","github_handle":"d4nyll","linkedin_url":"https://www.linkedin.com/in/d4nyll/","preferred_contact_method":0,"skills":"Node.js,JavaScript,DevOps,Docker,Kubernetes","learn_more":"","preferred_language":"en","created_at":"2014-11-08T14:46:27.186Z","updated_at":"2021-12-23T22:25:34.750Z"}}],"editors":[{"user_name":null,"relation":"editor","user_id":465108,"tutorial_id":6869,"created_at":"2021-01-12T20:12:11.860Z","updated_at":"2021-01-12T20:12:11.860Z","user":{"id":465108,"username":"khancox","slug":"khancox","first_name":"Kathryn","last_name":"Hancox","title":"","bio":"Senior Technical Editor  @ DigitalOcean","website":"","twitter_handle":"","github_handle":"","linkedin_url":"","preferred_contact_method":0,"skills":"","learn_more":"","preferred_language":"en","created_at":"2018-09-19T20:55:08.357Z","updated_at":"2022-01-06T20:12:09.345Z"}}],"translators":[],"tags":[{"id":35,"slug":"docker","name":"Docker","description":"Docker is a popular containerization tool used to provide software applications with a filesystem that contains everything they need to run. Using Docker containers ensures that the software will behave the same way, regardless of where it is deployed, because its run-time environment is ruthlessly consistent.\r\n\r\n","created_at":"2022-01-31T18:04:44.879Z","updated_at":"2022-01-30T19:02:48.642Z","admin_use_only_at":null,"admin_view_only_at":null},{"id":126,"slug":"ci-cd","name":"CI/CD","description":"**Continuous integration** (CI) focuses on integrating work from individual developers into a main repository multiple times a day to catch integration bugs early and accelerate collaborative development. \r\n\r\n**Continuous delivery** (CD) is concerned with reducing friction in the deployment or release process, automating the steps required to deploy a build so that code can be released safely at any time. Continuous deployment takes this one step further by automatically deploying each time a code change is made.\r\n\r\n\u003c$\u003e[note]**New to CI/CD?** Start with [a general introduction to CI/CD concepts](https://www.digitalocean.com/community/tutorials/an-introduction-to-continuous-integration-delivery-and-deployment), and then dive into [more about various open-source CI/CD projects](https://www.digitalocean.com/community/tutorials/ci-cd-tools-comparison-jenkins-gitlab-ci-buildbot-drone-and-concourse).\u003c$\u003e\r\n","created_at":"2017-05-08T14:17:47.258Z","updated_at":"2022-01-20T07:29:34.633Z","admin_use_only_at":null,"admin_view_only_at":null},{"id":55,"slug":"configuration-management","name":"Configuration Management","description":"Configuration management refers to the processes by which administrators and operations teams control a large numbers of servers. Automation is at the heart of most configuration management tools, which allow developers to quickly provision new servers, recover from critical events, manage version control, and replicate environments. Popular CM tools include Puppet, Ansible, Chef, and Salt. \r\n","created_at":"2022-01-31T18:04:44.879Z","updated_at":"2022-01-28T04:27:51.818Z","admin_use_only_at":null,"admin_view_only_at":null},{"id":118,"slug":"open-source","name":"Open Source","description":"Open-source software is any program which makes its source code freely available to anyone to review, modify, and share.","created_at":"2016-11-03T20:22:12.259Z","updated_at":"2022-01-31T16:09:03.296Z","admin_use_only_at":"2022-01-31T18:04:44.879Z","admin_view_only_at":null}],"comments":[],"series":[]},"content":"\u003cp\u003e\u003cem\u003eThe author selected the \u003ca href=\"https://wikimediafoundation.org/\"\u003eWikimedia Foundation\u003c/a\u003e to receive a donation as part of the \u003ca href=\"https://do.co/w4do-cta\"\u003eWrite for DOnations\u003c/a\u003e program.\u003c/em\u003e\u003c/p\u003e\n\u003ch3 id=\"introduction\"\u003eIntroduction\u003c/h3\u003e\n\u003cp\u003e\u003ca href=\"https://jenkins.io/\"\u003eJenkins\u003c/a\u003e is one of the most popular open-source automation servers, often used to orchestrate \u003ca href=\"https://www.digitalocean.com/community/tutorials/an-introduction-to-continuous-integration-delivery-and-deployment\"\u003econtinuous integration (CI) and/or continuous deployment (CD)\u003c/a\u003e workflows.\u003c/p\u003e\n\u003cp\u003eConfiguring Jenkins is typically done manually through a web-based setup wizard; this can be a slow, error-prone, and non-scalable process. You can see the steps involved by following \u003ca href=\"https://www.digitalocean.com/community/tutorials/how-to-install-jenkins-on-ubuntu-18-04#step-4-%E2%80%94-setting-up-jenkins\"\u003eStep 4 — Setting Up Jenkins\u003c/a\u003e of the \u003ca href=\"https://www.digitalocean.com/community/tutorials/how-to-install-jenkins-on-ubuntu-18-04\"\u003eHow To Install Jenkins on Ubuntu 18.04\u003c/a\u003e guide. Furthermore, configurations cannot be tracked in a \u003cem\u003eversion control system\u003c/em\u003e (VCS) like \u003ca href=\"https://git-scm.com/\"\u003eGit\u003c/a\u003e, nor be under the scrutiny of any code review process.\u003c/p\u003e\n\u003cp\u003eIn this tutorial, you will automate the installation and configuration of Jenkins using \u003ca href=\"https://www.docker.com/\"\u003eDocker\u003c/a\u003e and the \u003ca href=\"https://www.jenkins.io/projects/jcasc/\"\u003eJenkins Configuration as Code\u003c/a\u003e (JCasC) method.\u003c/p\u003e\n\u003cp\u003eJenkins uses a pluggable architecture to provide most of its functionality. JCasC makes use of the \u003ca href=\"https://plugins.jenkins.io/configuration-as-code/\"\u003eConfiguration as Code\u003c/a\u003e plugin, which allows you to define the desired state of your Jenkins configuration as one or more \u003ca href=\"https://yaml.org/\"\u003eYAML\u003c/a\u003e file(s), eliminating the need for the setup wizard. On initialization, the Configuration as Code plugin would configure Jenkins according to the configuration file(s), greatly reducing the configuration time and eliminating human errors.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.docker.com/\"\u003eDocker\u003c/a\u003e is the de facto standard for creating and running \u003ca href=\"https://www.digitalocean.com/community/tutorials/the-docker-ecosystem-an-overview-of-containerization\"\u003econtainers\u003c/a\u003e, which is a \u003cem\u003evirtualization\u003c/em\u003e technology that allows you to run isolated, self-contained applications consistently across different \u003cem\u003eoperation systems\u003c/em\u003e (OSes) and hardware architectures. You will run your Jenkins instance using Docker to take advantage of this consistency and cross-platform capability.\u003c/p\u003e\n\u003cp\u003eThis tutorial starts by guiding you through setting up JCasC. You will then incrementally add to the JCasC configuration file to set up users, configuration authentication and authorization, and finally to secure your Jenkins instance. After you’ve completed this tutorial, you’ll have created a custom Docker image that is set up to use the Configuration as Code plugin on startup to automatically configure and secure your Jenkins instance.\u003c/p\u003e\n\u003ch2 id=\"prerequisites\"\u003ePrerequisites\u003c/h2\u003e\n\u003cp\u003eTo complete this tutorial, you will need:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eAccess to a server with at least 2GB of RAM and Docker installed. This can be your local development machine, a Droplet, or any kind of server. Follow \u003cstrong\u003eStep 1 — Installing Docker\u003c/strong\u003e from one of the tutorials in the \u003ca href=\"https://www.digitalocean.com/community/tutorial_collections/how-to-install-and-use-docker\"\u003eHow to Install and Use Docker\u003c/a\u003e collection to set up Docker.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"note\"\u003e\n\u003cp\u003e\u003cstrong\u003eNote:\u003c/strong\u003e This tutorial is tested on Ubuntu 18.04; however, because Docker images are self-contained, the steps outlined here would work for any OSes with Docker installed.\u003c/p\u003e\n\u003c/div\u003e\n\u003ch2 id=\"step-1-disabling-the-setup-wizard\"\u003eStep 1 — Disabling the Setup Wizard\u003c/h2\u003e\n\u003cp\u003eUsing JCasC eliminates the need to show the setup wizard; therefore, in this first step, you’ll create a modified version of the official \u003ca href=\"https://hub.docker.com/r/jenkins/jenkins/\"\u003e\u003ccode\u003ejenkins/jenkins\u003c/code\u003e\u003c/a\u003e image that has the setup wizard disabled. You will do this by creating a \u003ccode\u003eDockerfile\u003c/code\u003e and building a custom Jenkins image from it.\u003c/p\u003e\n\u003cp\u003eThe \u003ccode\u003ejenkins/jenkins\u003c/code\u003e image allows you to enable or disable the setup wizard by passing in a \u003cem\u003esystem property\u003c/em\u003e named \u003ccode\u003ejenkins.install.runSetupWizard\u003c/code\u003e via the \u003ccode\u003eJAVA_OPTS\u003c/code\u003e environment variable. Users of the image can pass in the \u003ccode\u003eJAVA_OPTS\u003c/code\u003e environment variable at runtime using the \u003ca href=\"https://docs.docker.com/engine/reference/commandline/run/#set-environment-variables--e---env---env-file\"\u003e\u003ccode\u003e--env\u003c/code\u003e\u003c/a\u003e flag to \u003ccode\u003edocker run\u003c/code\u003e. However, this approach would put the onus of disabling the setup wizard on the user of the image. Instead, you should disable the setup wizard at build time, so that the setup wizard is disabled by default.\u003c/p\u003e\n\u003cp\u003eYou can achieve this by creating a \u003ccode\u003eDockerfile\u003c/code\u003e and using the \u003ca href=\"https://docs.docker.com/engine/reference/builder/#env\"\u003e\u003ccode\u003eENV\u003c/code\u003e\u003c/a\u003e instruction to set the \u003ccode\u003eJAVA_OPTS\u003c/code\u003e environment variable.\u003c/p\u003e\n\u003cp\u003eFirst, create a new directory inside your server to store the files you will be creating in this tutorial:\u003c/p\u003e\n\u003cpre class=\"prefixed command language-bash\"\u003e\u003ccode\u003e\u003col\u003e\u003cli data-prefix=\"$\"\u003e\u003cspan class=\"token function\"\u003emkdir\u003c/span\u003e -p \u003cspan class=\"token environment constant\"\u003e$HOME\u003c/span\u003e/playground/jcasc\n\u003c/li\u003e\u003c/ol\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThen, navigate inside that directory:\u003c/p\u003e\n\u003cpre class=\"prefixed command language-bash\"\u003e\u003ccode\u003e\u003col\u003e\u003cli data-prefix=\"$\"\u003e\u003cspan class=\"token builtin class-name\"\u003ecd\u003c/span\u003e \u003cspan class=\"token environment constant\"\u003e$HOME\u003c/span\u003e/playground/jcasc\n\u003c/li\u003e\u003c/ol\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNext, using your editor, create a new file named \u003ccode\u003eDockerfile\u003c/code\u003e:\u003c/p\u003e\n\u003cpre class=\"prefixed command language-bash\"\u003e\u003ccode\u003e\u003col\u003e\u003cli data-prefix=\"$\"\u003e\u003cspan class=\"token function\"\u003enano\u003c/span\u003e \u003cspan class=\"token environment constant\"\u003e$HOME\u003c/span\u003e/playground/jcasc/Dockerfile\n\u003c/li\u003e\u003c/ol\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThen, copy the following content into the \u003ccode\u003eDockerfile\u003c/code\u003e:\u003c/p\u003e\n\u003cdiv class=\"code-label\" title=\"~/playground/jcasc/\"\u003e~/playground/jcasc/\u003c/div\u003e\n\u003cpre class=\"language-docker\"\u003e\u003ccode\u003e\u003cspan class=\"token instruction\"\u003e\u003cspan class=\"token keyword\"\u003eFROM\u003c/span\u003e jenkins/jenkins:latest\u003c/span\u003e\n\u003cspan class=\"token instruction\"\u003e\u003cspan class=\"token keyword\"\u003eENV\u003c/span\u003e JAVA_OPTS -Djenkins.install.runSetupWizard=false\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eHere, you’re using the \u003ca href=\"https://docs.docker.com/engine/reference/builder/#from\"\u003e\u003ccode\u003eFROM\u003c/code\u003e\u003c/a\u003e instruction to specify \u003ccode\u003ejenkins/jenkins:latest\u003c/code\u003e as the \u003cem\u003ebase image\u003c/em\u003e, and the \u003ccode\u003eENV\u003c/code\u003e instruction to set the \u003ccode\u003eJAVA_OPTS\u003c/code\u003e environment variable.\u003c/p\u003e\n\u003cp\u003eSave the file and exit the editor by pressing \u003ccode\u003eCTRL+X\u003c/code\u003e followed by \u003ccode\u003eY\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eWith these modifications in place, build a new custom Docker image and assign it a unique tag (we’ll use \u003ccode\u003ejcasc\u003c/code\u003e here):\u003c/p\u003e\n\u003cpre class=\"prefixed command language-bash\"\u003e\u003ccode\u003e\u003col\u003e\u003cli data-prefix=\"$\"\u003e\u003cspan class=\"token function\"\u003edocker\u003c/span\u003e build -t jenkins:jcasc \u003cspan class=\"token builtin class-name\"\u003e.\u003c/span\u003e\n\u003c/li\u003e\u003c/ol\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eYou will see output similar to the following:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cdiv class=\"secondary-code-label\" title=\"Output\"\u003eOutput\u003c/div\u003eSending build context to Docker daemon  2.048kB\nStep 1/2 : FROM jenkins/jenkins:latest\n ---\u0026gt; 1f4b0aaa986e\nStep 2/2 : ENV JAVA_OPTS -Djenkins.install.runSetupWizard=false\n ---\u0026gt; 7566b15547af\nSuccessfully built 7566b15547af\nSuccessfully tagged jenkins:jcasc\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eOnce built, run your custom image by running \u003ca href=\"https://docs.docker.com/engine/reference/run/\"\u003e\u003ccode\u003edocker run\u003c/code\u003e\u003c/a\u003e:\u003c/p\u003e\n\u003cpre class=\"prefixed command language-bash\"\u003e\u003ccode\u003e\u003col\u003e\u003cli data-prefix=\"$\"\u003e\u003cspan class=\"token function\"\u003edocker\u003c/span\u003e run --name jenkins --rm -p \u003cspan class=\"token number\"\u003e8080\u003c/span\u003e:8080 jenkins:jcasc\n\u003c/li\u003e\u003c/ol\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eYou used the \u003ccode\u003e--name jenkins\u003c/code\u003e option to give your container an easy-to-remember name; otherwise a random hexadecimal ID would be used instead (e.g. \u003ccode\u003ef1d701324553\u003c/code\u003e). You also specified the \u003ccode\u003e--rm\u003c/code\u003e flag so the container will automatically be removed after you’ve stopped the container process. Lastly, you’ve configured your server host’s port \u003ccode\u003e8080\u003c/code\u003e to proxy to the container’s port \u003ccode\u003e8080\u003c/code\u003e using the \u003ccode\u003e-p\u003c/code\u003e flag; \u003ccode\u003e8080\u003c/code\u003e is the default port where the Jenkins web UI is served from.\u003c/p\u003e\n\u003cp\u003eJenkins will take a short period of time to initiate. When Jenkins is ready, you will see the following line in the output:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cdiv class=\"secondary-code-label\" title=\"Output\"\u003eOutput\u003c/div\u003e... hudson.WebAppMain$3#run: Jenkins is fully up and running\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNow, open up your browser to \u003ccode\u003e\u003cmark\u003eserver_ip\u003c/mark\u003e:8080\u003c/code\u003e. You’re immediately shown the dashboard without the setup wizard.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://assets.digitalocean.com/articles/jcasc_docker/step1a.png\" alt=\"The Jenkins dashboard\"\u003e\u003c/p\u003e\n\u003cp\u003eYou have just confirmed that the setup wizard has been disabled. To clean up, stop the container by pressing \u003ccode\u003eCTRL+C\u003c/code\u003e. If you’ve specified the \u003ccode\u003e--rm\u003c/code\u003e flag earlier, the stopped container would automatically be removed.\u003c/p\u003e\n\u003cp\u003eIn this step, you’ve created a custom Jenkins image that has the setup wizard disabled. However, the top right of the web interface now shows a red notification icon indicating there are issues with the setup. Click on the icon to see the details.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://assets.digitalocean.com/articles/jcasc_docker/step1b.png\" alt=\"The Jenkins dashboard showing issues\"\u003e\u003c/p\u003e\n\u003cp\u003eThe first warning informs you that you have not configured the Jenkins URL. The second tells you that you haven’t configured any authentication and authorization schemes, and that anonymous users have full permissions to perform all actions on your Jenkins instance. Previously, the setup wizard guided you through addressing these issues. Now that you’ve disabled it, you need to replicate the same functions using JCasC. The rest of this tutorial will involve modifying your \u003ccode\u003eDockerfile\u003c/code\u003e and JCasC configuration until no more issues remain (that is, until the red notification icon disappears).\u003c/p\u003e\n\u003cp\u003eIn the next step, you will begin that process by pre-installing a selection of Jenkins plugins, including the Configuration as Code plugin, into your custom Jenkins image.\u003c/p\u003e\n\u003ch2 id=\"step-2-installing-jenkins-plugins\"\u003eStep 2 — Installing Jenkins Plugins\u003c/h2\u003e\n\u003cp\u003eTo use JCasC, you need to install the Configuration as Code plugin. Currently, no plugins are installed. You can confirm this by navigating to \u003ccode\u003ehttp://\u003cmark\u003eserver_ip\u003c/mark\u003e:8080/pluginManager/installed\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://assets.digitalocean.com/articles/jcasc_docker/step2a.png\" alt=\"Jenkins dashboard showing no plugins are installed\"\u003e\u003c/p\u003e\n\u003cp\u003eIn this step, you’re going to modify your \u003ccode\u003eDockerfile\u003c/code\u003e to pre-install a selection of plugins, including the Configuration as Code plugin.\u003c/p\u003e\n\u003cp\u003eTo automate the plugin installation process, you can make use of an installation script that comes with the \u003ccode\u003ejenkins/jenkins\u003c/code\u003e Docker image. You can find it inside the container at \u003ccode\u003e/usr/local/bin/install-plugins.sh\u003c/code\u003e. To use it, you would need to:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eCreate a text file containing a list of plugins to install\u003c/li\u003e\n\u003cli\u003eCopy it into the Docker image\u003c/li\u003e\n\u003cli\u003eRun the \u003ccode\u003einstall-plugins.sh\u003c/code\u003e script to install the plugins\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eFirst, using your editor, create a new file named \u003ccode\u003eplugins.txt\u003c/code\u003e:\u003c/p\u003e\n\u003cpre class=\"prefixed command language-bash\"\u003e\u003ccode\u003e\u003col\u003e\u003cli data-prefix=\"$\"\u003e\u003cspan class=\"token function\"\u003enano\u003c/span\u003e \u003cspan class=\"token environment constant\"\u003e$HOME\u003c/span\u003e/playground/jcasc/plugins.txt\n\u003c/li\u003e\u003c/ol\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThen, add in the following newline-separated list of plugin names and versions (using the format \u003ccode\u003e\u0026lt;id\u0026gt;:\u0026lt;version\u0026gt;\u003c/code\u003e):\u003c/p\u003e\n\u003cdiv class=\"code-label\" title=\"~/playground/jcasc/plugins.txt\"\u003e~/playground/jcasc/plugins.txt\u003c/div\u003e\n\u003cpre class=\"\"\u003e\u003ccode\u003eant:latest\nantisamy-markup-formatter:latest\nbuild-timeout:latest\ncloudbees-folder:latest\nconfiguration-as-code:latest\ncredentials-binding:latest\nemail-ext:latest\ngit:latest\ngithub-branch-source:latest\ngradle:latest\nldap:latest\nmailer:latest\nmatrix-auth:latest\npam-auth:latest\npipeline-github-lib:latest\npipeline-stage-view:latest\nssh-slaves:latest\ntimestamper:latest\nworkflow-aggregator:latest\nws-cleanup:latest\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSave the file and exit your editor.\u003c/p\u003e\n\u003cp\u003eThe list contains the Configuration as Code plugin, as well as all the plugins suggested by the setup wizard (correct as of Jenkins v2.251). For example, you have the \u003ca href=\"https://plugins.jenkins.io/git/\"\u003eGit\u003c/a\u003e plugin, which allows Jenkins to work with Git repositories; you also have the \u003ca href=\"https://plugins.jenkins.io/workflow-aggregator/\"\u003ePipeline\u003c/a\u003e plugin, which is actually a suite of plugins that allows you to define Jenkins jobs as code.\u003c/p\u003e\n\u003cdiv class=\"note\"\u003e\n\u003cp\u003e\u003cstrong\u003eNote:\u003c/strong\u003e The most up-to-date list of suggested plugins can be inferred from the \u003ca href=\"https://github.com/jenkinsci/jenkins/blob/master/core/src/main/resources/jenkins/install/platform-plugins.json\"\u003esource code\u003c/a\u003e. You can also find a list of the most popular community-contributed plugins at \u003ca href=\"https://plugins.jenkins.io/\"\u003eplugins.jenkins.io\u003c/a\u003e. Feel free to include any other plugins you want into the list.\u003c/p\u003e\n\u003c/div\u003e\n\u003cp\u003eNext, open up the \u003ccode\u003eDockerfile\u003c/code\u003e file:\u003c/p\u003e\n\u003cpre class=\"prefixed command language-bash\"\u003e\u003ccode\u003e\u003col\u003e\u003cli data-prefix=\"$\"\u003e\u003cspan class=\"token function\"\u003enano\u003c/span\u003e \u003cspan class=\"token environment constant\"\u003e$HOME\u003c/span\u003e/playground/jcasc/Dockerfile\n\u003c/li\u003e\u003c/ol\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIn it, add a \u003ccode\u003eCOPY\u003c/code\u003e instruction to copy the \u003ccode\u003eplugins.txt\u003c/code\u003e file into the \u003ccode\u003e/usr/share/jenkins/ref/\u003c/code\u003e directory inside the image; this is where Jenkins normally looks for plugins. Then, include an additional \u003ccode\u003eRUN\u003c/code\u003e instruction to run the \u003ccode\u003einstall-plugins.sh\u003c/code\u003e script:\u003c/p\u003e\n\u003cdiv class=\"code-label\" title=\"~/playground/jcasc/Dockerfile\"\u003e~/playground/jcasc/Dockerfile\u003c/div\u003e\n\u003cpre class=\"language-docker\"\u003e\u003ccode\u003e\u003cspan class=\"token instruction\"\u003e\u003cspan class=\"token keyword\"\u003eFROM\u003c/span\u003e jenkins/jenkins\u003c/span\u003e\n\u003cspan class=\"token instruction\"\u003e\u003cspan class=\"token keyword\"\u003eENV\u003c/span\u003e JAVA_OPTS -Djenkins.install.runSetupWizard=false\u003c/span\u003e\n\u003cmark\u003e\u003cspan class=\"token instruction\"\u003e\u003cspan class=\"token keyword\"\u003eCOPY\u003c/span\u003e plugins.txt /usr/share/jenkins/ref/plugins.txt\u003c/span\u003e\u003c/mark\u003e\n\u003cmark\u003e\u003cspan class=\"token instruction\"\u003e\u003cspan class=\"token keyword\"\u003eRUN\u003c/span\u003e /usr/local/bin/install-plugins.sh \u0026lt; /usr/share/jenkins/ref/plugins.txt\u003c/span\u003e\u003c/mark\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSave the file and exit the editor. Then, build a new image using the revised \u003ccode\u003eDockerfile\u003c/code\u003e:\u003c/p\u003e\n\u003cpre class=\"prefixed command language-bash\"\u003e\u003ccode\u003e\u003col\u003e\u003cli data-prefix=\"$\"\u003e\u003cspan class=\"token function\"\u003edocker\u003c/span\u003e build -t jenkins:jcasc \u003cspan class=\"token builtin class-name\"\u003e.\u003c/span\u003e\n\u003c/li\u003e\u003c/ol\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis step involves downloading and installing many plugins into the image, and may take some time to run depending on your internet connection. Once the plugins have finished installing, run the new Jenkins image:\u003c/p\u003e\n\u003cpre class=\"prefixed command language-bash\"\u003e\u003ccode\u003e\u003col\u003e\u003cli data-prefix=\"$\"\u003e\u003cspan class=\"token function\"\u003edocker\u003c/span\u003e run --name jenkins --rm -p \u003cspan class=\"token number\"\u003e8080\u003c/span\u003e:8080 jenkins:jcasc\n\u003c/li\u003e\u003c/ol\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAfter the \u003ccode\u003eJenkins is fully up and running\u003c/code\u003e message appears on \u003ccode\u003estdout\u003c/code\u003e, navigate to \u003ccode\u003e\u003cmark\u003eserver_ip\u003c/mark\u003e:8080/pluginManager/installed\u003c/code\u003e to see a list of installed plugins. You will see a solid checkbox next to all the plugins you’ve specified inside \u003ccode\u003eplugins.txt\u003c/code\u003e, as well as a faded checkbox next to plugins, which are dependencies of those plugins.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://assets.digitalocean.com/articles/jcasc_docker/step2b.png\" alt=\"A list of installed plugins\"\u003e\u003c/p\u003e\n\u003cp\u003eOnce you’ve confirmed that the \u003cstrong\u003eConfiguration As Code\u003c/strong\u003e plugin is installed, terminate the container process by pressing \u003ccode\u003eCTRL+C\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eIn this step, you’ve installed all the suggested Jenkins plugins and the Configuration as Code plugin. You’re now ready to use JCasC to tackle the issues listed in the notification box. In the next step, you will fix the first issue, which warns you that the \u003cstrong\u003eJenkins root URL is empty\u003c/strong\u003e.\u003c/p\u003e\n\u003ch2 id=\"step-3-specifying-the-jenkins-url\"\u003eStep 3 — Specifying the Jenkins URL\u003c/h2\u003e\n\u003cp\u003eThe Jenkins URL is a URL for the Jenkins instance that is routable from the devices that need to access it. For example, if you’re deploying Jenkins as a node inside a private network, the Jenkins URL may be a private IP address, or a DNS name that is resolvable using a private DNS server. For this tutorial, it is sufficient to use the server’s IP address (or \u003ccode\u003e127.0.0.1\u003c/code\u003e for local hosts) to form the Jenkins URL.\u003c/p\u003e\n\u003cp\u003eYou can set the Jenkins URL on the web interface by navigating to \u003ccode\u003e\u003cmark\u003eserver_ip\u003c/mark\u003e:8080/configure\u003c/code\u003e and entering the value in the \u003cstrong\u003eJenkins URL\u003c/strong\u003e field under the \u003cstrong\u003eJenkins Location\u003c/strong\u003e heading. Here’s how to achieve the same using the Configuration as Code plugin:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eDefine the desired configuration of your Jenkins instance inside a declarative configuration file (which we’ll call \u003ccode\u003ecasc.yaml\u003c/code\u003e).\u003c/li\u003e\n\u003cli\u003eCopy the configuration file into the Docker image (just as you did for your \u003ccode\u003eplugins.txt\u003c/code\u003e file).\u003c/li\u003e\n\u003cli\u003eSet the \u003ccode\u003eCASC_JENKINS_CONFIG\u003c/code\u003e environment variable to the path of the configuration file to instruct the Configuration as Code plugin to read it.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eFirst, create a new file named \u003ccode\u003ecasc.yaml\u003c/code\u003e:\u003c/p\u003e\n\u003cpre class=\"prefixed command language-bash\"\u003e\u003ccode\u003e\u003col\u003e\u003cli data-prefix=\"$\"\u003e\u003cspan class=\"token function\"\u003enano\u003c/span\u003e \u003cspan class=\"token environment constant\"\u003e$HOME\u003c/span\u003e/playground/jcasc/casc.yaml\n\u003c/li\u003e\u003c/ol\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThen, add in the following lines:\u003c/p\u003e\n\u003cdiv class=\"code-label\" title=\"~/playground/jcasc/casc.yaml\"\u003e~/playground/jcasc/casc.yaml\u003c/div\u003e\n\u003cpre class=\"language-yaml\"\u003e\u003ccode\u003e\u003cspan class=\"token key atrule\"\u003eunclassified\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"token key atrule\"\u003elocation\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"token key atrule\"\u003eurl\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e http\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e//\u003cmark\u003eserver_ip\u003c/mark\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e8080/\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003eunclassified.location.url\u003c/code\u003e is the path for setting the Jenkins URL. It is just one of a myriad of properties that can be set with JCasC. Valid properties are determined by the plugins that are installed. For example, the \u003ccode\u003ejenkins.authorizationStrategy.globalMatrix.permissions\u003c/code\u003e property would only be valid if the \u003ca href=\"https://plugins.jenkins.io/matrix-auth\"\u003eMatrix Authorization Strategy\u003c/a\u003e plugin is installed. To see what properties are available, navigate to \u003ccode\u003e\u003cmark\u003eserver_ip\u003c/mark\u003e:8080/configuration-as-code/reference\u003c/code\u003e, and you’ll find a page of documentation that is customized to your particular Jenkins installation.\u003c/p\u003e\n\u003cp\u003eSave the \u003ccode\u003ecasc.yaml\u003c/code\u003e file, exit your editor, and open the \u003ccode\u003eDockerfile\u003c/code\u003e file:\u003c/p\u003e\n\u003cpre class=\"prefixed command language-bash\"\u003e\u003ccode\u003e\u003col\u003e\u003cli data-prefix=\"$\"\u003e\u003cspan class=\"token function\"\u003enano\u003c/span\u003e \u003cspan class=\"token environment constant\"\u003e$HOME\u003c/span\u003e/playground/jcasc/Dockerfile\n\u003c/li\u003e\u003c/ol\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAdd a \u003ccode\u003eCOPY\u003c/code\u003e instruction to the end of your \u003ccode\u003eDockerfile\u003c/code\u003e that copies the \u003ccode\u003ecasc.yaml\u003c/code\u003e file into the image at \u003ccode\u003e/var/jenkins_home/casc.yaml\u003c/code\u003e. You’ve chosen \u003ccode\u003e/var/jenkins_home/\u003c/code\u003e because that’s the default directory where Jenkins stores all of its data:\u003c/p\u003e\n\u003cdiv class=\"code-label\" title=\"~/playground/jcasc/Dockerfile\"\u003e~/playground/jcasc/Dockerfile\u003c/div\u003e\n\u003cpre class=\"language-docker\"\u003e\u003ccode\u003e\u003cspan class=\"token instruction\"\u003e\u003cspan class=\"token keyword\"\u003eFROM\u003c/span\u003e jenkins/jenkins:latest\u003c/span\u003e\n\u003cspan class=\"token instruction\"\u003e\u003cspan class=\"token keyword\"\u003eENV\u003c/span\u003e JAVA_OPTS -Djenkins.install.runSetupWizard=false\u003c/span\u003e\n\u003cspan class=\"token instruction\"\u003e\u003cspan class=\"token keyword\"\u003eCOPY\u003c/span\u003e plugins.txt /usr/share/jenkins/ref/plugins.txt\u003c/span\u003e\n\u003cspan class=\"token instruction\"\u003e\u003cspan class=\"token keyword\"\u003eRUN\u003c/span\u003e /usr/local/bin/install-plugins.sh \u0026lt; /usr/share/jenkins/ref/plugins.txt\u003c/span\u003e\n\u003cmark\u003e\u003cspan class=\"token instruction\"\u003e\u003cspan class=\"token keyword\"\u003eCOPY\u003c/span\u003e casc.yaml /var/jenkins_home/casc.yaml\u003c/span\u003e\u003c/mark\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThen, add a further \u003ccode\u003eENV\u003c/code\u003e instruction that sets the \u003ccode\u003eCASC_JENKINS_CONFIG\u003c/code\u003e environment variable:\u003c/p\u003e\n\u003cdiv class=\"code-label\" title=\"~/playground/jcasc/Dockerfile\"\u003e~/playground/jcasc/Dockerfile\u003c/div\u003e\n\u003cpre class=\"language-docker\"\u003e\u003ccode\u003e\u003cspan class=\"token instruction\"\u003e\u003cspan class=\"token keyword\"\u003eFROM\u003c/span\u003e jenkins/jenkins:latest\u003c/span\u003e\n\u003cspan class=\"token instruction\"\u003e\u003cspan class=\"token keyword\"\u003eENV\u003c/span\u003e JAVA_OPTS -Djenkins.install.runSetupWizard=false\u003c/span\u003e\n\u003cmark\u003e\u003cspan class=\"token instruction\"\u003e\u003cspan class=\"token keyword\"\u003eENV\u003c/span\u003e CASC_JENKINS_CONFIG /var/jenkins_home/casc.yaml\u003c/span\u003e\u003c/mark\u003e\n\u003cspan class=\"token instruction\"\u003e\u003cspan class=\"token keyword\"\u003eCOPY\u003c/span\u003e plugins.txt /usr/share/jenkins/ref/plugins.txt\u003c/span\u003e\n\u003cspan class=\"token instruction\"\u003e\u003cspan class=\"token keyword\"\u003eRUN\u003c/span\u003e /usr/local/bin/install-plugins.sh \u0026lt; /usr/share/jenkins/ref/plugins.txt\u003c/span\u003e\n\u003cspan class=\"token instruction\"\u003e\u003cspan class=\"token keyword\"\u003eCOPY\u003c/span\u003e casc.yaml /var/jenkins_home/casc.yaml\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"note\"\u003e\n\u003cp\u003e\u003cstrong\u003eNote:\u003c/strong\u003e You’ve put the \u003ccode\u003eENV\u003c/code\u003e instruction near the top because it’s something that you are unlikely to change. By placing it before the \u003ccode\u003eCOPY\u003c/code\u003e and \u003ccode\u003eRUN\u003c/code\u003e instructions, you can avoid invalidating the cached layer if you were to update the \u003ccode\u003ecasc.yaml\u003c/code\u003e or \u003ccode\u003eplugins.txt\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cp\u003eSave the file and exit the editor. Next, build the image:\u003c/p\u003e\n\u003cpre class=\"prefixed command language-bash\"\u003e\u003ccode\u003e\u003col\u003e\u003cli data-prefix=\"$\"\u003e\u003cspan class=\"token function\"\u003edocker\u003c/span\u003e build -t jenkins:jcasc \u003cspan class=\"token builtin class-name\"\u003e.\u003c/span\u003e\n\u003c/li\u003e\u003c/ol\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAnd run the updated Jenkins image:\u003c/p\u003e\n\u003cpre class=\"prefixed command language-bash\"\u003e\u003ccode\u003e\u003col\u003e\u003cli data-prefix=\"$\"\u003e\u003cspan class=\"token function\"\u003edocker\u003c/span\u003e run --name jenkins --rm -p \u003cspan class=\"token number\"\u003e8080\u003c/span\u003e:8080 jenkins:jcasc\n\u003c/li\u003e\u003c/ol\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAs soon as the \u003ccode\u003eJenkins is fully up and running\u003c/code\u003e log line appears, navigate to \u003ccode\u003e\u003cmark\u003eserver_ip\u003c/mark\u003e:8080\u003c/code\u003e to view the dashboard. This time, you may have noticed that the notification count is reduced by one, and the warning about the Jenkins URL has disappeared.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://assets.digitalocean.com/articles/jcasc_docker/step3a.png\" alt=\"Jenkins Dashboard showing the notification counter has a count of 1\"\u003e\u003c/p\u003e\n\u003cp\u003eNow, navigate to \u003ccode\u003e\u003cmark\u003eserver_ip\u003c/mark\u003e:8080/configure\u003c/code\u003e and scroll down to the \u003cstrong\u003eJenkins URL\u003c/strong\u003e field. Confirm that the Jenkins URL has been set to the same value specified in the \u003ccode\u003ecasc.yaml\u003c/code\u003e file.\u003c/p\u003e\n\u003cp\u003eLastly, stop the container process by pressing \u003ccode\u003eCTRL+C\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eIn this step, you used the Configuration as Code plugin to set the Jenkins URL. In the next step, you will tackle the second issue from the notifications list (the \u003cstrong\u003eJenkins is currently unsecured\u003c/strong\u003e message).\u003c/p\u003e\n\u003ch2 id=\"step-4-creating-a-user\"\u003eStep 4 — Creating a User\u003c/h2\u003e\n\u003cp\u003eSo far, your setup has not implemented any authentication and authorization mechanisms. In this step, you will set up a basic, password-based authentication scheme and create a new user named \u003ccode\u003eadmin\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eStart by opening your \u003ccode\u003ecasc.yaml\u003c/code\u003e file:\u003c/p\u003e\n\u003cpre class=\"prefixed command language-bash\"\u003e\u003ccode\u003e\u003col\u003e\u003cli data-prefix=\"$\"\u003e\u003cspan class=\"token function\"\u003enano\u003c/span\u003e \u003cspan class=\"token environment constant\"\u003e$HOME\u003c/span\u003e/playground/jcasc/casc.yaml\n\u003c/li\u003e\u003c/ol\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThen, add in the highlighted snippet:\u003c/p\u003e\n\u003cdiv class=\"code-label\" title=\"~/playground/jcasc/casc.yaml\"\u003e~/playground/jcasc/casc.yaml\u003c/div\u003e\n\u003cpre class=\"language-yaml\"\u003e\u003ccode\u003e\u003cmark\u003e\u003cspan class=\"token key atrule\"\u003ejenkins\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\u003c/mark\u003e\n  \u003cmark\u003e\u003cspan class=\"token key atrule\"\u003esecurityRealm\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\u003c/mark\u003e\n    \u003cmark\u003e\u003cspan class=\"token key atrule\"\u003elocal\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\u003c/mark\u003e\n      \u003cmark\u003e\u003cspan class=\"token key atrule\"\u003eallowsSignup\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token boolean important\"\u003efalse\u003c/span\u003e\u003c/mark\u003e\n      \u003cmark\u003e\u003cspan class=\"token key atrule\"\u003eusers\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\u003c/mark\u003e\n       \u003cmark\u003e\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token key atrule\"\u003eid\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e $\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003eJENKINS_ADMIN_ID\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/mark\u003e\n         \u003cmark\u003e\u003cspan class=\"token key atrule\"\u003epassword\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e $\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003eJENKINS_ADMIN_PASSWORD\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/mark\u003e\n\u003cspan class=\"token key atrule\"\u003eunclassified\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e...\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIn the context of Jenkins, a \u003cem\u003esecurity realm\u003c/em\u003e is simply an authentication mechanism; the local security realm means to use basic authentication where users must specify their ID/username and password. Other security realms exist and are provided by plugins. For instance, the \u003ca href=\"https://plugins.jenkins.io/ldap\"\u003eLDAP\u003c/a\u003e plugin allows you to use an existing LDAP directory service as the authentication mechanism. The \u003ca href=\"https://plugins.jenkins.io/github-oauth\"\u003eGitHub Authentication\u003c/a\u003e plugin allows you to use your GitHub credentials to authenticate via OAuth.\u003c/p\u003e\n\u003cp\u003eNote that you’ve also specified \u003ccode\u003eallowsSignup: false\u003c/code\u003e, which prevents anonymous users from creating an account through the web interface.\u003c/p\u003e\n\u003cp\u003eFinally, instead of hard-coding the user ID and password, you are using variables whose values can be filled in at runtime. This is important because one of the benefits of using JCasC is that the \u003ccode\u003ecasc.yaml\u003c/code\u003e file can be committed into source control; if you were to store user passwords in plaintext inside the configuration file, you would have effectively compromised the credentials. Instead, variables are defined using the \u003ccode\u003e${VARIABLE_NAME}\u003c/code\u003e syntax, and its value can be filled in using an environment variable of the same name, or a file of the same name that’s placed inside the \u003ccode\u003e/run/secrets/\u003c/code\u003e directory within the container image.\u003c/p\u003e\n\u003cp\u003eNext, build a new image to incorporate the changes made to the \u003ccode\u003ecasc.yaml\u003c/code\u003e file:\u003c/p\u003e\n\u003cpre class=\"prefixed command language-bash\"\u003e\u003ccode\u003e\u003col\u003e\u003cli data-prefix=\"$\"\u003e\u003cspan class=\"token function\"\u003edocker\u003c/span\u003e build -t jenkins:jcasc \u003cspan class=\"token builtin class-name\"\u003e.\u003c/span\u003e\n\u003c/li\u003e\u003c/ol\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThen, run the updated Jenkins image whilst passing in the \u003ccode\u003eJENKINS_ADMIN_ID\u003c/code\u003e and \u003ccode\u003eJENKINS_ADMIN_PASSWORD\u003c/code\u003e environment variables via the \u003ca href=\"https://docs.docker.com/engine/reference/commandline/run/#set-environment-variables--e---env---env-file\"\u003e\u003ccode\u003e--env\u003c/code\u003e\u003c/a\u003e option (replace \u003ccode\u003e\u003cmark\u003e\u0026lt;password\u0026gt;\u003c/mark\u003e\u003c/code\u003e with a password of your choice):\u003c/p\u003e\n\u003cpre class=\"prefixed command language-bash\"\u003e\u003ccode\u003e\u003col\u003e\u003cli data-prefix=\"$\"\u003e\u003cspan class=\"token function\"\u003edocker\u003c/span\u003e run --name jenkins --rm -p \u003cspan class=\"token number\"\u003e8080\u003c/span\u003e:8080 --env \u003cspan class=\"token assign-left variable\"\u003eJENKINS_ADMIN_ID\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003eadmin --env \u003cspan class=\"token assign-left variable\"\u003eJENKINS_ADMIN_PASSWORD\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cmark\u003epassword\u003c/mark\u003e jenkins:jcasc\n\u003c/li\u003e\u003c/ol\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eYou can now go to \u003ccode\u003e\u003cmark\u003eserver_ip\u003c/mark\u003e:8080/login\u003c/code\u003e and log in using the specified credentials.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://assets.digitalocean.com/articles/jcasc_docker/step4a.png\" alt=\"Jenkins Login Screen with the user ID and password fields populated\"\u003e\u003c/p\u003e\n\u003cp\u003eOnce you’ve logged in successfully, you will be redirected to the dashboard.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://assets.digitalocean.com/articles/jcasc_docker/step4b.png\" alt=\"Jenkins Dashboard for authenticated user, showing the user ID and a 'log out' link near the top right corner of the page\"\u003e\u003c/p\u003e\n\u003cp\u003eFinish this step by pressing \u003ccode\u003eCTRL+C\u003c/code\u003e to stop the container.\u003c/p\u003e\n\u003cp\u003eIn this step, you used JCasC to create a new user named \u003ccode\u003eadmin\u003c/code\u003e. You’ve also learned how to keep sensitive data, like passwords, out of files tracked by VCSs. However, so far you’ve only configured user authentication; you haven’t implemented any authorization mechanisms. In the next step, you will use JCasC to grant your \u003ccode\u003eadmin\u003c/code\u003e user with administrative privileges.\u003c/p\u003e\n\u003ch2 id=\"step-5-setting-up-authorization\"\u003eStep 5 — Setting Up Authorization\u003c/h2\u003e\n\u003cp\u003eAfter setting up the security realm, you must now configure the \u003cem\u003eauthorization strategy\u003c/em\u003e. In this step, you will use the \u003ca href=\"https://plugins.jenkins.io/matrix-auth\"\u003eMatrix Authorization Strategy\u003c/a\u003e plugin to configure permissions for your \u003ccode\u003eadmin\u003c/code\u003e user.\u003c/p\u003e\n\u003cp\u003eBy default, the Jenkins core installation provides us with three authorization strategies:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eunsecured\u003c/code\u003e: every user, including anonymous users, have full permissions to do everything\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003elegacy\u003c/code\u003e: emulates legacy Jenkins (prior to v1.164), where any users with the role \u003ccode\u003eadmin\u003c/code\u003e is given full permissions, whilst other users, including anonymous users, are given read access.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"note\"\u003e\n\u003cp\u003e\u003cstrong\u003eNote:\u003c/strong\u003e A \u003cem\u003erole\u003c/em\u003e in Jenkins can be a user (for example, \u003ccode\u003edaniel\u003c/code\u003e) or a group (for example, \u003ccode\u003edevelopers\u003c/code\u003e)\u003c/p\u003e\n\u003c/div\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eloggedInUsersCanDoAnything\u003c/code\u003e: anonymous users are given either no access or read-only access. Authenticated users have full permissions to do everything. By allowing actions only for authenticated users, you are able to have an audit trail of which users performed which actions.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"note\"\u003e\n\u003cp\u003e\u003cstrong\u003eNote:\u003c/strong\u003e You can explore other authorization strategies and their related plugins in the \u003ca href=\"https://jenkins.io/doc/developer/extensions/jenkins-core/#authorizationstrategy\"\u003edocumentation\u003c/a\u003e; these include plugins that handle both authentication and authorization.\u003c/p\u003e\n\u003c/div\u003e\n\u003cp\u003eAll of these authorization strategies are very crude, and does not afford granular control over how permissions are set for different users. Instead, you can use the Matrix Authorization Strategy plugin that was already included in your \u003ccode\u003eplugins.txt\u003c/code\u003e list. This plugin affords you a more granular authorization strategy, and allows you to set user permissions globally, as well as per project/job.\u003c/p\u003e\n\u003cp\u003eThe Matrix Authorization Strategy plugin allows you to use the \u003ccode\u003ejenkins.authorizationStrategy.globalMatrix.permissions\u003c/code\u003e JCasC property to set global permissions. To use it, open your \u003ccode\u003ecasc.yaml\u003c/code\u003e file:\u003c/p\u003e\n\u003cpre class=\"prefixed command language-bash\"\u003e\u003ccode\u003e\u003col\u003e\u003cli data-prefix=\"$\"\u003e\u003cspan class=\"token function\"\u003enano\u003c/span\u003e \u003cspan class=\"token environment constant\"\u003e$HOME\u003c/span\u003e/playground/jcasc/casc.yaml\n\u003c/li\u003e\u003c/ol\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAnd add in the highlighted snippet:\u003c/p\u003e\n\u003cdiv class=\"code-label\" title=\"~/playground/jcasc/casc.yaml\"\u003e~/playground/jcasc/casc.yaml\u003c/div\u003e\n\u003cpre class=\"language-yaml\"\u003e\u003ccode\u003e\u003cspan class=\"token punctuation\"\u003e...\u003c/span\u003e\n       \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token key atrule\"\u003eid\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e $\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003eJENKINS_ADMIN_ID\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n         \u003cspan class=\"token key atrule\"\u003epassword\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e $\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003eJENKINS_ADMIN_PASSWORD\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \u003cmark\u003e\u003cspan class=\"token key atrule\"\u003eauthorizationStrategy\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\u003c/mark\u003e\n    \u003cmark\u003e\u003cspan class=\"token key atrule\"\u003eglobalMatrix\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\u003c/mark\u003e\n      \u003cmark\u003e\u003cspan class=\"token key atrule\"\u003epermissions\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\u003c/mark\u003e\n        \u003cmark\u003e\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"Overall/Administer:admin\"\u003c/span\u003e\u003c/mark\u003e\n        \u003cmark\u003e\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"Overall/Read:authenticated\"\u003c/span\u003e\u003c/mark\u003e\n\u003cspan class=\"token key atrule\"\u003eunclassified\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e...\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe \u003ccode\u003eglobalMatrix\u003c/code\u003e property sets global permissions (as opposed to per-project permissions). The \u003ccode\u003epermissions\u003c/code\u003e property is a list of strings with the format \u003ccode\u003e\u0026lt;permission-group\u0026gt;/\u0026lt;permission-name\u0026gt;:\u0026lt;role\u0026gt;\u003c/code\u003e. Here, you are granting the \u003ccode\u003eOverall/Administer\u003c/code\u003e permissions to the \u003ccode\u003eadmin\u003c/code\u003e user. You’re also granting \u003ccode\u003eOverall/Read\u003c/code\u003e permissions to \u003ccode\u003eauthenticated\u003c/code\u003e, which is a special role that represents all authenticated users. There’s another special role called \u003ccode\u003eanonymous\u003c/code\u003e, which groups all non-authenticated users together. But since permissions are denied by default, if you don’t want to give anonymous users any permissions, you don’t need to explicitly include an entry for it.\u003c/p\u003e\n\u003cp\u003eSave the \u003ccode\u003ecasc.yaml\u003c/code\u003e file, exit your editor, and build a new image:\u003c/p\u003e\n\u003cpre class=\"prefixed command language-bash\"\u003e\u003ccode\u003e\u003col\u003e\u003cli data-prefix=\"$\"\u003e\u003cspan class=\"token function\"\u003edocker\u003c/span\u003e build -t jenkins:jcasc \u003cspan class=\"token builtin class-name\"\u003e.\u003c/span\u003e\n\u003c/li\u003e\u003c/ol\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThen, run the updated Jenkins image:\u003c/p\u003e\n\u003cpre class=\"prefixed command language-bash\"\u003e\u003ccode\u003e\u003col\u003e\u003cli data-prefix=\"$\"\u003e\u003cspan class=\"token function\"\u003edocker\u003c/span\u003e run --name jenkins --rm -p \u003cspan class=\"token number\"\u003e8080\u003c/span\u003e:8080 --env \u003cspan class=\"token assign-left variable\"\u003eJENKINS_ADMIN_ID\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003eadmin --env \u003cspan class=\"token assign-left variable\"\u003eJENKINS_ADMIN_PASSWORD\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cmark\u003epassword\u003c/mark\u003e jenkins:jcasc\n\u003c/li\u003e\u003c/ol\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWait for the \u003ccode\u003eJenkins is fully up and running\u003c/code\u003e log line, and then navigate to \u003ccode\u003e\u003cmark\u003eserver_ip\u003c/mark\u003e:8080\u003c/code\u003e. You will be redirected to the login page. Fill in your credentials and you will be redirected to the main dashboard.\u003c/p\u003e\n\u003cp\u003eIn this step, you have set up global permissions for your \u003ccode\u003eadmin\u003c/code\u003e user. However, resolving the authorization issue uncovered additional issues that are now shown in the notification menu.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://assets.digitalocean.com/articles/jcasc_docker/step5a.png\" alt=\"Jenkins Dashboard showing the notifications menu with two issues\"\u003e\u003c/p\u003e\n\u003cp\u003eTherefore, in the next step, you will continue to modify your Docker image, to resolve each issue one by one until none remains.\u003c/p\u003e\n\u003cp\u003eBefore you continue, stop the container by pressing \u003ccode\u003eCTRL+C\u003c/code\u003e.\u003c/p\u003e\n\u003ch2 id=\"step-6-setting-up-build-authorization\"\u003eStep 6 — Setting Up Build Authorization\u003c/h2\u003e\n\u003cp\u003eThe first issue in the notifications list relates to build authentication. By default, all jobs are run as the system user, which has a lot of system privileges. Therefore, a Jenkins user can perform \u003cem\u003eprivilege escalation\u003c/em\u003e simply by defining and running a malicious job or pipeline; this is insecure.\u003c/p\u003e\n\u003cp\u003eInstead, jobs should be ran using the same Jenkins user that configured or triggered it. To achieve this, you need to install an additional plugin called the \u003ca href=\"https://plugins.jenkins.io/authorize-project\"\u003eAuthorize Project\u003c/a\u003e plugin.\u003c/p\u003e\n\u003cp\u003eOpen \u003ccode\u003eplugins.txt\u003c/code\u003e:\u003c/p\u003e\n\u003cpre class=\"prefixed command language-bash\"\u003e\u003ccode\u003e\u003col\u003e\u003cli data-prefix=\"$\"\u003e\u003cspan class=\"token function\"\u003enano\u003c/span\u003e \u003cspan class=\"token environment constant\"\u003e$HOME\u003c/span\u003e/playground/jcasc/plugins.txt\n\u003c/li\u003e\u003c/ol\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAnd add the highlighted line:\u003c/p\u003e\n\u003cdiv class=\"code-label\" title=\"~/playground/jcasc/plugins.txt\"\u003e~/playground/jcasc/plugins.txt\u003c/div\u003e\n\u003cpre class=\"\"\u003e\u003ccode\u003eant:latest\nantisamy-markup-formatter:latest\n\u003cmark\u003eauthorize-project:latest\u003c/mark\u003e\nbuild-timeout:latest\n...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe plugin provides a new build authorization strategy, which you would need to specify in your JCasC configuration. Exit out of the \u003ccode\u003eplugins.txt\u003c/code\u003e file and open the \u003ccode\u003ecasc.yaml\u003c/code\u003e file:\u003c/p\u003e\n\u003cpre class=\"prefixed command language-bash\"\u003e\u003ccode\u003e\u003col\u003e\u003cli data-prefix=\"$\"\u003e\u003cspan class=\"token function\"\u003enano\u003c/span\u003e \u003cspan class=\"token environment constant\"\u003e$HOME\u003c/span\u003e/playground/jcasc/casc.yaml\n\u003c/li\u003e\u003c/ol\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAdd the highlighted block to your \u003ccode\u003ecasc.yaml\u003c/code\u003e file:\u003c/p\u003e\n\u003cdiv class=\"code-label\" title=\"~/playground/jcasc/casc.yaml\"\u003e~/playground/jcasc/casc.yaml\u003c/div\u003e\n\u003cpre class=\"language-yaml\"\u003e\u003ccode\u003e\u003cspan class=\"token punctuation\"\u003e...\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"Overall/Administer:admin\"\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"Overall/Read:authenticated\"\u003c/span\u003e\n\u003cmark\u003e\u003cspan class=\"token key atrule\"\u003esecurity\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\u003c/mark\u003e\n  \u003cmark\u003e\u003cspan class=\"token key atrule\"\u003equeueItemAuthenticator\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\u003c/mark\u003e\n    \u003cmark\u003e\u003cspan class=\"token key atrule\"\u003eauthenticators\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\u003c/mark\u003e\n    \u003cmark\u003e\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token key atrule\"\u003eglobal\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\u003c/mark\u003e\n        \u003cmark\u003e\u003cspan class=\"token key atrule\"\u003estrategy\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e triggeringUsersAuthorizationStrategy\u003c/mark\u003e\n\u003cspan class=\"token key atrule\"\u003eunclassified\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e...\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSave the file and exit the editor. Then, build a new image using the modified \u003ccode\u003eplugins.txt\u003c/code\u003e and \u003ccode\u003ecasc.yaml\u003c/code\u003e files:\u003c/p\u003e\n\u003cpre class=\"prefixed command language-bash\"\u003e\u003ccode\u003e\u003col\u003e\u003cli data-prefix=\"$\"\u003e\u003cspan class=\"token function\"\u003edocker\u003c/span\u003e build -t jenkins:jcasc \u003cspan class=\"token builtin class-name\"\u003e.\u003c/span\u003e\n\u003c/li\u003e\u003c/ol\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThen, run the updated Jenkins image:\u003c/p\u003e\n\u003cpre class=\"prefixed command language-bash\"\u003e\u003ccode\u003e\u003col\u003e\u003cli data-prefix=\"$\"\u003e\u003cspan class=\"token function\"\u003edocker\u003c/span\u003e run --name jenkins --rm -p \u003cspan class=\"token number\"\u003e8080\u003c/span\u003e:8080 --env \u003cspan class=\"token assign-left variable\"\u003eJENKINS_ADMIN_ID\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003eadmin --env \u003cspan class=\"token assign-left variable\"\u003eJENKINS_ADMIN_PASSWORD\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cmark\u003epassword\u003c/mark\u003e jenkins:jcasc\n\u003c/li\u003e\u003c/ol\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWait for the \u003ccode\u003eJenkins is fully up and running\u003c/code\u003e log line, then navigate to \u003ccode\u003e\u003cmark\u003eserver_ip\u003c/mark\u003e:8080/login\u003c/code\u003e, fill in your credentials, and arrive at the main dashboard. Open the notification menu, and you will see the issue related to build authentication no longer appears.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://assets.digitalocean.com/articles/jcasc_docker/step6a.png\" alt=\"Jenkins dashboard's notification menu showing a single issue related to agent to master security subsystem being turned off\"\u003e\u003c/p\u003e\n\u003cp\u003eStop the container by running \u003ccode\u003eCTRL+C\u003c/code\u003e before continuing.\u003c/p\u003e\n\u003cp\u003eIn this step, you have configured Jenkins to run builds using the user that triggered the build, instead of the system user. This eliminates one of the issues in the notifications list. In the next step, you will tackle the next issue related to the Agent to Controller Security Subsystem.\u003c/p\u003e\n\u003ch2 id=\"step-7-enabling-agent-to-controller-access-control\"\u003eStep 7 — Enabling Agent to Controller Access Control\u003c/h2\u003e\n\u003cp\u003eIn this tutorial, you have deployed only a single instance of Jenkins, which runs all builds. However, Jenkins supports distributed builds using an agent/controller configuration. The controller is responsible for providing the web UI, exposing an API for clients to send requests to, and co-ordinating builds. The agents are the instances that execute the jobs.\u003c/p\u003e\n\u003cp\u003eThe benefit of this configuration is that it is more scalable and fault-tolerant. If one of the servers running Jenkins goes down, other instances can take up the extra load.\u003c/p\u003e\n\u003cp\u003eHowever, there may be instances where the agents cannot be trusted by the controller. For example, the OPS team may manage the Jenkins controller, whilst an external contractor manages their own custom-configured Jenkins agent. Without the Agent to Controller Security Subsystem, the agent is able to instruct the controller to execute any actions it requests, which may be undesirable. By enabling Agent to Controller Access Control, you can control which commands and files the agents have access to.\u003c/p\u003e\n\u003cp\u003eTo enable Agent to Controller Access Control, open the \u003ccode\u003ecasc.yaml\u003c/code\u003e file:\u003c/p\u003e\n\u003cpre class=\"prefixed command language-bash\"\u003e\u003ccode\u003e\u003col\u003e\u003cli data-prefix=\"$\"\u003e\u003cspan class=\"token function\"\u003enano\u003c/span\u003e \u003cspan class=\"token environment constant\"\u003e$HOME\u003c/span\u003e/playground/jcasc/casc.yaml\n\u003c/li\u003e\u003c/ol\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThen, add the following highlighted lines:\u003c/p\u003e\n\u003cdiv class=\"code-label\" title=\"~/playground/jcasc/casc.yaml\"\u003e~/playground/jcasc/casc.yaml\u003c/div\u003e\n\u003cpre class=\"language-yaml\"\u003e\u003ccode\u003e\u003cspan class=\"token punctuation\"\u003e...\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"Overall/Administer:admin\"\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"Overall/Read:authenticated\"\u003c/span\u003e\n  \u003cmark\u003e\u003cspan class=\"token key atrule\"\u003eremotingSecurity\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\u003c/mark\u003e\n    \u003cmark\u003e\u003cspan class=\"token key atrule\"\u003eenabled\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token boolean important\"\u003etrue\u003c/span\u003e\u003c/mark\u003e\n\u003cspan class=\"token key atrule\"\u003esecurity\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"token key atrule\"\u003equeueItemAuthenticator\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e...\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSave the file and build a new image:\u003c/p\u003e\n\u003cpre class=\"prefixed command language-bash\"\u003e\u003ccode\u003e\u003col\u003e\u003cli data-prefix=\"$\"\u003e\u003cspan class=\"token function\"\u003edocker\u003c/span\u003e build -t jenkins:jcasc \u003cspan class=\"token builtin class-name\"\u003e.\u003c/span\u003e\n\u003c/li\u003e\u003c/ol\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eRun the updated Jenkins image:\u003c/p\u003e\n\u003cpre class=\"prefixed command language-bash\"\u003e\u003ccode\u003e\u003col\u003e\u003cli data-prefix=\"$\"\u003e\u003cspan class=\"token function\"\u003edocker\u003c/span\u003e run --name jenkins --rm -p \u003cspan class=\"token number\"\u003e8080\u003c/span\u003e:8080 --env \u003cspan class=\"token assign-left variable\"\u003eJENKINS_ADMIN_ID\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003eadmin --env \u003cspan class=\"token assign-left variable\"\u003eJENKINS_ADMIN_PASSWORD\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cmark\u003epassword\u003c/mark\u003e jenkins:jcasc\n\u003c/li\u003e\u003c/ol\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNavigate to \u003ccode\u003e\u003cmark\u003eserver_ip\u003c/mark\u003e:8080/login\u003c/code\u003e and authenticate as before. When you land on the main dashboard, the notifications menu will not show any more issues.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://assets.digitalocean.com/articles/jcasc_docker/step7a.png\" alt=\"Jenkins dashboard showing no issues\"\u003e\u003c/p\u003e\n\u003ch2 id=\"conclusion\"\u003eConclusion\u003c/h2\u003e\n\u003cp\u003eYou’ve now successfully configured a simple Jenkins server using JCasC. Just as the \u003ca href=\"https://plugins.jenkins.io/workflow-aggregator/\"\u003ePipeline plugin\u003c/a\u003e enables developers to define their jobs inside a \u003ccode\u003eJenkinsfile\u003c/code\u003e, the Configuration as Code plugin enables administrators to define the Jenkins configuration inside a YAML file. Both of these plugins bring Jenkins closer aligned with the \u003cem\u003eEverything as Code\u003c/em\u003e (EaC) paradigm.\u003c/p\u003e\n\u003cp\u003eHowever, getting the JCasC syntax correct can be difficult, and the documentation can be hard to decipher. If you’re stuck and need help, you may find it in the \u003ca href=\"https://gitter.im/jenkinsci/configuration-as-code-plugin\"\u003eGitter chat\u003c/a\u003e for the plugin.\u003c/p\u003e\n\u003cp\u003eAlthough you have configured the basic settings of Jenkins using JCasC, the new instance does not contain any projects or jobs. To take this even further, explore the \u003ca href=\"https://plugins.jenkins.io/job-dsl\"\u003eJob DSL\u003c/a\u003e plugin, which allows us to define projects and jobs as code. What’s more, you can include the Job DSL code inside your JCasC configuration file, and have the projects and jobs created as part of the configuration process.\u003c/p\u003e\n","headers":[{"slug":"introduction","content":"Introduction"},{"slug":"prerequisites","content":"Prerequisites"},{"slug":"step-1-disabling-the-setup-wizard","content":"Step 1 — Disabling the Setup Wizard"},{"slug":"step-2-installing-jenkins-plugins","content":"Step 2 — Installing Jenkins Plugins"},{"slug":"step-3-specifying-the-jenkins-url","content":"Step 3 — Specifying the Jenkins URL"},{"slug":"step-4-creating-a-user","content":"Step 4 — Creating a User"},{"slug":"step-5-setting-up-authorization","content":"Step 5 — Setting Up Authorization"},{"slug":"step-6-setting-up-build-authorization","content":"Step 6 — Setting Up Build Authorization"},{"slug":"step-7-enabling-agent-to-controller-access-control","content":"Step 7 — Enabling Agent to Controller Access Control"},{"slug":"conclusion","content":"Conclusion"}],"comments":[{"id":92012,"type":"comment","content":"Hi Daniel,\r\n\r\nThank you for this great tutorial.\r\n\r\nI've created a public example repo @ https://github.com/ultrabright/docker-jenkins that contains docker that incorporates many of your ideas. \r\n\r\nThanks again,\r\nHanna.","parent_id":6869,"parent_type":"tutorial","top_level_id":6869,"top_level_type":"tutorial","user_id":1287735,"resolved_by_id":null,"created_at":"2020-10-04T14:21:43.912Z","updated_at":"2020-11-10T19:35:29.377Z","state":"published","comments_locked_at":null,"user":{"id":1287735,"username":"dixter","slug":"dixter","first_name":null,"last_name":null,"title":null,"bio":"","website":"","twitter_handle":null,"github_handle":"ultrabright","linkedin_url":null,"preferred_contact_method":0,"skills":"","learn_more":"","preferred_language":"en","created_at":"2020-10-04T14:13:53.387Z","updated_at":"2020-11-09T08:20:46.585Z"},"editor":{},"resolved_by":{}},{"id":93199,"type":"comment","content":"This is my first month playing with Jenkins + Docker and this tutorial is by far the best that I have seen, thanks a bunch @d4nyll \r\n\r\nI would like to go further and learn how to have my Jenkins server ready to go with credentials, projects and pipelines configured (if possible), could you please recommend a good place to start?","parent_id":6869,"parent_type":"tutorial","top_level_id":6869,"top_level_type":"tutorial","user_id":1292530,"resolved_by_id":null,"created_at":"2020-11-05T17:49:50.045Z","updated_at":"2021-01-18T12:43:12.719Z","state":"published","comments_locked_at":null,"user":{"id":1292530,"username":"abracada137","slug":"abracada137","first_name":null,"last_name":null,"title":null,"bio":"Just starting development ... Can't wait to the time when I am ready to dive even deeper.","website":"","twitter_handle":null,"github_handle":"","linkedin_url":null,"preferred_contact_method":0,"skills":"TypeScript,JavaScript,Angular,Ionic,SQL,SQL Server,Delphi,Pascal,HTML","learn_more":"Docker,Kubernetes,DevOps,Jenkins,Ansible","preferred_language":"en","created_at":"2020-11-05T16:20:09.347Z","updated_at":"2020-11-10T19:34:32.134Z"},"editor":{},"resolved_by":{}},{"id":94394,"type":"comment","content":"Hi @d4nyll,\r\n\r\nThis was really helpful! I modified your suggestions to also incorporate a webhookrelay for receiving webhooks from github in a virtual docker network behind a firewall and played around with ideas of how to make the configuration as code available without building it into the image. Here is my example: https://github.com/jdstamp/ccmb-jenkins\r\n\r\nI just noticed @dixter has also a bunch of great ideas that I plan to incorporate into my setup!","parent_id":6869,"parent_type":"tutorial","top_level_id":6869,"top_level_type":"tutorial","user_id":1298626,"resolved_by_id":null,"created_at":"2020-12-19T12:50:13.035Z","updated_at":"2021-01-18T12:36:01.767Z","state":"published","comments_locked_at":null,"user":{"id":1298626,"username":"juliandstamp","slug":"juliandstamp","first_name":null,"last_name":null,"title":null,"bio":null,"website":null,"twitter_handle":null,"github_handle":null,"linkedin_url":null,"preferred_contact_method":0,"skills":null,"learn_more":null,"preferred_language":"en","created_at":"2020-12-19T12:42:03.987Z","updated_at":"2020-12-19T12:42:05.421Z"},"editor":{},"resolved_by":{}},{"id":97729,"type":"comment","content":"While creating the login in step 4, I am facing an error.\r\nWhile typing username and password in my Jenkins server opened in browser\r\nI am facing this error:\r\n\r\nHTTP ERROR 403 No valid crumb was included in the request\r\nURI:\t/j_spring_security_check\r\nSTATUS:\t403\r\nMESSAGE:\tNo valid crumb was included in the request\r\nSERVLET:\tStapler\r\nPowered by Jetty:// 9.4.39.v20210325\r\n\r\nCan you please suggest me why am I facing this error and what could be done to fix it in yaml file","parent_id":6869,"parent_type":"tutorial","top_level_id":6869,"top_level_type":"tutorial","user_id":423008,"resolved_by_id":null,"created_at":"2021-04-16T09:59:41.922Z","updated_at":"2021-04-16T09:59:43.841Z","state":"published","comments_locked_at":null,"user":{"id":423008,"username":"pandeykamal13526","slug":"pandeykamal13526","first_name":null,"last_name":null,"title":null,"bio":null,"website":null,"twitter_handle":null,"github_handle":null,"linkedin_url":null,"preferred_contact_method":0,"skills":null,"learn_more":null,"preferred_language":"en","created_at":"2018-04-24T13:00:46.369Z","updated_at":"2021-04-16T09:50:07.765Z"},"editor":{},"resolved_by":{}},{"id":98553,"type":"comment","content":"I followed your tutorial How To Automate Jenkins Setup with Docker and Jenkins Configuration as Code, it’s very helpful and explained perfectly.\r\nCurrently, I have to automate Jenkins configurations with all the plugins, cloud Template, node master (kubernetes) and all my pipelines and job.\r\nI began creating docker image with all plugins (as you explained) but I don’t know how to include the cloud Template and node and my pipelines \u0026 jobs in it ?\r\nPlease if you can help me I will be very grateful.\r\n \r\nThank you very much","parent_id":6869,"parent_type":"tutorial","top_level_id":6869,"top_level_type":"tutorial","user_id":1319590,"resolved_by_id":null,"created_at":"2021-05-19T09:39:18.326Z","updated_at":"2021-05-19T09:40:11.041Z","state":"published","comments_locked_at":null,"user":{"id":1319590,"username":"jamalinho007","slug":"jamalinho007","first_name":null,"last_name":null,"title":null,"bio":null,"website":null,"twitter_handle":null,"github_handle":null,"linkedin_url":null,"preferred_contact_method":0,"skills":null,"learn_more":null,"preferred_language":"fr","created_at":"2021-05-18T13:58:48.584Z","updated_at":"2021-05-19T09:38:55.840Z"},"editor":{},"resolved_by":{}},{"id":103199,"type":"comment","content":"Hi Daniel, \r\n\r\nI get some errors when running docker container :\r\n\r\n\"\r\nWARNING: An illegal reflective access operation has occurred                                                                                                                                 WARNING: Illegal reflective access by org.codehaus.groovy.reflection.CachedClass (file:/var/jenkins_home/war/WEB-INF/lib/groovy-all-2.4.12.jar) to method java.lang.Object.finalize()        WARNING: Please consider reporting this to the maintainers of org.codehaus.groovy.reflection.CachedClass                                                                                     WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations                                                                                        WARNING: All illegal access operations will be denied in a future release                                                                                                                    2021-12-21 05:06:00.597+0000 [id=35]    INFO    jenkins.InitReactorRunner$1#onAttained: System config loaded                                                                                 2021-12-21 05:06:01.371+0000 [id=31]    SEVERE  jenkins.InitReactorRunner$1#onTaskFailed: Failed ConfigurationAsCode.init                                                                    java.lang.IllegalArgumentException: Single entry map expected to configure a hudson.security.AuthorizationStrategy\r\n\"","parent_id":6869,"parent_type":"tutorial","top_level_id":6869,"top_level_type":"tutorial","user_id":1347840,"resolved_by_id":null,"created_at":"2021-12-21T06:36:48.531Z","updated_at":"2021-12-21T06:36:49.492Z","state":"published","comments_locked_at":null,"user":{"id":1347840,"username":"irsalyunus04","slug":"irsalyunus04","first_name":null,"last_name":null,"title":null,"bio":"","website":"","twitter_handle":null,"github_handle":"","linkedin_url":null,"preferred_contact_method":0,"skills":"","learn_more":"","preferred_language":"en","created_at":"2021-12-21T06:32:14.101Z","updated_at":"2021-12-21T06:33:14.788Z"},"editor":{},"resolved_by":{}}],"commentsRequestParams":["tutorial",6869,{"type":"comment","page":0,"per_page":10}],"relatedRecords":[{"id":3984,"slug":"how-to-install-discourse-on-ubuntu-18-04","tutorial_type":"tutorial","title":"How To Install Discourse on Ubuntu 18.04","description":"Discourse is an open-source discussion platform. It can be used as a mailing list, a discussion forum, or a long-form chat room. In this tutorial, we'll install Discourse in an isolated environment using Docker, a containerization application.","difficulty":"advanced","content":"*The author selected the [Free and Open Source Fund](https://www.brightfunds.org/funds/foss-nonprofits)  to receive a donation as part of the [Write for DOnations](https://do.co/w4do-cta) program.*\r\n\r\n### Introduction\r\n\r\n[Discourse](https://www.discourse.org/) is an open-source discussion platform. You can use Discourse as a mailing list, a discussion forum, or a long-form chat room. In this tutorial, you will install Discourse in an isolated environment using [Docker](https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-on-ubuntu-20-04), a containerization application.\r\n\r\n## Prerequisites\r\n\r\nBefore you get started, there are a few things you will need:\r\n\r\n* [One Ubuntu 18.04 server](https://www.digitalocean.com/products/linux-distribution/ubuntu/) with at least 2GB of RAM, a `sudo` non-root user, and a firewall. For guidance, you can reference our [initial server setup tutorial for Ubuntu 18.04](https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04).\r\n* Docker installed on your server. To accomplish this, you can follow [step 1 of our Docker installation tutorial for Ubuntu 18.04](https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-on-ubuntu-18-04).\r\n* A domain (or subdomain) with an available A record pointed at your server's IP. If you are managing your DNS on DigitalOcean, then you can [follow this guide to associate your IP with your domain](https://www.digitalocean.com/community/tutorials/how-to-point-to-digitalocean-nameservers-from-common-domain-registrars). This tutorial will use `\u003c^\u003ediscourse.your_domain\u003c^\u003e`.\r\n* An SMTP mail server. If you don't want to [run your own mail server](https://www.digitalocean.com/community/tutorials/why-you-may-not-want-to-run-your-own-mail-server), you can use another service, like a free account on [Mailgun](https://www.mailgun.com/).\r\n\r\n## Step 1 \u0026mdash; Downloading Discourse\r\n\r\nBefore downloading and installing Discourse, create the `/var/discourse` directory. This is where all your Discourse-related files will reside:\r\n\r\n```command\r\nsudo mkdir /var/discourse\r\n```\r\n\r\nFinally, clone the [official Discourse Docker Image](https://github.com/discourse/discourse_docker) into `/var/discourse`:\r\n\r\n```command\r\nsudo git clone https://github.com/discourse/discourse_docker.git /var/discourse\r\n```\r\n\r\nWith the Discourse Docker image in place, you can now install and configure your platform.\r\n\r\n## Step 2 \u0026mdash; Installing and Configuring Discourse\r\n\r\nMove to the `/var/discourse` directory:\r\n\r\n```command\r\ncd /var/discourse\r\n```\r\n\r\nNow launch the included setup script:\r\n\r\n```command\r\nsudo ./discourse-setup\r\n```\r\n\r\nThe Discourse installation script will ask the following questions:\r\n\r\n```\r\n[secondary_label Output]\r\nHostname for your Discourse?\r\n```\r\n\r\nEnter `\u003c^\u003ediscourse.your_domain\u003c^\u003e`, or whatever hostname you've chosen for your platform.\r\n\r\n```\r\n[secondary_label Output]\r\nEmail address for admin account?\r\n```\r\n\r\nChoose the email address that you want to use for the Discourse admin account. It can be unrelated to your Discourse domain and can be any email address you find convenient.\r\n\r\nNote that this email address will become the Discourse administrator default. Later, you will need to reuse this email address when you set up Discourse from its control panel.\r\n\r\n```\r\n[secondary_label Output]\r\nSMTP server address?\r\n```\r\n\r\n```\r\n[secondary_label Output]\r\nSMTP user name?\r\n```\r\n\r\n```\r\n[secondary_label Output]\r\nSMTP port?\r\n```\r\n\r\n```\r\n[secondary_label Output]\r\nSMTP password?\r\n```\r\n\r\nEnter your SMTP server details for these questions. If you're using [Mailgun](https://documentation.mailgun.com/en/latest/index.html), the SMTP server address will be `smtp.mailgun.org`, and the username and password are the SMTP credentials for your domain under Mailgun's **domains** tab.\r\n\r\nFinally, the Discourse installation script will ask you to confirm all these settings. Confirm your settings, and the script will generate a configuration file called `app.yml`. The installation process will begin automatically.\r\n\r\n\u003c$\u003e[note]\r\n\r\n**Note**: If you need to change or fix these settings after installation, edit your `/containers/app.yml` file and run `./launcher rebuild app`. Otherwise, your changes will not take effect.\r\n\r\n\u003c$\u003e\r\n\r\nThe Discourse installation will take approximately 2-8 minutes, after which your instance will be running. Now you can open a web browser and create an administrator account.\r\n\r\n## Step 3 \u0026mdash; Registering an Administrator Account\r\n\r\nVisit `\u003c^\u003ediscourse.your_domain\u003c^\u003e` in your favorite web browser, and you will see the Discourse 'Congrats' splash screen.\r\n\r\n![Discourse congratulations screen](https://assets.digitalocean.com/articles/67273/nmRKhNB1.png)\r\n\r\nIf you receive a 502 Bad Gateway error, try waiting a minute or two and then refreshing your browser; your Discourse installation might not have completed.\r\n\r\nWhen the page loads, click the blue **Register** button. You'll see a form entitled **Register Admin Account** with the following fields:\r\n\r\n* **Email**: Choose the email address you provided earlier from the pull-down menu.\r\n* **Username**: Choose a username.\r\n* **Password**: Choose a strong password.\r\n\r\nThen click the blue **Register** button on the form to submit it. You'll see a dialog that says **Confirm your Email**. Check your inbox for the confirmation email. If you didn't receive it, try clicking the **Resend Activation Email** button. If you're still unable to register a new admin account, please see the [Discourse email troubleshooting checklist](https://meta.discourse.org/t/troubleshooting-email-on-a-new-discourse-install/16326).\r\n\r\nAfter registering your admin account, the setup wizard will launch and guide you through Discourse's basic configuration. You can walk through it now or click **Maybe Later** to skip.\r\n\r\n![Discourse configuration wizard](https://assets.digitalocean.com/articles/67273/U8lBkkf1.png)\r\n\r\nAfter completing or skipping the setup wizard, you'll see some topics and [Discourse's Admin Quick Start Guide](https://github.com/discourse/discourse/blob/master/docs/ADMIN-QUICK-START-GUIDE.md). The quick start guide is labeled **READ ME FIRST**, and contains tips for further customizing your Discourse installation.\r\n\r\n![Discourse homepage and link to Admin Quick Start Guide](https://assets.digitalocean.com/articles/67273/6n8CGqb.png)\r\n\r\nYour Discourse platform is now ready for use. If you need to upgrade Discourse in the future, you can do so from the command line by pulling the latest version of the code from the Git repo and rebuilding the app:\r\n\r\n```command\r\ncd /var/discourse\r\nsudo git pull\r\nsudo ./launcher rebuild app\r\n```\r\n\r\nYou can also update Discourse in your browser. Visit `http://\u003c^\u003ediscourse.your_domain\u003c^\u003e/admin/upgrade`, click **Upgrade to the Latest Version**, and following the instructions.\r\n\r\n![Discourse upgrade admin upgrade page](https://assets.digitalocean.com/articles/67273/qX5cnoX.png)\r\n\r\n## Conclusion\r\n\r\nYou can now start managing your Discourse forum and let users sign up. You can learn more about Discourse's features on [the official Discourse About page](https://www.discourse.org/about/).\r\n","language":"en","state":"published","last_validated_at":"2020-07-14T00:40:14.820Z","published_at":"2020-03-20T14:26:38.618Z","views":20816,"follow_up_questions_enabled_at":"2022-01-31T18:04:44.045Z","comments_locked_at":null,"raw_html_allowed_in_markdown_at":null,"event_start_at":null,"event_timezone":"Eastern Time (US \u0026 Canada)","original":{}},{"id":2335,"slug":"how-to-configure-buildbot-with-ssl-using-an-nginx-reverse-proxy","tutorial_type":"tutorial","title":"How To Configure Buildbot with SSL using an Nginx Reverse Proxy","description":".","difficulty":"beginner","content":"\u003c$\u003e[note]\r\n**Note**: This tutorial covers an older version of Buildbot, so the instructions may not work on current versions. Until this article is updated, you can additionally use the [official Buildbot reverse proxy configuration documentation](http://docs.buildbot.net/latest/manual/cfg-www.html#reverse-proxy-configuration).\r\n\u003c$\u003e\r\n\r\n### Introduction\r\nBuildbot is a Python-based continuous integration system for automating software build, test, and release processes.  In the previous tutorials, we [installed Buildbot](https://www.digitalocean.com/community/tutorials/how-to-install-buildbot-on-ubuntu-16-04) and [created systemd Unit files](https://www.digitalocean.com/community/tutorials/how-to-create-systemd-unit-files-for-buildbot) to allow the server's init system to manage the processes.  Buildbot comes with its own built-in web server listening on port 8010, and in order to secure the web interface with SSL we'll need to configure a reverse proxy.\r\n\r\nIn this tutorial, we'll demonstrate how to configure Nginx as a reverse proxy in order to direct SSL-secured browser requests to Buildbot’s web interface. \r\n\r\n## Prerequisites\r\n\r\nTo follow this tutorial, you will need:\r\n\r\n- **One Ubuntu 16.04 server with at least 1 GB of RAM**, configured with a non-root `sudo` user and a firewall by following the [Ubuntu 16.04 initial server setup guide](https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-16-04) \r\n\r\nIn addition, you’ll need to complete the following tutorials on the server:\r\n\r\n- [How To Install Buildbot on Ubuntu 16.04](https://www.digitalocean.com/community/tutorials/how-to-install-buildbot-on-ubuntu-16-04)\r\n- [How To Create Systemd Unit Files for Buildbot](https://www.digitalocean.com/community/tutorials/how-to-create-systemd-unit-files-for-buildbot)\r\n- [How To Install Nginx on Ubuntu 16.04](https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-16-04)\r\n- [How To Secure Nginx with Let's Encrypt on Ubuntu 16.04](https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-16-04).\r\n\r\nWhen you've completed these requirements, you're ready to begin.\r\n\r\n## Step 1— Configuring Nginx\r\nIn the prerequisite tutorial, [How to Secure Nginx with Let's Encrypt on Ubuntu 16.04](https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-16-04),  we configured Nginx to use SSL in the `/etc/nginx/sites-available/default` file. Before we begin, we'll make a backup of our working configuration file:\r\n\r\n```command\r\nsudo cp /etc/nginx/sites-available/default /etc/nginx/sites-available/default.ssl.bak\r\n```\r\n\r\nNext, we'll open `default` and add our reverse proxy settings.\r\n\r\n```command\r\nsudo nano /etc/nginx/sites-available/default\r\n```\r\n\r\nFirst, we'll add specific access and error logs in the SSL `server` block. \r\n\r\n```\r\n[label /etc/nginx/sites-available/default]\r\n. . . \r\nserver {\r\n        # SSL Configuration\r\n        #\r\n. . .\r\n         # include snippets/snakeoil.conf;\r\n         \u003c^\u003eaccess_log            /var/log/nginx/buildbot.access.log;\u003c^\u003e\r\n         \u003c^\u003eerror_log            /var/log/nginx/buildbot.error.log;\u003c^\u003e\r\n. . .        \r\n        \r\n```\r\n\r\nNext, we'll configure the proxy settings. \r\n\r\nSince we're sending all requests to Buildbot, we'll need to delete or comment out the default `try_files` line which, as written, will return 404 errors before requests reach Buildbot. \r\n\r\n\u003c$\u003e[note]\r\n**Note:** Unlike most applications, Buildbot will return a 200 response for a request to the document root with the `try_files` setting enabled. If assets are cached by the browser, Buildbot may appear to be working. Without cached assets, it will return a blank page.\r\n\u003c$\u003e\r\n\r\nThen we'll add the reverse proxy configuration. The first line includes the Nginx-supplied `proxy_params` to ensure information like the hostname, the protocol of the client request, and the client IP address will be available in our log files.  The `proxy_pass` sets the protocol and address of the proxied server, which in our case is the Buildbot server accessed on the localhost on port 8010. \r\n```\r\n[label /etc/nginx/sites-available/default]\r\n. . .\r\n        location / {\r\n                # First attempt to serve request as file, then\r\n                # as directory, then fall back to displaying a 404.\r\n                \u003c^\u003e#\u003c^\u003e try_files $uri $uri/ =404;\r\n\r\n                # Reverse proxy settings\r\n                include proxy_params;\r\n                proxy_pass http://localhost:8010;\r\n             }\r\n. . . \r\n\r\n```\r\n\r\nDirectly after this stanza, we'll configure two additional locations, `/sse` and `/ws`: \r\n\r\n- **Server Sent Event (SSE) settings** [Server Sent Events](http://docs.buildbot.net/current/developer/www-server.html#server-sent-events) are a simpler, more REST compliant protocol than WebSockets that allow clients to subscribe to events.  The Buildbot SSE endpoint requires its own `proxy_pass` setting and benefits from turning off `proxy_buffering`.\r\n\r\n- **WebSocket settings**  [WebSocket](http://docs.buildbot.net/current/developer/www-server.html#websocket) is a protocol for messaging between the web server and web browsers. Like the SSE protocol, it requires its own `proxy_pass` setting. Additional configuration is also required to pass header information. You can learn more these settings from the [Nginx WebSocket proxying documentation](http://nginx.org/en/docs/http/websocket.html). \r\n\r\n\r\n```\r\n[label /etc/nginx/sites-available/default]\r\n. . .\r\n        # Server sent event (sse) settings\r\n        location /sse {\r\n                proxy_buffering off;\r\n                proxy_pass http://localhost:8010;\r\n        }\r\n\r\n        # Websocket settings\r\n        location /ws {\r\n              proxy_http_version 1.1;\r\n              proxy_set_header Upgrade $http_upgrade;\r\n              proxy_set_header Connection \"upgrade\";\r\n              proxy_pass http://localhost:8010;\r\n              proxy_read_timeout 6000s;\r\n        }\r\n . . .\r\n```\r\n\r\nOnce you've made these changes, save and exit the file.\r\n\r\nFinally, we'll edit the `ssl_params.conf` and increase the `ssl_session_timeout` to the project's recommended setting of 1440 minutes (24 hours) to accommodate longer builds:\r\n\r\n```command\r\nsudo nano /etc/nginx/snippets/ssl-params.conf\r\n```\r\n\r\nAt the bottom of the file, add the following line:\r\n```\r\n[label /etc/nginx/snippets/ssl-params.conf]\r\n . . . \r\n\u003c^\u003essl_session_timeout 1440m;\u003c^\u003e\r\n```\r\nWhen you're done, save and exit the file.\r\n\r\n\u003c$\u003e[note]\r\n**Note:** The Buildbot documentation's sample Nginx file includes a line setting the `ssl_session_cache` size to 1,440 megabytes, which allows over 5 million connections. We've opted to retain a less memory-intensive setting of 10 megabytes. Each megabyte can store about 4000 sessions, so this will store around 40,000 sessions, which is sufficient for most use cases.\r\n\u003c$\u003e\r\n\r\nWe won't restart Nginx until after we’ve configured Buildbot, but we will test our configuration now in case we've made any mistakes:\r\n\r\n```command\r\nsudo nginx -t\r\n```\r\nIf all is well, the command will return:\r\n```\r\n[secondary_label Output]\r\nnginx: the configuration file /etc/nginx/nginx.conf syntax is ok\r\nnginx: configuration file /etc/nginx/nginx.conf test is successful\r\n```\r\nIf not, fix the reported errors until the test passes.\r\n\r\n## Step 2 — Configuring Buildbot\r\nBuildbot uses root-relative links in its web interface and needs to have the base URL defined in the `master.cfg` for links to work properly.\r\n\r\n```command\r\nsudo nano /home/buildbot/master/master.cfg\r\n```\r\n\r\nLocate the `buildbotURL` setting, change `http` to `https` , and change `localhost` to your domain.  Remove the port specification (`:8010`) since Nginx will proxy requests made to the conventional web ports.  **Important:** The protocol must be `https` and the definition must contain the trailing slash.\r\n\r\n```\r\n[label /home/buildbot/master/master.cfg]\r\n . . .\r\n c['buildbotURL'] = \"http\u003c^\u003es\u003c^\u003e://\u003c^\u003eyour.ssl.domain.name\u003c^\u003e/\"\r\n . . .\r\n```\r\n\r\nWe will also ensure the master won't accept direct connections from workers running on other hosts by binding to the local loopback interface.  Comment out or replace the existing protocol line,  `c['protocols'] = {'pb': {'port': 9989}}`, with the following:\r\n\r\n```\r\n[label /home/buildbot/master/master.cfg]\r\n. . .\r\nc['protocols'] = {\"pb\": {\"port\": \"tcp:9989:interface=127.0.0.1\"}}\r\n. . .\r\n```\r\nWhen you're done, save and exit the file.\r\n\r\nNow that we're using HTTPS and a domain name, we'll install the [`service_identity` module](https://service-identity.readthedocs.io/en/stable/), which provides tools to determine certificate is valid for the intended purpose.\r\n\r\n```command\r\nsudo -H pip install service_identity\r\n```\r\nIf we skipped this step, Buildbot would still restart, but would issue the UserWarning \"You do not have a working installation of the service_identity module\" which would be visible in the output of systemd's `status` command.\r\n\r\n## Step 3 — Restarting Services\r\n\r\nNow we're ready to restart Nginx:\r\n```command\r\nsudo systemctl restart nginx\r\n```\r\n\r\nSince `systemctl` doesn't provide output, we'll use its `status` command to be sure Nginx is running. \r\n\r\n```command\r\nsudo systemctl status nginx\r\n```\r\n\r\n\r\nThe output should highlight \"Active: active (running) and end with something like:\r\n```\r\n[secondary_label Output]\r\nMay 08 18:07:52 buildbot-server systemd[1]: \r\nStarted A high performance web server and a reverse proxy server.\r\n```\r\n\r\nNext, we'll restart the buildmaster and worker using `systemctl`, which we configured in the [previous tutorial](https://www.digitalocean.com/community/tutorials/how-to-create-systemd-unit-files-for-buildbot).\r\n\r\nFirst, check the configuration file for syntax errors:\r\n\r\n```command\r\nsudo buildbot checkconfig /home/buildbot/master/\r\n```\r\n```\r\n[secondary_label Output]\r\nConfig file is good!\r\n```\r\n\r\nIf no errors are reported, restart the service:\r\n\r\n```command\r\nsudo systemctl restart buildbot-master\r\nsudo systemctl status buildbot-master\r\n```\r\nThe output should highlight \"Active: active (running) and end with something like:\r\n```\r\n[secondary_label Output]\r\nMay 10 21:28:05 buildbot-server systemd[1]: Started BuildBot master service.\r\n```\r\n\r\nNext, we’ll restart the worker:\r\n```command\r\nsudo systemctl restart buildbot-worker\r\nsudo systemctl status buildbot-worker\r\n```\r\nAgain, the output should highlight \"Active: active (running) and in this case end with something like:\r\n\r\n```\r\n[secondary_label Output]\r\nMay 10 21:28:05 buildbot-server systemd[1]: Started BuildBot worker service.\r\n```\r\n\r\nNow that we've restarted Nginx, the buildmaster, and the worker, we're ready to verify the reverse proxy is working as expected. When we visit the site via `http`  we should be redirected to `https`  and successfully reach our Buildbot site.\r\n\r\nIn your web browser, enter \"http://\u003c^\u003eyour.ssl.domain.name\u003c^\u003e\", substituting your domain for `your.ssl.domain.name`. After you press enter, the URL should start with `https` and the location bar should indicate that the connection is secure. \r\n![Screenshot of Buildbot home page with secure URL](https://assets.digitalocean.com/articles/buildbot-nginx-ubuntu-1604/buildbot-secure.png\r\n)\r\n\r\nNext, we'll take a moment and see that the Web Socket and Server Sent Events are being proxied properly. \r\n\r\nFirst, visit the `/sse` directory. If the redirect is working properly, the browser should return the following page. Note that the page will continue trying to load, and this is normal behavior:\r\n\r\n![Buildbot SSE page](https://assets.digitalocean.com/articles/buildbot-nginx-ubuntu-1604/buildbot-sse-redirect.png\r\n)\r\n\r\n\r\nNext, visit the /ws directory.  If the proxy redirect isn't correct, visiting the `/ws` directory will return a `404 Not Found` error. If all is well, the browser should return the following page:\r\n![Buildbot WebSocket page](https://assets.digitalocean.com/articles/buildbot-nginx-ubuntu-1604/buildbot-ws-redirect.png)\r\n\r\nFinally, since the built-in web server listens on all interfaces, we’ll delete our rule that allows external traffic to port 8010 in order to prevent unencrypted connections when accessing the server by IP address:\r\n\r\n```command\r\nsudo ufw delete allow 8010\r\n```\r\n```\r\n[secondary_label Output]\r\nRule updated\r\nRule updated (v6)\r\n```\r\nWe have now configured Nginx as a reverse proxy and prevented users from accessing Buildbot using `HTTP`. \r\n\r\n### Conclusion\r\nIn this tutorial we configured Nginx as a reverse proxy to Buildbot's built-in web server in order to secure our credentials and other information transmitted via the Web interface. If you're new to Buildbot, you might want to explore [the Buildbot project's Quick Tour](http://docs.buildbot.net/current/tutorial/tour.html) guide.  When you are ready to learn how to set up a complete continuous integration process, check out our [How To Set Up Continuous Integration with Buildbot on Ubuntu 16.04](\r\nhttps://www.digitalocean.com/community/tutorials/how-to-set-up-continuous-integration-with-buildbot-on-ubuntu-16-04) guide.\r\n","language":"en","state":"published","last_validated_at":null,"published_at":"2017-05-17T15:10:14.785Z","views":15019,"follow_up_questions_enabled_at":null,"comments_locked_at":null,"raw_html_allowed_in_markdown_at":null,"event_start_at":null,"event_timezone":"Eastern Time (US \u0026 Canada)","original":{}}],"relatedPrismicRecord":{"icon_url":"https://prismic-io.s3.amazonaws.com/digitalocean/e5823923-7960-4584-9947-996128ee5a90_featured-AP-icon.svg","headline":["App Platform: Run Docker containers without managing servers"],"long_description":["With App Platform, you can:","Build, deploy, and scale apps and static sites by simply pointing to your GitHub repository","Let us manage the infrastructure, app runtimes, and other dependencies","Get started by building and deploying three static sites for free"],"url":"https://cloud.digitalocean.com/apps","button_text":"Learn More","category":"Product","audience":"Known"},"translations":[{"key":"en","label":"English","value":"how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code"}],"followUpQuestions":[],"questionsRequestParams":{"page":0,"per_page":5},"versions":[]},"footerData":{"footerRes":{"footer_name":[{"type":"heading1","text":"Community Footer ","spans":[]}],"highlight_set":[{"highlight":{"id":"XMDHBioAADgAFgYn","type":"highlights","tags":[],"slug":"get-our-biweekly-newsletter","lang":"en-us","first_publication_date":"2019-04-24T20:29:02+0000","last_publication_date":"2019-05-17T13:48:54+0000","uid":"newsletter","link_type":"Document","isBroken":false}},{"highlight":{"id":"XoDvthMAACIAK_KU","type":"highlights","tags":[],"slug":"hollies-hub-for-good","lang":"en-us","first_publication_date":"2020-03-29T18:59:24+0000","last_publication_date":"2021-03-22T23:49:37+0000","uid":"covid-19-highlight","link_type":"Document","isBroken":false}},{"highlight":{"id":"XMC9GCoAADsAFdjG","type":"highlights","tags":[],"slug":"become-a-contributor","lang":"en-us","first_publication_date":"2019-04-24T19:46:36+0000","last_publication_date":"2020-03-06T16:01:05+0000","uid":"write4do","link_type":"Document","isBroken":false}}],"horizontal_link_set_one_heading":[{"type":"heading3","text":"Featured on Community","spans":[]}],"horizontal_link_set_one":[{"link_text":[{"type":"heading6","text":"Kubernetes Course","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/community/tutorials/an-introduction-to-kubernetes"}},{"link_text":[{"type":"heading6","text":"Learn Python 3","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/community/tutorial_series/how-to-code-in-python-3"}},{"link_text":[{"type":"heading6","text":"Machine Learning in Python","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/community/tutorials/machine-learning-projects-python-a-digitalocean-ebook"}},{"link_text":[{"type":"heading6","text":"Getting started with Go","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/community/tutorials/how-to-write-your-first-program-in-go"}},{"link_text":[{"type":"heading6","text":"Intro to Kubernetes","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/community/tutorials/an-introduction-to-kubernetes"}}],"horizontal_link_set_two_heading":[{"type":"heading3","text":"DigitalOcean Products","spans":[]}],"horizontal_link_set_two_links":[{"link_text":[{"type":"heading4","text":"Virtual Machines","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/products/droplets/"}},{"link_text":[{"type":"heading4","text":"Managed Databases","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/products/managed-databases/"}},{"link_text":[{"type":"heading4","text":"Managed Kubernetes","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/products/kubernetes/"}},{"link_text":[{"type":"heading4","text":"Block Storage","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/products/block-storage/"}},{"link_text":[{"type":"heading4","text":"Object Storage","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/products/spaces/"}},{"link_text":[{"type":"heading4","text":"Marketplace","spans":[]}],"link_url":{"link_type":"Web","url":"https://marketplace.digitalocean.com/"}},{"link_text":[{"type":"heading4","text":"VPC","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/products/vpc/"}},{"link_text":[{"type":"heading4","text":"Load Balancers","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/products/load-balancer/"}}],"mega_promo_title":[{"type":"heading1","text":"Welcome to the developer cloud","spans":[]}],"mega_promo_content":[{"type":"paragraph","text":"DigitalOcean makes it simple to launch in the cloud and scale up as you grow – whether you’re running one virtual machine or ten thousand.","spans":[]}],"mega_promo_image":{"dimensions":{"width":570,"height":356},"alt":"DigitalOcean Cloud Control Panel","copyright":null,"url":"https://images.prismic.io/digitalocean/95c1215227aa7f39f2bd23076de28feb969741c7_cloud.digitalocean.com_projects_63f9252f-652b-4645-9c0c-bee96f2bc503_resources_ic0ce81-2.png?auto=compress,format"},"primary_link_list_set":[],"body":[{"slice_type":"link_list","slice_label":null,"items":[{"link_text":[{"type":"heading6","text":"About","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/about/"}},{"link_text":[{"type":"heading6","text":"Leadership","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/about/leadership/"}},{"link_text":[{"type":"heading6","text":"Blog","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/blog/"}},{"link_text":[{"type":"heading6","text":"Careers","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/careers/"}},{"link_text":[{"type":"heading6","text":"Partners","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/partners/"}},{"link_text":[{"type":"heading6","text":"Referral Program","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/referral-program/"}},{"link_text":[{"type":"heading6","text":"Press","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/press/"}},{"link_text":[{"type":"heading6","text":"Legal","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/legal/"}},{"link_text":[{"type":"heading6","text":"Security \u0026 Trust Center","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/trust/"}}],"primary":{"heading":[{"type":"heading2","text":"Company","spans":[]}]}},{"slice_type":"link_list","slice_label":null,"items":[{"link_text":[{"type":"heading6","text":"Pricing","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/pricing/"}},{"link_text":[{"type":"heading6","text":"Products Overview","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/products/"}},{"link_text":[{"type":"heading6","text":"Droplets","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/products/droplets/"}},{"link_text":[{"type":"heading6","text":"Kubernetes","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/products/kubernetes/"}},{"link_text":[{"type":"heading6","text":"Managed Databases","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/products/managed-databases/"}},{"link_text":[{"type":"heading6","text":"Spaces","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/products/spaces/"}},{"link_text":[{"type":"heading6","text":"Marketplace","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/products/marketplace/"}},{"link_text":[{"type":"heading6","text":"Load Balancers","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/products/load-balancer/"}},{"link_text":[{"type":"heading6","text":"Block Storage","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/products/block-storage/"}},{"link_text":[{"type":"heading6","text":"API Documentation","spans":[]}],"link_url":{"link_type":"Web","url":"https://developers.digitalocean.com/documentation/"}},{"link_text":[{"type":"heading6","text":"Documentation","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/docs"}},{"link_text":[{"type":"heading6","text":"Release Notes","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/docs/release-notes/"}}],"primary":{"heading":[{"type":"heading2","text":"Products","spans":[]}]}},{"slice_type":"link_list","slice_label":null,"items":[{"link_text":[{"type":"heading6","text":"Tutorials","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/community/tutorials"}},{"link_text":[{"type":"heading6","text":"Q\u0026A","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/community/questions"}},{"link_text":[{"type":"heading6","text":"Tools and Integrations","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/community/tools"}},{"link_text":[{"type":"heading6","text":"Tags","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/community/tags"}},{"link_text":[{"type":"heading6","text":"Write for DigitalOcean","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/community/pages/write-for-donations/"}},{"link_text":[{"type":"heading6","text":"Presentation Grants","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/droplets-for-demos/"}},{"link_text":[{"type":"heading6","text":"Hatch Startup Program","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/hatch/"}},{"link_text":[{"type":"heading6","text":"Shop Swag","spans":[]}],"link_url":{"link_type":"Web","url":"http://store.digitalocean.com/"}},{"link_text":[{"type":"heading6","text":"Research Program","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/research/"}},{"link_text":[{"type":"heading6","text":"Open Source","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/open-source/"}},{"link_text":[{"type":"heading6","text":"Code of Conduct","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/community/pages/code-of-conduct"}}],"primary":{"heading":[{"type":"heading2","text":"Community","spans":[]}]}},{"slice_type":"link_list","slice_label":null,"items":[{"link_text":[{"type":"heading6","text":"Get Support","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/support/"}},{"link_text":[{"type":"heading6","text":"Trouble Signing In?","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/docs/getting-started/faq/"}},{"link_text":[{"type":"heading6","text":"Sales","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/company/contact/sales/"}},{"link_text":[{"type":"heading6","text":"Report Abuse","spans":[]}],"link_url":{"link_type":"Web","url":"https://www.digitalocean.com/company/contact/#abuse"}},{"link_text":[{"type":"heading6","text":"System Status","spans":[]}],"link_url":{"link_type":"Web","url":"https://status.digitalocean.com/"}},{"link_text":[{"type":"heading6","text":"Share your ideas","spans":[]}],"link_url":{"link_type":"Web","url":"https://ideas.digitalocean.com/"}}],"primary":{"heading":[{"type":"heading2","text":"Contact","spans":[]}]}}]},"footerHighlightsData":[[{"id":"XMDHBioAADgAFgYn","uid":"newsletter","url":null,"type":"highlights","href":"https://digitalocean.cdn.prismic.io/api/v2/documents/search?ref=YhZ9WxIAAC0Abv6h\u0026q=%5B%5B%3Ad+%3D+at%28document.id%2C+%22XMDHBioAADgAFgYn%22%29+%5D%5D","tags":[],"first_publication_date":"2019-04-24T20:29:02+0000","last_publication_date":"2019-05-17T13:48:54+0000","slugs":["get-our-biweekly-newsletter","newsletter","infrastructure-as-a-newsletter","get-our-biweekly-developer--tech-news-update"],"linked_documents":[],"lang":"en-us","alternate_languages":[],"data":{"name":[{"type":"heading6","text":"Get our biweekly newsletter","spans":[]}],"title":[{"type":"heading1","text":"Get our biweekly newsletter","spans":[]}],"description":[{"type":"paragraph","text":"Sign up for Infrastructure as a Newsletter.","spans":[]}],"short_description":[{"type":"heading6","text":"Sign up for Infrastructure as a Newsletter.","spans":[]}],"cta_text":[{"type":"heading4","text":"Sign up","spans":[]}],"url":{"link_type":"Web","url":"https://www.digitalocean.com/community/newsletter"},"image":{},"icon":{"dimensions":{"width":40,"height":40},"alt":null,"copyright":null,"url":"https://images.prismic.io/digitalocean%2F1408aa17-9b9d-48ea-88cb-a49228b401d9_iaan_newsletter.svg?auto=compress,format"},"horizontal_image":{"dimensions":{"width":370,"height":140},"alt":null,"copyright":null,"url":"https://images.prismic.io/digitalocean/ca12c951cc76f33037f3384bba9942545d160d82_iaan_illo.jpg?auto=compress,format"}}}],[{"id":"XoDvthMAACIAK_KU","uid":"covid-19-highlight","url":null,"type":"highlights","href":"https://digitalocean.cdn.prismic.io/api/v2/documents/search?ref=YhZ9WxIAAC0Abv6h\u0026q=%5B%5B%3Ad+%3D+at%28document.id%2C+%22XoDvthMAACIAK_KU%22%29+%5D%5D","tags":[],"first_publication_date":"2020-03-29T18:59:24+0000","last_publication_date":"2021-03-22T23:49:37+0000","slugs":["hollies-hub-for-good","hub-for-good","covid-19-support-program"],"linked_documents":[],"lang":"en-us","alternate_languages":[],"data":{"name":[{"type":"heading6","text":"Hollie's Hub for Good","spans":[]}],"title":[{"type":"heading1","text":"Hollie's Hub for Good","spans":[]}],"description":[{"type":"paragraph","text":"Working on improving health and education, reducing inequality, and spurring economic growth? DigitalOcean would like to help.","spans":[]}],"short_description":[{"type":"heading6","text":"Working on improving health and education, reducing inequality, and spurring economic growth? We'd like to help.","spans":[]}],"cta_text":[{"type":"heading4","text":"Learn more","spans":[]}],"url":{"link_type":"Web","url":"https://www.digitalocean.com/community/pages/hollies-hub-for-good"},"image":{},"icon":{},"horizontal_image":{"dimensions":{"width":370,"height":140},"alt":null,"copyright":null,"url":"https://images.prismic.io/digitalocean/8a56a463-cf2c-42a2-9d2f-9096c4218f30_HH4G-reference.jpg?auto=compress,format\u0026rect=0,0,370,140\u0026w=370\u0026h=140"}}}],[{"id":"XMC9GCoAADsAFdjG","uid":"write4do","url":null,"type":"highlights","href":"https://digitalocean.cdn.prismic.io/api/v2/documents/search?ref=YhZ9WxIAAC0Abv6h\u0026q=%5B%5B%3Ad+%3D+at%28document.id%2C+%22XMC9GCoAADsAFdjG%22%29+%5D%5D","tags":[],"first_publication_date":"2019-04-24T19:46:36+0000","last_publication_date":"2020-03-06T16:01:05+0000","slugs":["become-a-contributor","write-for-donations"],"linked_documents":[],"lang":"en-us","alternate_languages":[],"data":{"name":[{"type":"heading6","text":"Become a contributor","spans":[]}],"title":[{"type":"heading1","text":"Contributors","spans":[]}],"description":[{"type":"paragraph","text":"Get paid to write technical tutorials and select a tech-focused charity to receive a matching donation.","spans":[]}],"short_description":[{"type":"heading6","text":"You get paid; we donate to tech nonprofits.","spans":[]}],"cta_text":[{"type":"heading4","text":"Write for the greater good","spans":[]}],"url":{"link_type":"Web","url":"https://www.digitalocean.com/community/pages/write-for-digitalocean"},"image":{"dimensions":{"width":400,"height":342},"alt":null,"copyright":null,"url":"https://images.prismic.io/digitalocean/ab1579af02561c3df4ace935b7a61d009b2ef18b_community-smallspots_v2-01-1.png?auto=compress,format"},"icon":{"dimensions":{"width":40,"height":40},"alt":null,"copyright":null,"url":"https://images.prismic.io/digitalocean%2Fa10ff951-eeee-4774-bdab-e55cc7d1cfce_community_author.svg?auto=compress,format"},"horizontal_image":{"dimensions":{"width":370,"height":140},"alt":null,"copyright":null,"url":"https://images.prismic.io/digitalocean/70910e9fdeb57be46aaa209ce8d9b4dc8e117fab_w4do2.jpg?auto=compress,format"}}}]]},"navData":{"navigation_image":{"dimensions":{"width":346,"height":58},"alt":null,"copyright":null,"url":"https://images.prismic.io/www-static/49aa0a09-06d2-4bba-ad20-4bcbe56ac507_logo.png?auto=compress,format"},"brand_name":[{"type":"paragraph","text":"DigitalOcean","spans":[]}],"primary_navigation_links":[{"primary_navigation_text":"Products","primary_navigation_link":{"link_type":"Web","url":"https://www.digitalocean.com/products/"},"primary_tracking_name":"www top nav","primary_tracking_category":"products"},{"primary_navigation_text":"Solutions","primary_navigation_link":{"link_type":"Web","url":"https://www.digitalocean.com/business/"},"primary_tracking_name":"www top nav","primary_tracking_category":"solutions"},{"primary_navigation_text":"Marketplace","primary_navigation_link":{"link_type":"Web","url":"https://www.digitalocean.com/products/marketplace/"},"primary_tracking_name":"www top nav","primary_tracking_category":"marketplace"},{"primary_navigation_text":"Community","primary_navigation_link":{"link_type":"Web","url":"https://www.digitalocean.com/community/"},"primary_tracking_name":"www top nav","primary_tracking_category":"community"},{"primary_navigation_text":"Pricing","primary_navigation_link":{"link_type":"Web","url":"https://www.digitalocean.com/pricing/"},"primary_tracking_name":"www top nav","primary_tracking_category":"pricing"}],"products_mega_menu_title":"Featured Products","products_mega_menu_featured":[{"featured_product_image":{"dimensions":{"width":45,"height":45},"alt":null,"copyright":null,"url":"https://images.prismic.io/www-static%2Fc5136b33-0193-4b92-8ef1-c6e34a9a8a64_droplets-icon.svg?auto=compress,format"},"featured_product_title":"Droplets","featured_product_subtitle":"Scalable virtual machines","featured_product_link":{"link_type":"Web","url":"https://www.digitalocean.com/products/droplets/"},"featured_tracking_name":"www top nav sub - products","featured_tracking_category":"featured products - droplets"},{"featured_product_image":{"dimensions":{"width":45,"height":45},"alt":null,"copyright":null,"url":"https://images.prismic.io/www-static%2F9e286c97-a89a-4e26-954c-2af1ba07f53c_kubernetes-icon.svg?auto=compress,format"},"featured_product_title":"Kubernetes","featured_product_subtitle":"Managed Kubernetes clusters","featured_product_link":{"link_type":"Web","url":"https://www.digitalocean.com/products/kubernetes/"},"featured_tracking_name":"www top nav sub - products","featured_tracking_category":"featured products - kubernetes"},{"featured_product_image":{"dimensions":{"width":150,"height":150},"alt":null,"copyright":null,"url":"https://prismic-io.s3.amazonaws.com/www-static/20a7c57a-371a-47ae-aba0-744b2e08db36_AP-40x40-01.svg"},"featured_product_title":"App Platform","featured_product_subtitle":"Get apps to market faster","featured_product_link":{"link_type":"Web","url":"https://www.digitalocean.com/products/app-platform/"},"featured_tracking_name":"www top nav sub - products","featured_tracking_category":"featured products - app platform"},{"featured_product_image":{"dimensions":{"width":150,"height":150},"alt":null,"copyright":null,"url":"https://images.prismic.io/www-static%2Fda8ba23a-63b2-414e-b5c3-3412b09d0be5_managed-database-icon.svg?auto=compress,format"},"featured_product_title":"Databases","featured_product_subtitle":"Worry-free setup \u0026 maintenance","featured_product_link":{"link_type":"Web","url":"https://www.digitalocean.com/products/managed-databases/"},"featured_tracking_name":"www top nav sub - products","featured_tracking_category":"featured products - databases"},{"featured_product_image":{"dimensions":{"width":45,"height":45},"alt":null,"copyright":null,"url":"https://images.prismic.io/www-static%2Ffdd20525-076d-4f69-afb5-2bdf0a27f399_spaces-icon.svg?auto=compress,format"},"featured_product_title":"Spaces","featured_product_subtitle":"Simple object storage","featured_product_link":{"link_type":"Web","url":"https://www.digitalocean.com/products/spaces/"},"featured_tracking_name":"www top nav sub - products","featured_tracking_category":"featured products - spaces"}],"products_mega_menu_secondary":[{"secondary_image":{"dimensions":{"width":16,"height":16},"alt":null,"copyright":null,"url":"https://images.prismic.io/www-static%2F9df740a5-0736-4447-acae-0f2b1fc2c709_compute-icon.svg?auto=compress,format"},"secondary_title":"Compute","secondary_text_1":"Droplets","secondary_link_1":{"link_type":"Web","url":"https://www.digitalocean.com/products/droplets/"},"secondary_tracking_name_1":"www top nav sub - products","secondary_tracking_category_1":"compute - droplets","secondary_text_2":"Kubernetes","secondary_link_2":{"link_type":"Web","url":"https://www.digitalocean.com/products/kubernetes/"},"secondary_tracking_name_2":"www top nav sub - products","secondary_tracking_category_2":"compute - kubernetes","secondary_text_3":"App Platform","secondary_link_3":{"link_type":"Web","url":"https://www.digitalocean.com/products/app-platform/"},"secondary_tracking_name_3":"www top nav sub - products","secondary_tracking_category_3":"compute - app platform","secondary_text_4":null,"secondary_link_4":{"link_type":"Any"},"secondary_tracking_name_4":null,"secondary_tracking_category_4":null,"secondary_text_5":null,"secondary_link_5":{"link_type":"Any"},"secondary_tracking_name_5":null,"secondary_tracking_category_5":null,"secondary_text_6":null,"secondary_link_6":{"link_type":"Any"},"secondary_tracking_name_6":null,"secondary_tracking_category_6":null},{"secondary_image":{"dimensions":{"width":16,"height":16},"alt":null,"copyright":null,"url":"https://images.prismic.io/www-static%2F2e5ffd50-1bc6-44f8-99e0-e98be57e49cb_database-2-icon.svg?auto=compress,format"},"secondary_title":"Managed Databases","secondary_text_1":"MongoDB","secondary_link_1":{"link_type":"Web","url":"https://www.digitalocean.com/products/managed-databases-mongodb"},"secondary_tracking_name_1":"www top nav sub - products","secondary_tracking_category_1":"managed databases - mongodb","secondary_text_2":"MySQL","secondary_link_2":{"link_type":"Web","url":"https://www.digitalocean.com/products/managed-databases-mysql"},"secondary_tracking_name_2":"www top nav sub - products","secondary_tracking_category_2":"managed databases - mysql","secondary_text_3":"PostgreSQL","secondary_link_3":{"link_type":"Web","url":"https://www.digitalocean.com/products/managed-databases-postgresql"},"secondary_tracking_name_3":"www top nav sub - products","secondary_tracking_category_3":"managed databases - postgres","secondary_text_4":"Redis™","secondary_link_4":{"link_type":"Web","url":"https://www.digitalocean.com/products/managed-databases-redis"},"secondary_tracking_name_4":"www top nav sub - products","secondary_tracking_category_4":"managed databases - redis","secondary_text_5":null,"secondary_link_5":{"link_type":"Any"},"secondary_tracking_name_5":null,"secondary_tracking_category_5":null,"secondary_text_6":null,"secondary_link_6":{"link_type":"Any"},"secondary_tracking_name_6":null,"secondary_tracking_category_6":null},{"secondary_image":{"dimensions":{"width":16,"height":16},"alt":null,"copyright":null,"url":"https://images.prismic.io/www-static%2F4a78e988-36c1-4623-9b90-3a16c941e866_developer-tools-icon.svg?auto=compress,format"},"secondary_title":"Developer Tools","secondary_text_1":"API","secondary_link_1":{"link_type":"Web","url":"https://docs.digitalocean.com/reference/api/"},"secondary_tracking_name_1":"www top nav sub - products","secondary_tracking_category_1":"developer tools - api","secondary_text_2":"CLI","secondary_link_2":{"link_type":"Web","url":"https://www.digitalocean.com/products/tools-and-integrations/#tools-and-integrations-cli"},"secondary_tracking_name_2":"www top nav sub - products","secondary_tracking_category_2":"developer tools - cli","secondary_text_3":"Monitoring","secondary_link_3":{"link_type":"Web","url":"https://www.digitalocean.com/products/monitoring/"},"secondary_tracking_name_3":"www top nav sub - products","secondary_tracking_category_3":"developer tools - monitoring","secondary_text_4":"Teams","secondary_link_4":{"link_type":"Web","url":"https://www.digitalocean.com/products/teams/"},"secondary_tracking_name_4":"www top nav sub - products","secondary_tracking_category_4":"developer tools - teams","secondary_text_5":"Deploy to DigitalOcean","secondary_link_5":{"link_type":"Web","url":"https://docs.digitalocean.com/products/app-platform/"},"secondary_tracking_name_5":"www top nav sub - products","secondary_tracking_category_5":"developer tools - deploy to digitalocean button","secondary_text_6":"Support","secondary_link_6":{"link_type":"Web","url":"https://www.digitalocean.com/products/support/"},"secondary_tracking_name_6":"www top nav sub - products","secondary_tracking_category_6":"developer tools - support"},{"secondary_image":{"dimensions":{"width":16,"height":16},"alt":null,"copyright":null,"url":"https://images.prismic.io/www-static%2F87c2d9a5-1a9d-4ab2-897b-a9be953d9d9f_storage-icon.svg?auto=compress,format"},"secondary_title":"Storage","secondary_text_1":"Spaces Object Storage","secondary_link_1":{"link_type":"Web","url":"https://www.digitalocean.com/products/spaces/"},"secondary_tracking_name_1":"www top nav sub - products","secondary_tracking_category_1":"storage - spaces object","secondary_text_2":"Volumes Block Storage","secondary_link_2":{"link_type":"Web","url":"https://www.digitalocean.com/products/block-storage/"},"secondary_tracking_name_2":"www top nav sub - products","secondary_tracking_category_2":"storage - volumes block","secondary_text_3":null,"secondary_link_3":{"link_type":"Any"},"secondary_tracking_name_3":null,"secondary_tracking_category_3":null,"secondary_text_4":null,"secondary_link_4":{"link_type":"Any"},"secondary_tracking_name_4":null,"secondary_tracking_category_4":null,"secondary_text_5":null,"secondary_link_5":{"link_type":"Any"},"secondary_tracking_name_5":null,"secondary_tracking_category_5":null,"secondary_text_6":null,"secondary_link_6":{"link_type":"Any"},"secondary_tracking_name_6":null,"secondary_tracking_category_6":null},{"secondary_image":{"dimensions":{"width":16,"height":16},"alt":null,"copyright":null,"url":"https://images.prismic.io/www-static%2F3e7adf23-bf9d-492b-94c3-ec8245ad9fbf_networking-icon.svg?auto=compress,format"},"secondary_title":"Networking","secondary_text_1":"Virtual Private Cloud (VPC)","secondary_link_1":{"link_type":"Web","url":"https://www.digitalocean.com/products/vpc/"},"secondary_tracking_name_1":"www top nav sub - products","secondary_tracking_category_1":"networking - vpc","secondary_text_2":"Cloud Firewalls","secondary_link_2":{"link_type":"Web","url":"https://www.digitalocean.com/products/cloud-firewalls/"},"secondary_tracking_name_2":"www top nav sub - products","secondary_tracking_category_2":"networking - cloud firewalls","secondary_text_3":"Load Balancers","secondary_link_3":{"link_type":"Web","url":"https://www.digitalocean.com/products/load-balancer/"},"secondary_tracking_name_3":"www top nav sub - products","secondary_tracking_category_3":"networking - load balancers","secondary_text_4":"Floating IPs","secondary_link_4":{"link_type":"Web","url":"https://www.digitalocean.com/docs/networking/floating-ips/"},"secondary_tracking_name_4":"www top nav sub - products","secondary_tracking_category_4":"networking - floating ips","secondary_text_5":"DNS","secondary_link_5":{"link_type":"Web","url":"https://www.digitalocean.com/docs/networking/dns/"},"secondary_tracking_name_5":"www top nav sub - products","secondary_tracking_category_5":"networking - dns","secondary_text_6":null,"secondary_link_6":{"link_type":"Any"},"secondary_tracking_name_6":null,"secondary_tracking_category_6":null}],"bottom_link_text":"See all products","bottom_link":{"link_type":"Web","url":"https://www.digitalocean.com/products/"},"community_mega_menu_community_title":"Community","community_mega_menu_community":[{"community_image":{"dimensions":{"width":150,"height":150},"alt":null,"copyright":null,"url":"https://images.prismic.io/www-static%2F3bcb81cd-1877-427b-837b-cd4dc877d016_community-icon.svg?auto=compress,format"},"community_title":"Overview","community_subtitle":"Connect, share and learn","community_link":{"link_type":"Web","url":"https://www.digitalocean.com/community/"},"community_tracking_name":"www top nav sub - community","community_tracking_category":"overview"},{"community_image":{"dimensions":{"width":150,"height":150},"alt":null,"copyright":null,"url":"https://images.prismic.io/www-static%2Ffba5672c-1c4d-4be5-a956-00f7823cf5ac_tutorials-icon.svg?auto=compress,format"},"community_title":"Tutorials","community_subtitle":"DevOps and development guides","community_link":{"link_type":"Web","url":"https://www.digitalocean.com/community/tutorials/"},"community_tracking_name":"www top nav sub - community","community_tracking_category":"tutorials"},{"community_image":{"dimensions":{"width":150,"height":150},"alt":null,"copyright":null,"url":"https://images.prismic.io/www-static%2F003d7009-4716-45c8-a099-8a6885d0c9cc_q-and-a-icon.svg?auto=compress,format"},"community_title":"Questions and Answers","community_subtitle":"Development and systems Q\u0026A","community_link":{"link_type":"Web","url":"https://www.digitalocean.com/community/questions/"},"community_tracking_name":"www top nav sub - community","community_tracking_category":"questions and answers"},{"community_image":{"dimensions":{"width":150,"height":150},"alt":null,"copyright":null,"url":"https://images.prismic.io/www-static%2Fce682ec9-07ea-41b8-a0fb-228cb2cd08d4_projects-icon.svg?auto=compress,format"},"community_title":"Tools","community_subtitle":"Community-built integrations","community_link":{"link_type":"Web","url":"https://www.digitalocean.com/community/tools/"},"community_tracking_name":"www top nav sub - community","community_tracking_category":"tool"}],"community_mega_menu_get_involved_title":"Get Involved","community_mega_menu_get_involved":[{"get_involved_text":"Write for DOnations","get_involved_link":{"link_type":"Web","url":"https://www.digitalocean.com/community/pages/write-for-digitalocean/"},"get_involved_tracking_name":"www top nav sub - community","get_involved_tracking_category":"get involved - donations"},{"get_involved_text":"Meetups","get_involved_link":{"link_type":"Web","url":"https://www.meetup.com/pro/digitalocean/"},"get_involved_tracking_name":"www top nav sub - community","get_involved_tracking_category":"get involved - meetups"},{"get_involved_text":"Hatch Startup Program","get_involved_link":{"link_type":"Web","url":"https://www.digitalocean.com/hatch/"},"get_involved_tracking_name":"www top nav sub - community","get_involved_tracking_category":"get involved - hatch"},{"get_involved_text":"Open Source Sponsorships","get_involved_link":{"link_type":"Web","url":"https://www.digitalocean.com/open-source/"},"get_involved_tracking_name":"www top nav sub - community","get_involved_tracking_category":"get involved - open"},{"get_involved_text":"Hacktoberfest","get_involved_link":{"link_type":"Web","url":"https://hacktoberfest.digitalocean.com/"},"get_involved_tracking_name":"www top nav sub - community","get_involved_tracking_category":"get involved - hacktoberfest"}],"community_mega_menu_featured_title":"Featured Articles","community_mega_menu_featured_articles":[{"featured_articles_image":{"dimensions":{"width":140,"height":140},"alt":null,"copyright":null,"url":"https://images.prismic.io/www-static/63808eba4b5c17be2c07d709771310e1ce75b6b6_article-1.jpg?auto=compress,format"},"featured_articles_text":"How to Deploy a PHP Application with Kubernetes on Ubuntu 16.04","featured_articles_link":{"link_type":"Web","url":"https://www.digitalocean.com/community/tutorials/how-to-deploy-a-php-application-with-kubernetes-on-ubuntu-16-04/"},"featured_articles_tracking_name":"www top nav sub - community","featured_articles_tracking_category":"featured articles - How to Deploy a PHP Application with Kubernetes on Ubuntu 16.04"},{"featured_articles_image":{"dimensions":{"width":140,"height":140},"alt":null,"copyright":null,"url":"https://images.prismic.io/www-static/cf6d27910f0fd823c5d494cf3ca833a786c106c5_article-2.jpg?auto=compress,format"},"featured_articles_text":"Understanding Database Sharding","featured_articles_link":{"link_type":"Web","url":"https://www.digitalocean.com/community/tutorials/understanding-database-sharding/"},"featured_articles_tracking_name":"www top nav sub - community","featured_articles_tracking_category":"featured articles - Understanding Database Sharding"},{"featured_articles_image":{"dimensions":{"width":140,"height":140},"alt":null,"copyright":null,"url":"https://images.prismic.io/www-static/3644243d4edcb457a5ad46f2eb3b858e846c8659_article-3.jpg?auto=compress,format"},"featured_articles_text":"How to Build a Node.js Application with Docker","featured_articles_link":{"link_type":"Web","url":"https://www.digitalocean.com/community/tutorials/how-to-build-a-node-js-application-with-docker/"},"featured_articles_tracking_name":"www top nav sub - community","featured_articles_tracking_category":"featured articles - How to Build a Node.js Application with Docker"}],"solutions_mega_menu":[{"solutions_image":{"dimensions":{"width":40,"height":40},"alt":null,"copyright":null,"url":"https://images.prismic.io/www-static/778e547e-58df-49bf-80b9-8e2f23a19efd_icon-website-hosting.svg?auto=compress,format"},"solutions_title":"Website Hosting","solutions_subtitle":"Easily and reliably host a website","solutions_link":{"link_type":"Web","url":"https://www.digitalocean.com/solutions/website-hosting/"},"solutions_tracking_name":"www top nav sub - solutions","solutions_tracking_category":"website hosting"},{"solutions_image":{"dimensions":{"width":40,"height":40},"alt":null,"copyright":null,"url":"https://images.prismic.io/www-static/a3ff5218-7baa-4055-8e8b-6024f5775891_icon-web-mobile-apps.svg?auto=compress,format"},"solutions_title":"Web \u0026 Mobile Apps","solutions_subtitle":"Quickly build and reliably run your apps","solutions_link":{"link_type":"Web","url":"https://www.digitalocean.com/solutions/web-mobile-apps/"},"solutions_tracking_name":"www top nav sub - solutions","solutions_tracking_category":"web \u0026 mobile apps"},{"solutions_image":{"dimensions":{"width":40,"height":40},"alt":null,"copyright":null,"url":"https://images.prismic.io/www-static/789b3c0d-f589-4263-a34e-cca77bc15118_icon-video-streaming-hosting.svg?auto=compress,format"},"solutions_title":"Video Streaming Hosting","solutions_subtitle":"Create a highly available streaming service","solutions_link":{"link_type":"Web","url":"https://www.digitalocean.com/solutions/streaming/"},"solutions_tracking_name":"www top nav sub - solutions","solutions_tracking_category":"video streaming hosting"},{"solutions_image":{"dimensions":{"width":40,"height":40},"alt":null,"copyright":null,"url":"https://images.prismic.io/www-static/6ed64bba-bb34-46ae-b49b-4f93e58dba53_icon-gaming-dev.svg?auto=compress,format"},"solutions_title":"Gaming Development","solutions_subtitle":"Scale your game as fast as you want","solutions_link":{"link_type":"Web","url":"https://www.digitalocean.com/solutions/gaming-development/"},"solutions_tracking_name":"www top nav sub - solutions","solutions_tracking_category":"gaming development"},{"solutions_image":{"dimensions":{"width":40,"height":40},"alt":null,"copyright":null,"url":"https://images.prismic.io/www-static/f7d25545-237d-40f1-9d21-07486beda2d4_icon-cloud-vpn.svg?auto=compress,format"},"solutions_title":"Cloud VPN","solutions_subtitle":"Quickly set up a fast, reliable, and easy to use VPN","solutions_link":{"link_type":"Web","url":"https://www.digitalocean.com/solutions/vpn/"},"solutions_tracking_name":"www top nav sub - solutions","solutions_tracking_category":"cloud vpn"},{"solutions_image":{"dimensions":{"width":40,"height":40},"alt":null,"copyright":null,"url":"https://images.prismic.io/www-static/0d0e08b3-eb66-4b13-8a6b-862dd4600516_icon-big-data.svg?auto=compress,format"},"solutions_title":"Big Data Computing","solutions_subtitle":"Run batch and streaming big data workloads","solutions_link":{"link_type":"Web","url":"https://www.digitalocean.com/solutions/big-data/"},"solutions_tracking_name":"www top nav sub - solutions","solutions_tracking_category":"big data computing"},{"solutions_image":{"dimensions":{"width":40,"height":40},"alt":null,"copyright":null,"url":"https://images.prismic.io/www-static/5e5aae18-4099-47f4-8dbe-e8d4a51c4db2_icon-cloud-computing-startups.svg?auto=compress,format"},"solutions_title":"Startups","solutions_subtitle":"A cloud partnership to power your startup","solutions_link":{"link_type":"Web","url":"https://www.digitalocean.com/solutions/startups/"},"solutions_tracking_name":"www top nav sub - solutions","solutions_tracking_category":"startups"},{"solutions_image":{"dimensions":{"width":40,"height":40},"alt":null,"copyright":null,"url":"https://images.prismic.io/www-static/b858a5fc-4cde-4ec5-91bd-823d50b1850e_icon-saas-dev.svg?auto=compress,format"},"solutions_title":"SaaS Development","solutions_subtitle":"Build your SaaS exactly how you want","solutions_link":{"link_type":"Web","url":"https://www.digitalocean.com/solutions/saas/"},"solutions_tracking_name":"www top nav sub - solutions","solutions_tracking_category":"saas development"},{"solutions_image":{"dimensions":{"width":40,"height":40},"alt":null,"copyright":null,"url":"https://images.prismic.io/www-static/179f91e8-1c4e-454b-948e-e81c6f0da217_icon-agency-web-dev.svg?auto=compress,format"},"solutions_title":"Agency \u0026 Web Dev Shops","solutions_subtitle":"Create powerful websites and applications for your clients","solutions_link":{"link_type":"Web","url":"https://www.digitalocean.com/solutions/agency/"},"solutions_tracking_name":"www top nav sub - solutions","solutions_tracking_category":"agency \u0026 web dev shops"},{"solutions_image":{"dimensions":{"width":40,"height":40},"alt":null,"copyright":null,"url":"https://images.prismic.io/www-static/34251fe4-28a1-4f54-944c-0141a17cee8a_icon-managed-cloud-hosting.svg?auto=compress,format"},"solutions_title":"Managed Cloud Hosting Providers","solutions_subtitle":"We make cloud hosting simple and cost-efficient","solutions_link":{"link_type":"Web","url":"https://www.digitalocean.com/solutions/managed-cloud-hosting/"},"solutions_tracking_name":"www top nav sub - solutions","solutions_tracking_category":"managed cloud hosting providers"}],"solutions_bottom_link_text":"See all solutions","solutions_bottom_link":{"link_type":"Web","url":"https://www.digitalocean.com/business/"},"primary_navigation_end_links":[{"primary_navigation_end_link_text":"Log In","primary_navigation_end_link":{"link_type":"Web","url":"https://cloud.digitalocean.com/login"}},{"primary_navigation_end_link_text":"Sign Up","primary_navigation_end_link":{"link_type":"Web","url":"https://cloud.digitalocean.com/registrations/new"}}],"body":[],"announcement_pill_text":"READ","announcement_text":"Migrate your database to DigitalOcean with minimal downtime for free","announcement_link":{"link_type":"Web","url":"https://www.digitalocean.com/blog/migrate-your-database-to-digitalocean-managed-databases"},"rel":"nofollow","tiny_navigation_links":[{"tiny_navigation_text":"Blog","tiny_navigation_path":"/blog","tiny_navigation_link":{"link_type":"Web","url":"https://www.digitalocean.com/blog/"},"tiny_link_rel":"default"},{"tiny_navigation_text":"Docs","tiny_navigation_path":"/docs","tiny_navigation_link":{"link_type":"Web","url":"https://docs.digitalocean.com/products/"},"tiny_link_rel":"default"},{"tiny_navigation_text":"Get Support","tiny_navigation_path":"/support","tiny_navigation_link":{"link_type":"Web","url":"https://www.digitalocean.com/support/"},"tiny_link_rel":"nofollow"},{"tiny_navigation_text":"Sales","tiny_navigation_path":"/company/contact/sales","tiny_navigation_link":{"link_type":"Web","url":"https://www.digitalocean.com/company/contact/sales/"},"tiny_link_rel":"nofollow"}]}},"__N_SSG":true},"page":"/community/tutorials/[slug]","query":{"slug":"how-to-automate-jenkins-setup-with-docker-and-jenkins-configuration-as-code"},"buildId":"5c3fcf3a35b7b2fb845cd024b1bd978a92f5ed4a","isFallback":false,"dynamicIds":[80062],"gsp":true,"scriptLoader":[]}</script><textarea tabindex="-1" aria-hidden="true" style="min-height: 0px !important; max-height: none !important; height: 0px !important; visibility: hidden !important; overflow: hidden !important; position: absolute !important; z-index: -1000 !important; top: 0px !important; right: 0px !important; border-width: 0px; box-sizing: border-box; font-family: &quot;JetBrains Mono&quot;, sans-serif; font-size: 17px; font-style: normal; font-weight: 400; letter-spacing: normal; line-height: 19.55px; padding: 16px; tab-size: 8; text-indent: 0px; text-rendering: auto; text-transform: none; width: 798px; word-break: normal;"></textarea><script id="segment-script" data-nscript="afterInteractive">!function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="eodkqsm339";;analytics.SNIPPET_VERSION="4.15.3";
analytics.load("eodkqsm339");

}}();</script><script id="gtm-script" data-nscript="afterInteractive">
                (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                })(window,document,'script','dataLayer','GTM-KHWBBT');
              </script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/18649710292.js" data-nscript="afterInteractive"></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/cookieConsent.js" data-nscript="afterInteractive"></script><script id="https://assets.digitalocean.com/labs/search.js.gz" src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/search.js.gz" type="text/javascript"></script><next-route-announcer><p aria-live="assertive" id="__next-route-announcer__" role="alert" style="border: 0px; clip: rect(0px, 0px, 0px, 0px); height: 1px; margin: -1px; overflow: hidden; padding: 0px; position: absolute; width: 1px; white-space: nowrap; overflow-wrap: normal;"></p></next-route-announcer><div class="_panel_1nv7e_1 _fadeout_1nv7e_12" style="display: none;"><div class="_wrap_1nv7e_16" data-nosnippet="">
          <p class="_text_1nv7e_24" data-nosnippet="">
            We use cookies to provide our services and for analytics and marketing.
            To find out more about our use of cookies,
            please see our
            <a class="_link_1nv7e_33" target="_blank" tabindex="0" href="https://www.digitalocean.com/legal/privacy-policy/">Privacy Policy</a>.
            By continuing to browse our website, you agree to our use of&nbsp;cookies.
          </p>
          <button class="_button_1nv7e_39">
            OK
          </button>
        </div></div><div id="1645951794652" class="algolia-universal-search algolia-universal-search_modal"><div class="widget-container">
  <div class="widget-content">
    <div id="searchbox-widget-container">
      <svg class="search_icon" width="14" height="15" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M13.918 13.5742C13.9727 13.6289 14 13.7109 14 13.793C14 13.9023 13.9727 13.9844 13.918 14.0391L13.2891 14.6406C13.207 14.7227 13.125 14.75 13.043 14.75C12.9336 14.75 12.8789 14.7227 12.8242 14.6406L9.48828 11.332C9.43359 11.2773 9.40625 11.1953 9.40625 11.1133V10.7305C8.88672 11.168 8.3125 11.5234 7.68359 11.7695C7.02734 12.0156 6.37109 12.125 5.6875 12.125C4.64844 12.125 3.69141 11.8789 2.81641 11.3594C1.94141 10.8672 1.25781 10.1836 0.765625 9.30859C0.246094 8.43359 0 7.47656 0 6.4375C0 5.39844 0.246094 4.46875 0.765625 3.59375C1.25781 2.71875 1.94141 2.03516 2.81641 1.51562C3.69141 1.02344 4.64844 0.75 5.6875 0.75C6.72656 0.75 7.65625 1.02344 8.53125 1.51562C9.40625 2.03516 10.0898 2.71875 10.6094 3.59375C11.1016 4.46875 11.375 5.39844 11.375 6.4375C11.375 7.14844 11.2383 7.80469 10.9922 8.43359C10.7461 9.08984 10.418 9.66406 9.98047 10.1562H10.3633C10.4453 10.1562 10.5273 10.1836 10.582 10.2383L13.918 13.5742ZM5.6875 10.8125C6.45312 10.8125 7.19141 10.6211 7.875 10.2383C8.53125 9.85547 9.07812 9.30859 9.46094 8.625C9.84375 7.96875 10.0625 7.23047 10.0625 6.4375C10.0625 5.67188 9.84375 4.93359 9.46094 4.25C9.07812 3.59375 8.53125 3.04688 7.875 2.66406C7.19141 2.28125 6.45312 2.0625 5.6875 2.0625C4.89453 2.0625 4.15625 2.28125 3.5 2.66406C2.81641 3.04688 2.26953 3.59375 1.88672 4.25C1.50391 4.93359 1.3125 5.67188 1.3125 6.4375C1.3125 7.23047 1.50391 7.96875 1.88672 8.625C2.26953 9.30859 2.81641 9.85547 3.5 10.2383C4.15625 10.6211 4.89453 10.8125 5.6875 10.8125Z" fill="#99A1B3"></path>
      </svg>
    <input class="navigate-input"><div class="loading-indicator" hidden="">Loading...</div></div>

    <div id="results-widget-container" class="no--search">
      <div class="primary-content"><div class="root-community"><h2 data-cy="titles">Community</h2><div id="hits-widget-container-community" data-cy="results" style="display: none;"><div><div class="ais-Hits ais-Hits--empty"></div></div></div></div></div>
      <div class="secondary-content"><div class="root-quicknav" style="display: none;"><h2 data-cy="titles"></h2><div id="hits-widget-container-quicknav" data-cy="results" style="display: none;"><div><div class="ais-Hits ais-Hits--empty"></div></div></div></div></div>
    </div>

    <div class="instructions-bar">
      <svg class="arrowkeys" width="11" height="10" viewBox="0 0 11 10" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M2.33325 9V1" stroke="#5B6987" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
        <path d="M1 7.66669L2.33333 9.00002L3.66667 7.66669" stroke="#5B6987" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
        <path d="M7.93335 9V1" stroke="#5B6987" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
        <path d="M6.6001 2.33333L7.93343 1L9.26676 2.33333" stroke="#5B6987" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
      </svg>
      <span class="arrowkeys label">navigate</span>
      <svg class="return" width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M2.75 8.5L1.25 7L2.75 5.5" stroke="#5B6987" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
        <path d="M1.25 7H7.25C7.64782 7 8.02936 6.84196 8.31066 6.56066C8.59196 6.27936 8.75 5.89782 8.75 5.5V2.5C8.75 2.10218 8.59196 1.72064 8.31066 1.43934C8.02936 1.15804 7.64782 1 7.25 1H4.5" stroke="#5B6987" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
      </svg>
      <span class="return label">go</span>
      <svg class="escape" width="14" height="8" viewBox="0 0 14 8" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M1.31488 7.0051C2.11841 7.34112 2.99499 7.15119 3.62321 6.5522C3.7547 6.42071 3.81314 6.26 3.81314 6.08468C3.81314 5.90937 3.7547 5.74866 3.62321 5.61717C3.49172 5.48569 3.33102 5.41264 3.14109 5.41264C2.96577 5.41264 2.81968 5.48569 2.68819 5.61717C2.45443 5.85093 2.11841 5.90937 1.81161 5.79249C1.5048 5.661 1.31488 5.38342 1.31488 5.04739V4.24386H3.57938C3.94463 4.24386 4.23682 3.95166 4.23682 3.58642V2.12545C4.23682 0.956671 3.28719 0.00703833 2.11841 0.00703833C0.949632 0.00703833 0 0.956671 0 2.12545V5.04739C0 5.92398 0.496731 6.66907 1.31488 7.0051ZM2.11841 1.32191C2.57131 1.32191 2.92195 1.67255 2.92195 2.12545V2.92898H1.31488V2.12545C1.31488 1.67255 1.66551 1.32191 2.11841 1.32191Z" fill="#5B6987"></path>
        <path d="M7.54102 5.661C7.3657 5.82171 7.17577 5.88015 6.95663 5.83632C6.72287 5.8071 6.54755 5.69022 6.44529 5.48569C6.26997 5.17888 5.87551 5.07661 5.53948 5.25193C5.23268 5.42725 5.13041 5.83632 5.30573 6.14312C5.61253 6.68368 6.12387 7.03432 6.75209 7.13659C7.38031 7.23885 7.97931 7.04893 8.43221 6.63985C8.89972 6.21617 9.13348 5.63178 9.08965 5.00356C9.04582 4.37535 8.73901 3.83479 8.22767 3.46954L6.86897 2.51991C6.70826 2.38842 6.60599 2.22772 6.59138 2.02318C6.57677 1.80403 6.64982 1.62872 6.81053 1.49723C6.97124 1.35113 7.16116 1.29269 7.35109 1.33652C7.55563 1.36574 7.71633 1.46801 7.8186 1.65794C7.99392 1.96474 8.40299 2.06701 8.70979 1.89169C9.04582 1.71638 9.13348 1.3073 8.95816 1.0005C8.65136 0.474549 8.14001 0.138525 7.55563 0.0362574C6.95663 -0.0660107 6.37224 0.123916 5.91934 0.518378C5.46643 0.927451 5.23268 1.51184 5.27651 2.11084C5.32034 2.70984 5.62714 3.2504 6.10926 3.60103L7.48258 4.55066C7.65789 4.66754 7.76016 4.84286 7.77477 5.09122C7.78938 5.32498 7.71633 5.51491 7.54102 5.661Z" fill="#5B6987"></path>
        <path d="M11.4871 7.0051C12.3053 7.34112 13.1965 7.15119 13.7955 6.5522C13.927 6.42071 14 6.26 14 6.08468C14 5.90937 13.927 5.74866 13.7955 5.61717C13.664 5.48569 13.5179 5.41264 13.328 5.41264C13.1526 5.41264 13.0065 5.48569 12.875 5.61717C12.6413 5.85093 12.2907 5.90937 11.9985 5.79249C11.6917 5.661 11.5017 5.38342 11.5017 5.04739V2.12545C11.5017 1.78943 11.6917 1.51184 11.9985 1.38035C12.2907 1.26347 12.6413 1.32191 12.875 1.55567C13.0065 1.68716 13.1526 1.76021 13.328 1.76021C13.5179 1.76021 13.664 1.68716 13.7955 1.55567C13.927 1.42418 14 1.27808 14 1.10277C14 0.912841 13.927 0.766744 13.7955 0.635257C13.1965 0.00703845 12.3053 -0.168278 11.4871 0.167745C10.6836 0.503769 10.1869 1.24887 10.1869 2.12545V5.04739C10.1869 5.92398 10.6836 6.66907 11.4871 7.0051Z" fill="#5B6987"></path>
      </svg>
      <span class="escape label">exit</span>
    </div>
  </div>
</div>
</div><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/3753-9131aaec2eebef09.js"></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/5446-9ba8bdda968878b9.js"></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/[slug]-86d7e3ca09b07a7f.js"></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/1072-8dbe3b36acf0ad8b.js"></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/36-71146908d303f4e0.js"></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/[slug]-c76770a5180d7191.js"></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/8650-e3e06fde51b796d4.js"></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/pricing-e9b89a21689b67db.js"></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/community-7bd1f74350973b3d.js"></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/5886-dae786344e3de0c1.js"></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/index-61d5aeb07dc54980.js"></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/tutorials-7ec27f12b24634bd.js"></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/products-e9352e43ce3669ee.js"></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/tags-1c61883d31842fba.js"></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/[slug]-ea1e0e33003129a8.js"></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/questions-6559be0a0c967ac9.js"></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/6879-0f291b0f6dd23143.js"></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/1638-77e3d9bd7462419e.js"></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/new-5e9b886566421470.js"></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/8398-e5ad673e4ff21c82.js"></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/[slug]-a65c932840516aa3.js"></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/newsletter-313efec79b72c872.js"></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/tools-aff40aab4dd26b6f.js"></script><script src="./Automate Jenkins Setup with Docker and Jenkins Configuration as Code_files/hatch-738710d5386519a1.js"></script></body></html>